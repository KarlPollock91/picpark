{"code":"(this[\"webpackJsonpnew-app\"]=this[\"webpackJsonpnew-app\"]||[]).push([[0],{118:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},127:function(e,t,a){\"use strict\";a.r(t);var c=a(0),s=a.n(c),r=a(26),n=a.n(r),o=a(2),i=a(7),l=a.n(i),d=a(9),j=\"https://picpark.herokuapp.com\",b={0:\"Banned\",1:\"Non-Member\",2:\"Member\",3:\"Member+\",4:\"Moderator\",5:\"Admin\"},u=a(132),m=a(91),h=(a(45),a(1));var O=function(e){var t=Object(c.useState)(),a=Object(o.a)(t,2),s=a[0],r=a[1];return Object(c.useEffect)((function(){null!=e.avatarPostId&&l.a.get(\"\".concat(j,\"/files/getImageFromPost/\").concat(e.avatarPostId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then((function(e){200===e.status&&r(e.data.dataId)})).catch((function(e){}))}),[e.avatarPostId]),Object(h.jsx)(\"img\",{alt:\"User avatar\",style:{borderRadius:\"50%\",objectFit:\"cover\",height:e.large?\"150px\":\"50px\",width:e.large?\"150px\":\"50px\"},className:\"thumbnail-image\",src:e.localPreview?e.localPreview:s?\"\".concat(j,\"/files/image/\").concat(s):\"\".concat(\"/picpark\",\"/images/server_default.png\")})},p=a(38),v=a(39),x=a(75),f=a(74),g=(a(118),function(e){Object(x.a)(a,e);var t=Object(f.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:\"render\",value:function(){return Object(h.jsxs)(\"div\",{className:\"lds-roller\",children:[Object(h.jsx)(\"div\",{}),Object(h.jsx)(\"div\",{}),Object(h.jsx)(\"div\",{}),Object(h.jsx)(\"div\",{}),Object(h.jsx)(\"div\",{}),Object(h.jsx)(\"div\",{}),Object(h.jsx)(\"div\",{}),Object(h.jsx)(\"div\",{})]})}}]),a}(s.a.Component)),y=g;var k=function(e){var t=Object(d.f)(),a=Object(c.useState)({}),s=Object(o.a)(a,2),r=s[0],n=s[1];return Object(c.useEffect)((function(){null!=e.serverId&&l.a.get(\"\".concat(j,\"/servers/getServer/\").concat(e.serverId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then((function(e){200===e.status&&n(e.data.serverObject)})).catch((function(e){}))}),[e.serverId,e.newServer,e.permissionObject]),Object(h.jsx)(\"div\",{className:\"container thumbnail-wrapper w-90 my-1\",children:r?Object(h.jsxs)(\"div\",{className:\"row h-100\",children:[Object(h.jsx)(\"div\",{className:\"col-md-4 my-auto\",children:Object(h.jsx)(O,{avatarPostId:r.avatarPostId})}),Object(h.jsx)(\"div\",{className:\"col-md-6 my-auto\",children:r.serverName}),Object(h.jsx)(\"div\",{className:\"col-md-2\",children:Object(h.jsxs)(u.a,{className:\"m-2\",title:\"\",id:\"dropdown-basic-button\",variant:\"secondary\",size:\"sm\",onSelect:function(e){\"view\"===e?t(\"/picpark/serverInfo/\".concat(r._id)):\"visit\"===e&&t(\"/picpark/s/\".concat(r._id))},children:[Object(h.jsx)(m.a.Item,{eventKey:\"visit\",children:\"Visit Server\"}),Object(h.jsx)(m.a.Item,{eventKey:\"view\",children:\"Server Information\"})]})})]}):Object(h.jsx)(y,{})})};var N=function(e){var t=Object(d.f)(),a=Object(c.useState)([]),s=Object(o.a)(a,2),r=s[0],n=s[1];return Object(c.useEffect)((function(){l.a.get(\"\".concat(j,\"/accounts/userServers/\").concat(e.userId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then((function(e){n(e.data.permissions)}))}),[e.newServer,e.userId]),Object(h.jsxs)(\"div\",{className:\"w-100\",children:[Object(h.jsxs)(\"button\",{type:\"button\",className:\"w-100 btn btn-outline-primary mt-2\",onClick:function(){t(\"/picpark/createServer\")},children:[Object(h.jsx)(\"i\",{className:\"bi bi-plus-circle\"}),\" Create new server\"]}),Object(h.jsx)(\"ul\",{className:\"list-group\",children:r.map((function(t,a){return Object(h.jsx)(k,{newServer:e.newServer,serverId:t.serverId},t._id)}))})]})};a(121),a(87);var w=function(e){var t=Object(d.f)();return Object(h.jsx)(\"div\",{className:\"col-md-3\",children:Object(h.jsx)(\"div\",{className:\"grid-item border border-secondary\",onClick:function(){t(\"/picpark/v/\".concat(e.postObject.serverId,\"/\").concat(e.postObject._id))},children:Object(h.jsx)(\"img\",{alt:\"Preview of a user post\",className:\"image-thumbnail\",src:\"\".concat(j,\"/files/image/\").concat(e.postObject.dataId)})})})};var I=function(e){var t=Object(d.f)();return Object(h.jsx)(\"div\",{className:\"col-md-3\",onClick:function(){t(\"/picpark/post/\".concat(e.serverId))},children:Object(h.jsx)(\"div\",{className:\"grid-item border border-secondary\",children:Object(h.jsx)(\"img\",{alt:\"Create new post button\",className:\"image-thumbnail\",src:\"\".concat(\"/picpark\",\"/images/new_post.png\")})})})};var S=function(e){var t=Object(c.useState)(),a=Object(o.a)(t,2),s=a[0],r=a[1],n=Object(c.useState)(!1),i=Object(o.a)(n,2),u=i[0],m=i[1],O=Object(d.g)(),p=Object(d.f)(),v=Object(c.useState)(),x=Object(o.a)(v,2),f=x[0],g=x[1],N=Object(c.useState)(0),S=Object(o.a)(N,2),C=S[0],T=S[1],P=Object(c.useState)(!1),_=Object(o.a)(P,2),L=_[0],R=_[1];return Object(c.useEffect)((function(){l.a.get(\"\".concat(j,\"/servers/getPosts/\").concat(O.serverId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then((function(e){m(!0),200===e.status?r(e.data):404===e.status&&p(\"/picpark\")})).catch((function(e){m(!0)}))}),[p,O.serverId]),Object(c.useEffect)((function(){l.a.get(\"\".concat(j,\"/servers/serverSecurities/\").concat(O.serverId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then((function(e){200===e.status&&(g(e.data.serverSecurities),T(e.data.permissions),R(!0))}))}),[O.serverId]),Object(h.jsxs)(\"div\",{className:\"container\",children:[Object(h.jsxs)(\"div\",{className:\"row\",children:[Object(h.jsx)(\"div\",{className:\"col-md-6\",children:Object(h.jsx)(k,{serverId:O.serverId})}),Object(h.jsx)(\"div\",{className:\"text-center align-middle col-md-6\",children:L?1===C&&0===f.allowJoin?Object(h.jsx)(\"button\",{type:\"button\",onClick:function(){var t=new FormData;l.a.post(\"\".concat(j,\"/servers/joinServer/\").concat(O.serverId),t,{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then((function(t){200===t.status&&(e.refreshLeftSidebar(),T(2))}))},className:\"px-5 my-2 btn-lg btn-outline-primary\",children:\"Join Server\"}):Object(h.jsxs)(\"div\",{className:\"my-3\",children:[\" Status: \",b[C],\" \"]}):\"\"})]}),Object(h.jsxs)(\"div\",{className:\"row gy-4 mx-auto pt-3\",children:[L&&C>=2?Object(h.jsx)(I,{serverId:O.serverId}):\"\",s?s.map((function(e,t){return Object(h.jsx)(w,{postObject:e},e._id)})):u?\"You do not have permission to view these posts\":Object(h.jsx)(y,{})]})]})};var C=function(e){var t=Object(c.useState)(null),a=Object(o.a)(t,2),s=a[0],r=a[1],n=Object(c.useState)(null),i=Object(o.a)(n,2),p=i[0],v=i[1],x=Object(c.useState)(null),f=Object(o.a)(x,2),g=f[0],k=f[1],N=Object(d.f)();return Object(c.useEffect)((function(){null!=e.userId&&l.a.get(\"\".concat(j,\"/accounts/getUser/\").concat(e.userId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then((function(e){200===e.status&&(r(e.data.profileObject),v(e.data.userId))})).catch((function(e){}))}),[e.serverId,e.userThumbnail,e.userId]),Object(c.useEffect)((function(){e.serverId&&null!=e.userId&&l.a.get(\"\".concat(j,\"/servers/userPermissions/\").concat(e.serverId,\"/\").concat(e.userId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then((function(e){200===e.status&&k(e.data.permissions)}))}),[e.serverId,e.userId]),Object(h.jsx)(\"div\",{className:\"container thumbnail-wrapper w-90\",children:s?Object(h.jsxs)(\"div\",{className:\"row h-100\",children:[Object(h.jsx)(\"div\",{className:\"col-md-4 my-auto\",children:Object(h.jsx)(O,{avatarPostId:s.avatarPostId})}),Object(h.jsxs)(\"div\",{className:\"col-md-6 my-auto\",children:[Object(h.jsx)(\"div\",{className:\"row\",children:s.username}),g?Object(h.jsx)(\"div\",{className:\"row\",children:b[g]}):\"\"]}),Object(h.jsx)(\"div\",{className:\"col-md-2\",children:Object(h.jsxs)(u.a,{className:\"m-2\",title:\"\",id:\"dropdown-basic-button\",variant:\"secondary\",size:\"sm\",onSelect:function(t){\"view\"===t?N(\"/picpark/profile/\".concat(s._id)):\"status\"===t&&e.changeRankCallback(s._id,s.username,g)},children:[Object(h.jsx)(m.a.Item,{eventKey:\"view\",children:\"View Profile\"}),e.serverId&&e.userPermission>=4&&e.userPermission>=g&&p!==s._id?Object(h.jsx)(m.a.Item,{eventKey:\"status\",children:\"Change User Rank\"}):\"\"]})})]}):Object(h.jsx)(y,{})})};var T=function(e){return Object(h.jsx)(\"div\",{className:\"w-100\",children:Object(h.jsxs)(\"ul\",{className:\"list-group\",children:[Object(h.jsx)(\"button\",{type:\"button\",className:\"btn btn-outline-primary w-100 mt-2\",onClick:e.logoutCallback,children:\"Log out\"}),Object(h.jsx)(C,{userId:e.userInfo._id},e.userInfo._id)]})})},P=a(134);var _=function(e){var t=Object(c.useState)(!1),a=Object(o.a)(t,2),r=a[0],n=a[1],i=Object(c.useState)(\"\"),b=Object(o.a)(i,2),u=b[0],m=b[1],O=Object(c.useState)(\"\"),p=Object(o.a)(O,2),v=p[0],x=p[1],f=Object(c.useState)(\"\"),g=Object(o.a)(f,2),y=g[0],k=g[1],N=Object(c.useState)(\"\"),w=Object(o.a)(N,2),I=w[0],S=w[1],C=Object(c.useState)(\"\"),T=Object(o.a)(C,2),_=T[0],L=T[1],R=Object(c.useState)(s.a.createRef()),F=Object(o.a)(R,1)[0],A=Object(d.f)(),D=function(){n(!r),L(\"\")};return r?Object(h.jsxs)(\"div\",{className:\"input-form-wrapper text-center w-50 container my-5\",children:[Object(h.jsx)(\"h2\",{className:\"m-3\",children:\"Registration\"}),Object(h.jsx)(\"div\",{className:\"row\",children:_}),Object(h.jsx)(\"div\",{className:\"input-group mb-3 row\",children:Object(h.jsx)(\"input\",{type:\"text\",maxLength:20,value:u,onInput:function(e){return m(e.target.value)},id:\"reg-username\",className:\"form-control\",placeholder:\"Username\",\"aria-label\":\"Username\",\"aria-describedby\":\"basic-addon1\"})}),Object(h.jsxs)(\"div\",{className:\"input-group mb-3 row\",children:[Object(h.jsx)(\"span\",{className:\"input-group-text\",id:\"basic-addon1\",children:\"@\"}),Object(h.jsx)(\"input\",{type:\"text\",value:I,onInput:function(e){return S(e.target.value)},className:\"form-control\",placeholder:\"Account Name\",\"aria-label\":\"Account Name\",\"aria-describedby\":\"basic-addon1\"})]}),Object(h.jsx)(\"div\",{className:\"input-group mb-3 row\",children:Object(h.jsx)(\"input\",{type:\"password\",value:v,onInput:function(e){return x(e.target.value)},className:\"form-control\",placeholder:\"Password\",\"aria-label\":\"Password\",\"aria-describedby\":\"basic-addon1\"})}),Object(h.jsx)(\"div\",{className:\"input-group mb-3 row\",children:Object(h.jsx)(\"input\",{type:\"password\",value:y,onInput:function(e){return k(e.target.value)},className:\"form-control\",placeholder:\"Confirm Password\",\"aria-label\":\"Confirm Password\",\"aria-describedby\":\"basic-addon1\"})}),Object(h.jsx)(P.a,{className:\"row\",action:\"/file\",method:\"post\",encType:\"multipart/form-data\",children:Object(h.jsx)(P.a.Group,{controlId:\"formFile\",className:\"mb-3\",a:!0,children:Object(h.jsx)(P.a.Control,{type:\"file\",name:\"file-upload\",ref:F})})}),Object(h.jsx)(\"button\",{type:\"button\",onClick:function(){if(v===y){var e=new FormData;e.append(\"username\",u),e.append(\"password\",v),e.append(\"accountName\",I),F.current.files[0]&&F.current.files[0].name&&e.append(\"file-upload\",F.current.files[0],F.current.files[0].name),F.current.files[0]&&\"image\"!==F.current.files[0].type.split(\"/\")[0]?L(\"Only image files can be set as your avatar.\"):l.a.post(\"\".concat(j,\"/accounts/register\"),e,{headers:{\"Content-Type\":\"application/json\"}}).then((function(e){200===e.status&&(D(),L(\"Registration successful.\"))})).catch((function(e){400===e.response.status?L(\"That account name is already in use.\"):L(\"Something went wrong.\")}))}else L(\"Your password does not match.\")},className:\"btn btn-outline-primary row\",children:\"Register\"}),Object(h.jsx)(\"div\",{className:\"user-select-none row\",onClick:D,children:\"Return to login\"})]}):Object(h.jsxs)(\"div\",{className:\"input-form-wrapper text-center w-50 container my-5\",children:[Object(h.jsx)(\"h2\",{className:\"m-3\",children:\"Login\"}),Object(h.jsx)(\"div\",{className:\"row\",children:_}),Object(h.jsx)(\"div\",{className:\"input-group mb-3 row\",children:Object(h.jsx)(\"input\",{type:\"text\",value:I,onInput:function(e){return S(e.target.value)},className:\"form-control\",placeholder:\"Account Name\",\"aria-label\":\"Account Name\",\"aria-describedby\":\"basic-addon1\"})}),Object(h.jsx)(\"div\",{className:\"input-group mb-3 row\",children:Object(h.jsx)(\"input\",{type:\"password\",value:v,onInput:function(e){return x(e.target.value)},className:\"form-control\",placeholder:\"Password\",\"aria-label\":\"Password\",\"aria-describedby\":\"basic-addon1\"})}),Object(h.jsx)(\"button\",{type:\"button row\",onClick:function(){var e={accountName:I,password:v};l.a.post(\"\".concat(j,\"/accounts/login\"),e,{headers:{\"Content-Type\":\"application/json\"}}).then((function(e){200===e.status&&(localStorage.setItem(\"authToken\",e.data.token),A(\"/picpark\"))})).catch((function(e){401===e.response.status?L(\"Invalid account name or password.\"):L(\"Something went wrong.\")}))},className:\"btn btn-outline-primary\",children:\"Login\"}),Object(h.jsx)(\"div\",{className:\"user-select-none row\",onClick:D,children:\"Register new account\"})]})};var L=function(e){var t=Object(c.useState)(\"\"),a=Object(o.a)(t,2),r=a[0],n=a[1],i=Object(c.useState)(\"\"),b=Object(o.a)(i,2),u=b[0],m=b[1],O=Object(c.useState)(s.a.createRef()),p=Object(o.a)(O,1)[0],v=Object(d.f)(),x=function(t){e.refreshLeftSidebar(),v(\"/picpark/s/\".concat(t))};return Object(h.jsxs)(\"div\",{className:\"text-center position-relative w-100 h-100\",children:[Object(h.jsx)(\"i\",{className:\"bi bi-x-circle position-absolute top-0 end-0 fa-lg\",onClick:function(){v(-1)}}),Object(h.jsxs)(\"div\",{className:\"mx-auto w-75 mt-5\",children:[Object(h.jsx)(\"h3\",{children:\"Server Creation\"}),Object(h.jsx)(\"div\",{children:u}),\"Server Name\",Object(h.jsx)(\"div\",{className:\"input-group mb-3 \",children:Object(h.jsx)(\"input\",{type:\"text\",maxLength:20,value:r,onInput:function(e){return n(e.target.value)},className:\"form-control\",placeholder:\"Server Name\",\"aria-label\":\"servername\",\"aria-describedby\":\"basic-addon1\"})}),\"Server Thumbnail\",Object(h.jsx)(P.a,{action:\"/file\",method:\"post\",encType:\"multipart/form-data\",children:Object(h.jsx)(P.a.Group,{controlId:\"formFile\",className:\"mb-3\",a:!0,children:Object(h.jsx)(P.a.Control,{type:\"file\",name:\"file-upload\",ref:p})})}),Object(h.jsx)(\"button\",{type:\"button\",onClick:function(){var e=new FormData;e.append(\"serverName\",r),p.current.files[0]&&p.current.files[0].name&&e.append(\"file-upload\",p.current.files[0],p.current.files[0].name),p.current.files[0]&&\"image\"!==p.current.files[0].type.split(\"/\")[0]?m(\"Only image files can be set as the server thumbnail.\"):l.a.post(\"\".concat(j,\"/servers/create\"),e,{headers:{\"x-access-token\":localStorage.getItem(\"authToken\"),\"Content-Type\":\"multipart/form-data\"}}).then((function(e){200===e.status&&(m(\"Server created\"),x(e.data.serverId))})).catch((function(e){m(\"Something went wrong.\")}))},className:\"btn btn-outline-primary\",children:\"Create\"})]})]})};var R=function(e){var t=Object(c.useState)(\"\"),a=Object(o.a)(t,2),r=a[0],n=a[1],i=Object(c.useState)(\"\"),b=Object(o.a)(i,2),u=b[0],m=b[1],O=Object(c.useState)(s.a.createRef()),p=Object(o.a)(O,1)[0],v=Object(d.f)(),x=Object(d.g)(),f=function(){v(\"/picpark/s/\".concat(x.serverId))};return Object(h.jsxs)(\"div\",{className:\"text-center container position-relative w-100 h-100\",children:[Object(h.jsx)(\"i\",{className:\"bi bi-x-circle position-absolute top-0 end-0 fa-lg\",onClick:f}),Object(h.jsxs)(\"div\",{className:\"mx-auto w-75 mt-5\",children:[Object(h.jsx)(\"h3\",{children:\"New Post\"}),Object(h.jsx)(\"div\",{children:r}),\"Post Text\",Object(h.jsx)(\"div\",{className:\"input-group w-100\",children:Object(h.jsx)(\"textarea\",{type:\"text\",value:u,onInput:function(e){return m(e.target.value)},className:\"form-control\",\"aria-label\":\"Add text\"})}),\"Image File\",Object(h.jsx)(P.a,{className:\"w-100\",action:\"/file\",method:\"post\",encType:\"multipart/form-data\",children:Object(h.jsx)(P.a.Group,{controlId:\"formFile\",className:\"mb-3\",a:!0,children:Object(h.jsx)(P.a.Control,{type:\"file\",name:\"file-upload\",ref:p})})}),Object(h.jsx)(\"button\",{type:\"button\",onClick:function(){var e=new FormData;e.append(\"postText\",u),p.current.files[0]&&\"image\"!==p.current.files[0].type.split(\"/\")[0]?n(\"Only image files can be uploaded.\"):(e.append(\"file-upload\",p.current.files[0],p.current.files[0].name),l.a.post(\"\".concat(j,\"/posts/upload/\").concat(x.serverId),e,{headers:{\"x-access-token\":localStorage.getItem(\"authToken\"),\"Content-Type\":\"multipart/form-data\"}}).then((function(e){200===e.status&&f()})).catch((function(e){n(\"Something went wrong.\")})))},className:\"btn btn-outline-primary\",children:\"Submit\"})]})]})};a(122);var F=function(e){var t=Object(c.useState)(null),a=Object(o.a)(t,2),s=a[0],r=a[1],n=Object(c.useState)(),i=Object(o.a)(n,2),d=i[0],b=i[1];return Object(c.useEffect)((function(){null!=e.commentObject&&l.a.get(\"\".concat(j,\"/accounts/getUser/\").concat(e.commentObject.authorId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then((function(e){200===e.status&&(r(e.data.profileObject),b(e.data.userId))})).catch((function(e){}))}),[e.commentObject]),s?Object(h.jsxs)(\"div\",{className:\"container thumbnail-wrapper w-90 m-2 border border-secondary\",children:[Object(h.jsx)(\"div\",{className:\"position-absolute end-0 me-2\",children:s._id===d?Object(h.jsx)(u.a,{title:\"\",id:\"dropdown-basic-button\",variant:\"secondary\",size:\"sm\",onSelect:function(t){\"delete\"===t&&e.deleteCommentCallback(e.commentObject._id)},children:Object(h.jsx)(m.a.Item,{eventKey:\"delete\",children:\"Delete\"})}):\"\"}),Object(h.jsxs)(\"div\",{className:\"row h-100\",children:[Object(h.jsx)(\"div\",{className:\"col-md-2 my-3\",children:Object(h.jsx)(O,{avatarPostId:s.avatarPostId})}),Object(h.jsxs)(\"div\",{className:\"col-md-10 my-auto\",children:[Object(h.jsx)(\"div\",{className:\"border-bottom border-secondary text-center\",children:Object(h.jsx)(\"h5\",{children:s.username})}),Object(h.jsx)(\"div\",{className:\"w-100 p-2\",children:e.commentObject.commentText})]})]})]}):Object(h.jsx)(y,{})};var A=function(e){var t=Object(c.useState)([]),a=Object(o.a)(t,2),s=a[0],r=a[1],n=Object(c.useState)(!0),i=Object(o.a)(n,2),d=i[0],b=i[1],u=Object(c.useState)(\"\"),m=Object(o.a)(u,2),O=m[0],p=m[1],v=Object(c.useState)(\"\"),x=Object(o.a)(v,2),f=x[0],g=x[1];Object(c.useEffect)((function(){l.a.get(\"\".concat(j,\"/posts/getComments/\").concat(e.serverId,\"/\").concat(e.postId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then((function(e){200===e.status&&r(e.data)}))}),[d,e.serverId,e.postId]);var y=function(t){l.a.delete(\"\".concat(j,\"/posts/deleteComment/\").concat(e.serverId,\"/\").concat(t),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then((function(e){200===e.status&&b(!d)}))},k=function(t){var a=new FormData;a.append(\"commentText\",O),l.a.post(\"\".concat(j,\"/posts/makeComment/\").concat(e.serverId,\"/\").concat(e.postId),a,{headers:{\"x-access-token\":localStorage.getItem(\"authToken\"),\"Content-Type\":\"multipart/form-data\"}}).then((function(e){200===e.status&&(p(\"\"),b(!d))})).catch((function(e){g(\"You do not have permission to comment in this server.\")}))};return Object(h.jsx)(\"div\",{className:\"col border border-secondary content-comment mb-4 \",children:Object(h.jsxs)(\"ul\",{className:\"list-group w-100\",children:[f,Object(h.jsxs)(\"div\",{className:\"border-bottom border-secondary pb-2\",children:[Object(h.jsx)(\"textarea\",{type:\"text\",value:O,onInput:function(e){return p(e.target.value)},className:\"form-control mt-3\",rows:\"2\",placeholder:\"Comment\",\"aria-label\":\"Comment\",onKeyDown:function(e){13===e.keyCode&&!1===e.shiftKey&&(e.preventDefault(),k())}}),Object(h.jsx)(\"button\",{type:\"button\",className:\"btn btn-outline-secondary\",onClick:k,children:\"Post Comment\"})]}),s.map((function(e,t){return Object(h.jsx)(F,{deleteCommentCallback:y,commentObject:e},e._id)}))]})})};var D=function(e){var t=Object(c.useState)(\"\"),a=Object(o.a)(t,2),s=a[0],r=a[1],n=Object(c.useState)({}),i=Object(o.a)(n,2),b=i[0],O=i[1],p=Object(c.useState)(\"\"),v=Object(o.a)(p,2),x=v[0],f=v[1],g=Object(c.useState)(!1),k=Object(o.a)(g,2),N=k[0],w=k[1],I=Object(c.useState)(\"\"),S=Object(o.a)(I,2),T=S[0],P=S[1],_=Object(d.f)(),L=Object(d.g)();Object(c.useEffect)((function(){l.a.get(\"\".concat(j,\"/servers/getPost/\").concat(L.serverId,\"/\").concat(L.postId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then((function(e){200===e.status?(P(new Date(e.data.post.date)),O(e.data.post),r(e.data.userId),f(e.data.post.postText)):404===e.status&&_(\"/picpark\")}))}),[_,L.postId,L.serverId]);var R=function(){_(\"/picpark/s/\".concat(L.serverId))};return Object(h.jsxs)(\"div\",{className:\"container text-center position-relative w-100 h-100\",children:[Object(h.jsx)(\"i\",{className:\"bi bi-x-circle position-absolute top-0 end-0 fa-lg\",onClick:R}),b?Object(h.jsxs)(\"div\",{className:\"row start-50 translate-middle-x top-0 position-absolute w-100 mt-4 m-1\",children:[Object(h.jsxs)(\"div\",{className:\"col\",children:[\"text\"!==b.dataType?Object(h.jsxs)(\"div\",{className:\"row border border-secondary content-viewer\",children:[Object(h.jsx)(\"div\",{className:\"position-absolute end-0 me-4 mt-2\",children:b.authorId===s?Object(h.jsxs)(u.a,{title:\"\",id:\"dropdown-basic-button\",variant:\"secondary\",size:\"sm\",onSelect:function(e){\"edit\"===e?w(!0):\"delete\"===e&&l.a.delete(\"\".concat(j,\"/posts/deletePost/\").concat(L.serverId,\"/\").concat(L.postId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then((function(e){200===e.status&&R()}))},children:[Object(h.jsx)(m.a.Item,{eventKey:\"edit\",children:\"Edit\"}),Object(h.jsx)(m.a.Item,{eventKey:\"delete\",children:\"Delete\"})]}):\"\"}),Object(h.jsx)(\"div\",{children:\"image\"===b.dataType?Object(h.jsx)(\"img\",{alt:\"Posted by user with ID \".concat(b.authorId),className:\"img-fluid my-3 mx-auto d-block\",src:\"\".concat(j,\"/files/image/\").concat(b.dataId)}):null})]}):null,Object(h.jsxs)(\"div\",{className:\"row border border-secondary\",children:[Object(h.jsx)(\"div\",{className:\"col-4 my-auto border-end border-secondary\",children:T?T.toDateString():\"\"}),Object(h.jsx)(\"div\",{className:\"col-8\",children:Object(h.jsx)(C,{userId:b.authorId})})]}),Object(h.jsx)(\"div\",{className:\"row border border-secondary content-text mb-4 h-auto\",children:Object(h.jsx)(\"div\",{className:\"p-2\",children:N?Object(h.jsxs)(\"div\",{children:[Object(h.jsx)(\"textarea\",{type:\"text\",value:x,onInput:function(e){return f(e.target.value)},className:\"form-control mt-3\",rows:\"2\",placeholder:\"Edit Post\",\"aria-label\":\"Edit Post\"}),Object(h.jsx)(\"button\",{type:\"button\",onClick:function(){w(!1);var e=new FormData;e.append(\"displayPostText\",x),l.a.post(\"\".concat(j,\"/posts/editPost/\").concat(L.serverId,\"/\").concat(L.postId),e,{headers:{\"x-access-token\":localStorage.getItem(\"authToken\"),\"Content-Type\":\"multipart/form-data\"}}).then((function(e){200===e.status||f(b.postText)}))},className:\"btn-md btn-outline-primary\",children:\"Save Changes\"})]}):x})})]}),s?Object(h.jsx)(A,{userId:s,serverId:L.serverId,postId:L.postId}):Object(h.jsx)(y,{})]}):Object(h.jsx)(y,{})]})},E=a(135),U=a(136);var K=function(e){var t=Object(c.useState)(!1),a=Object(o.a)(t,2),s=a[0],r=a[1],n=Object(c.useState)(null),i=Object(o.a)(n,2),b=i[0],u=i[1],m=Object(c.useState)(),p=Object(o.a)(m,2),v=p[0],x=p[1],f=Object(c.useState)(!0),g=Object(o.a)(f,2),N=g[0],w=g[1],I=Object(c.useState)(\"\"),S=Object(o.a)(I,2),C=S[0],T=S[1],_=Object(c.useState)(!1),L=Object(o.a)(_,2),R=L[0],F=L[1],A=Object(c.useState)(),D=Object(o.a)(A,2),K=D[0],M=D[1],V=Object(c.useState)([]),Y=Object(o.a)(V,2),J=Y[0],B=Y[1],W=Object(c.useState)(!1),z=Object(o.a)(W,2),G=z[0],H=z[1],q=Object(c.useState)(),Q=Object(o.a)(q,2),X=Q[0],Z=Q[1],$=Object(c.useState)(!1),ee=Object(o.a)($,2),te=ee[0],ae=ee[1],ce=Object(d.f)(),se=Object(d.g)(),re=Object(c.useRef)(null);Object(c.useEffect)((function(){l.a.get(\"\".concat(j,\"/accounts/getUser/\").concat(se.userId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then((function(e){200===e.status?(u(e.data.profileObject),x(e.data.userId),T(e.data.profileObject.username)):404===e.status&&ce(\"/picpark\")}))}),[ce,se.userId,s]),Object(c.useEffect)((function(){l.a.get(\"\".concat(j,\"/accounts/userServers/\").concat(se.userId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then((function(e){200===e.status&&(B(e.data.permissions),H(!0))})).catch((function(e){H(!0)}))}),[se.userId]),Object(c.useEffect)((function(){l.a.get(\"\".concat(j,\"/accounts/userSecurities\"),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then((function(e){Z(e.data),ae(!0)}))}),[]);var ne=function(e){w(!0);var t=X;switch(e.target.id){case\"security-radio-0\":t.serversVisibility=0;break;case\"security-radio-1\":t.serversVisibility=1;break;case\"security-radio-2\":t.serversVisibility=2}Z(t)};return Object(h.jsxs)(\"div\",{className:\"text-center position-relative w-100 h-100\",children:[Object(h.jsx)(\"i\",{className:\"bi bi-x-circle position-absolute top-0 end-0 fa-lg\",onClick:function(){ce(-1)}}),b?Object(h.jsxs)(\"div\",{className:\"container start-50 translate-middle-x top-0 position-absolute w-100 mt-4 m-1 border border-secondary p-3\",children:[Object(h.jsxs)(\"div\",{className:\"row \",children:[Object(h.jsx)(\"div\",{className:\"col-md-4 position-relative\",children:Object(h.jsxs)(\"div\",{className:\"position-relative\",onMouseOver:function(e){b._id===v&&F(!0)},onMouseLeave:function(e){b._id===v&&F(!1)},onClick:function(e){b._id===v&&re.current.click()},children:[R?Object(h.jsx)(\"img\",{alt:\"Click to change the avatar.\",style:{borderRadius:\"50%\",objectFit:\"cover\",height:\"100px\",width:\"100px\"},className:\"thumbnail-image start-50 top-50 translate-middle position-absolute\",src:\"\".concat(\"/picpark\",\"/images/server_default.png\")}):\"\",Object(h.jsx)(O,{large:!0,localPreview:K,avatarPostId:b.avatarPostId}),Object(h.jsx)(\"input\",{type:\"file\",onChange:function(e){if(\"image\"===re.current.files[0].type.split(\"/\")[0]){var t=new FileReader;t.onload=function(){M(t.result)},t.readAsDataURL(re.current.files[0]),w(!0)}},name:\"file-upload\",id:\"file\",ref:re,style:{display:\"none\"}})]})}),Object(h.jsxs)(\"div\",{className:\"col-md-8 mt-5\",children:[Object(h.jsx)(\"div\",{className:\"row\",children:b._id===v?Object(h.jsx)(\"input\",{maxLength:20,type:\"text\",value:C,onInput:function(e){T(e.target.value),w(!0)},className:\"form-control w-75\",rows:\"1\",placeholder:\"Username\",\"aria-label\":\"Username\"}):b.username}),Object(h.jsxs)(\"div\",{className:\"row\",children:[\"Account ID: \",b._id]})]})]}),Object(h.jsx)(\"div\",{className:\"row m-4\",children:Object(h.jsxs)(E.a,{defaultActiveKey:\"servers\",id:\"uncontrolled-tab-example\",className:\"mb-3\",children:[Object(h.jsx)(U.a,{eventKey:\"servers\",title:\"Servers\",children:Object(h.jsx)(\"div\",{className:\"container\",children:J?Object(h.jsx)(\"div\",{className:\"row\",children:J.map((function(e,t){return Object(h.jsx)(\"div\",{className:\"col-md-4\",children:Object(h.jsx)(k,{serverId:e.serverId})},e._id)}))}):G?\"You do not have permission to view these servers.\":Object(h.jsx)(y,{})})}),v===b._id?Object(h.jsx)(U.a,{eventKey:\"settings\",title:\"Account Settings\",children:te?Object(h.jsx)(P.a,{children:Object(h.jsxs)(\"div\",{className:\"row\",children:[Object(h.jsx)(P.a.Label,{className:\"my-auto col-md-6\",children:\"Who can view the servers you're a member of?\"}),Object(h.jsxs)(\"div\",{className:\"ps-5 my-auto col-md-6 border-start border-secondary\",children:[Object(h.jsx)(P.a.Check,{type:\"radio\",id:\"security-radio-0\",label:\"Anyone\",checked:0===X.serversVisibility,onChange:ne}),Object(h.jsx)(P.a.Check,{type:\"radio\",id:\"security-radio-1\",label:\"Users I share a server with\",checked:1===X.serversVisibility,onChange:ne}),Object(h.jsx)(P.a.Check,{type:\"radio\",id:\"security-radio-2\",label:\"No one\",checked:2===X.serversVisibility,onChange:ne})]})]})}):Object(h.jsx)(y,{})}):\"\"]})}),Object(h.jsx)(\"div\",{className:\"row justify-content-end\",children:b._id===v?Object(h.jsx)(\"div\",{className:\"justify-content-center mt-5 mx-auto text-center w-25 row\",children:N?Object(h.jsx)(\"button\",{type:\"button\",onClick:function(){var t=new FormData;t.append(\"editUsername\",C),t.append(\"userSecurities\",X),re.current.files[0]&&re.current.files[0].name&&t.append(\"file-upload\",re.current.files[0],re.current.files[0].name),re.current.files[0]&&\"image\"!==re.current.files[0].type.split(\"/\")[0]||l.a.post(\"\".concat(j,\"/accounts/updateProfile/\").concat(b._id),t,{headers:{\"x-access-token\":localStorage.getItem(\"authToken\"),\"Content-Type\":\"multipart/form-data\"}}).then((function(t){200===t.status&&(r(!s),w(!1),e.refreshRightSidebar())})).catch((function(e){}))},className:\"btn-md btn-outline-primary\",children:\"Save Changes\"}):\"Profile Saved\"}):\"\"})]}):Object(h.jsx)(y,{})]})},M=a(133),V=a(89);var Y=function(e){var t=Object(c.useState)(!1),a=Object(o.a)(t,2),s=a[0],r=a[1],n=Object(c.useState)(null),i=Object(o.a)(n,2),b=i[0],u=i[1],m=Object(c.useState)(),p=Object(o.a)(m,2),v=p[0],x=p[1],f=Object(c.useState)(!0),g=Object(o.a)(f,2),k=g[0],N=g[1],w=Object(c.useState)(\"\"),I=Object(o.a)(w,2),S=I[0],T=I[1],_=Object(c.useState)(!1),L=Object(o.a)(_,2),R=L[0],F=L[1],A=Object(c.useState)(),D=Object(o.a)(A,2),K=D[0],Y=D[1],J=Object(c.useState)(null),B=Object(o.a)(J,2),W=B[0],z=B[1],G=Object(c.useState)(!1),H=Object(o.a)(G,2),q=H[0],Q=H[1],X=Object(c.useState)(!1),Z=Object(o.a)(X,2),$=Z[0],ee=Z[1],te=Object(c.useState)(),ae=Object(o.a)(te,2),ce=ae[0],se=ae[1],re=Object(c.useState)(),ne=Object(o.a)(re,2),oe=ne[0],ie=ne[1],le=Object(c.useState)(),de=Object(o.a)(le,2),je=de[0],be=de[1],ue=Object(c.useState)(),me=Object(o.a)(ue,2),he=me[0],Oe=me[1],pe=Object(c.useState)(!1),ve=Object(o.a)(pe,2),xe=ve[0],fe=ve[1],ge=Object(c.useState)(0),ye=Object(o.a)(ge,2),ke=ye[0],Ne=ye[1],we=Object(c.useState)(!1),Ie=Object(o.a)(we,2),Se=Ie[0],Ce=Ie[1],Te=Object(c.useState)({}),Pe=Object(o.a)(Te,2),_e=Pe[0],Le=Pe[1],Re=Object(c.useState)(0),Fe=Object(o.a)(Re,2),Ae=Fe[0],De=Fe[1],Ee=Object(d.f)(),Ue=Object(d.g)(),Ke=Object(c.useRef)(null);Object(c.useEffect)((function(){l.a.get(\"\".concat(j,\"/servers/getServer/\").concat(Ue.serverId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then((function(e){200===e.status?(u(e.data.serverObject),x(e.data.permission),T(e.data.serverObject.serverName)):404===e.status&&Ee(\"/picpark\")}))}),[Ee,Ue.serverId,s]),Object(c.useEffect)((function(){l.a.get(\"\".concat(j,\"/servers/serverUsers/\").concat(Ue.serverId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then((function(e){200===e.status&&z(e.data),Q(!0)})).catch((function(e){Q(!0)}))}),[Ue.serverId]),Object(c.useEffect)((function(){l.a.get(\"\".concat(j,\"/servers/serverSecurities/\").concat(Ue.serverId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then((function(e){200===e.status&&(se(e.data.serverSecurities.postsVisibility),ie(e.data.serverSecurities.allowJoin),be(e.data.serverSecurities.allowComment),Oe(e.data.serverSecurities.usersVisibility)),ee(!0)}))}),[Ue.serverId]);var Me=function(e,t,a){De(a),Le({userId:e,username:t}),Ce(!0)},Ve=function(e){switch(e.target.id){case\"status-radio-0\":De(0);break;case\"status-radio-1\":De(1);break;case\"status-radio-2\":De(2);break;case\"status-radio-3\":De(3);break;case\"status-radio-4\":De(4);break;case\"status-radio-5\":De(5)}},Ye=function(e){switch(N(!0),e.target.id){case\"security-radio-0-0\":se(0);break;case\"security-radio-0-1\":se(1);break;case\"security-radio-1-0\":ie(0);break;case\"security-radio-1-1\":ie(1);break;case\"security-radio-2-0\":be(0);break;case\"security-radio-2-1\":be(1);break;case\"security-radio-3-0\":Oe(0);break;case\"security-radio-3-1\":Oe(1)}};return Object(h.jsxs)(\"div\",{className:\"text-center position-relative w-100 h-100\",children:[Object(h.jsx)(\"i\",{className:\"bi bi-x-circle position-absolute top-0 end-0 fa-lg\",onClick:function(){Ee(-1)}}),Object(h.jsxs)(M.a,{show:xe,onHide:function(){return fe(!1)},children:[Object(h.jsx)(M.a.Body,{children:{0:\"Are you sure you want to leave this server?\",1:\"You are the only admin on this server, leaving will delete the server and all its posts. Is this okay?\"}[ke]}),Object(h.jsxs)(M.a.Footer,{children:[Object(h.jsx)(V.a,{variant:\"secondary\",onClick:function(){Ne(0),fe(!1)},children:\"Close\"}),Object(h.jsx)(V.a,{variant:\"primary\",onClick:function(){0===ke?l.a.delete(\"\".concat(j,\"/servers/leaveServer/\").concat(Ue.serverId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then((function(t){200===t.status?(e.refreshLeftSidebar(),x(0),fe(!1)):202===t.status&&(Ne(1),fe(!0))})):1===ke&&l.a.delete(\"\".concat(j,\"/servers/deleteServer/\").concat(Ue.serverId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then((function(t){e.refreshLeftSidebar(),Ee(\"/picpark\")}))},children:\"Confirm\"})]})]}),Object(h.jsxs)(M.a,{show:Se,onHide:function(){return Ce(!1)},children:[Object(h.jsx)(M.a.Body,{children:Object(h.jsxs)(P.a,{children:[Object(h.jsxs)(P.a.Label,{className:\"my-auto col-md-6\",children:[\"Set User Status for \",_e.username]}),Object(h.jsxs)(\"div\",{className:\"ps-5 my-auto col-md-6 border-start border-secondary\",children:[Object(h.jsx)(P.a.Check,{type:\"radio\",id:\"status-radio-0\",label:\"Banned\",checked:0===Ae,onChange:Ve}),Object(h.jsx)(P.a.Check,{type:\"radio\",id:\"status-radio-1\",label:\"Non-Member\",checked:1===Ae,onChange:Ve}),Object(h.jsx)(P.a.Check,{type:\"radio\",id:\"status-radio-2\",label:\"Member\",checked:2===Ae,onChange:Ve}),Object(h.jsx)(P.a.Check,{type:\"radio\",id:\"status-radio-3\",label:\"Super Member\",checked:3===Ae,onChange:Ve}),Object(h.jsx)(P.a.Check,{type:\"radio\",id:\"status-radio-4\",label:\"Moderator\",checked:4===Ae,onChange:Ve}),Object(h.jsx)(P.a.Check,{type:\"radio\",id:\"status-radio-5\",label:\"Admin\",checked:5===Ae,onChange:Ve})]})]})}),Object(h.jsxs)(M.a.Footer,{children:[Object(h.jsx)(V.a,{variant:\"secondary\",onClick:function(){return Ce(!1)},children:\"Close\"}),Object(h.jsx)(V.a,{variant:\"primary\",onClick:function(){var e=new FormData;l.a.post(\"\".concat(j,\"/servers/changeRank/\").concat(b._id,\"/\").concat(_e.userId,\"/\").concat(Ae),e,{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then((function(e){200===e.status&&Ce(!1)})).catch((function(e){}))},children:\"Confirm\"})]})]}),b?Object(h.jsxs)(\"div\",{className:\"container start-50 translate-middle-x top-0 position-absolute w-100 mt-4 m-1 border border-secondary p-3\",children:[Object(h.jsxs)(\"div\",{className:\"row \",children:[Object(h.jsx)(\"div\",{className:\"col-md-4 position-relative\",children:Object(h.jsxs)(\"div\",{className:\"position-relative\",onMouseOver:function(e){v>=5&&F(!0)},onMouseLeave:function(e){v>=5&&F(!1)},onClick:function(e){v>=5&&Ke.current.click()},children:[R?Object(h.jsx)(\"img\",{alt:\"Click to change the avatar.\",style:{borderRadius:\"50%\",objectFit:\"cover\",height:\"100px\",width:\"100px\"},className:\"thumbnail-image start-50 top-50 translate-middle position-absolute\",src:\"\".concat(\"/picpark\",\"/images/server_default.png\")}):\"\",Object(h.jsx)(O,{large:!0,localPreview:K,avatarPostId:b.avatarPostId}),Object(h.jsx)(\"input\",{type:\"file\",onChange:function(e){if(\"image\"===Ke.current.files[0].type.split(\"/\")[0]){var t=new FileReader;t.onload=function(){Y(t.result)},t.readAsDataURL(Ke.current.files[0]),N(!0)}},name:\"file-upload\",id:\"file\",ref:Ke,style:{display:\"none\"}})]})}),Object(h.jsxs)(\"div\",{className:\"col-md-8 mt-5\",children:[Object(h.jsx)(\"div\",{className:\"row\",children:v>=5?Object(h.jsx)(\"input\",{maxLength:20,type:\"text\",value:S,onInput:function(e){T(e.target.value),N(!0)},className:\"form-control w-75\",rows:\"1\",placeholder:\"Server Name\",\"aria-label\":\"Server Name\"}):b.serverName}),Object(h.jsxs)(\"div\",{className:\"row\",children:[\"Server ID: \",b._id]}),v>=5?Object(h.jsx)(\"div\",{className:\"justify-content-center mt-5 mx-auto text-center w-25 row\",children:k?Object(h.jsx)(\"button\",{type:\"button\",onClick:function(){var t=new FormData;t.append(\"editServerName\",S),t.append(\"postsVisibility\",ce),t.append(\"allowJoin\",oe),t.append(\"allowComment\",je),t.append(\"usersVisibility\",he),Ke.current.files[0]&&Ke.current.files[0].name&&t.append(\"file-upload\",Ke.current.files[0],Ke.current.files[0].name),Ke.current.files[0]&&\"image\"!==Ke.current.files[0].type.split(\"/\")[0]||l.a.post(\"\".concat(j,\"/servers/updateServer/\").concat(b._id),t,{headers:{\"x-access-token\":localStorage.getItem(\"authToken\"),\"Content-Type\":\"multipart/form-data\"}}).then((function(t){200===t.status&&(r(!s),N(!1),e.refreshLeftSidebar())})).catch((function(e){}))},className:\"btn-md btn-outline-primary\",children:\"Save Changes\"}):\"Changes Saved\"}):\"\"]})]}),Object(h.jsx)(\"div\",{className:\"row m-4\",children:Object(h.jsxs)(E.a,{defaultActiveKey:\"users\",id:\"uncontrolled-tab-example\",className:\"mb-3\",children:[Object(h.jsx)(U.a,{eventKey:\"users\",title:\"Users\",children:Object(h.jsx)(\"div\",{className:\"container\",children:W&&v?Object(h.jsx)(\"div\",{className:\"row\",children:W.map((function(e,t){return e.permissions>0?Object(h.jsx)(\"div\",{className:\"col-md-4\",children:Object(h.jsx)(\"div\",{className:\"row\",children:Object(h.jsx)(C,{userId:e.userId,changeRankCallback:Me,serverId:Ue.serverId,userPermission:v})})},e._id):\"\"}))}):q?\"You do not have permission to view this server's users.\":Object(h.jsx)(y,{})})}),Object(h.jsx)(U.a,{eventKey:\"settings\",title:\"Server Settings\",children:$?Object(h.jsx)(P.a,{children:Object(h.jsxs)(\"div\",{className:\"row\",children:[Object(h.jsx)(P.a.Label,{className:\"my-auto col-md-6\",children:\"Who can view posts?\"}),Object(h.jsxs)(\"div\",{className:\"ps-5 my-3 col-md-6 border-start border-secondary\",children:[Object(h.jsx)(P.a.Check,{disabled:v<5,type:\"radio\",id:\"security-radio-0-0\",label:\"Anyone\",checked:0===ce,onChange:Ye}),Object(h.jsx)(P.a.Check,{disabled:v<5,type:\"radio\",id:\"security-radio-0-1\",label:\"Members Only\",checked:1===ce,onChange:Ye})]}),Object(h.jsx)(P.a.Label,{className:\"my-auto col-md-6\",children:\"Who can join?\"}),Object(h.jsxs)(\"div\",{className:\"ps-5 my-3 col-md-6 border-start border-secondary\",children:[Object(h.jsx)(P.a.Check,{disabled:v<5,type:\"radio\",id:\"security-radio-1-0\",label:\"Anyone with a link\",checked:0===oe,onChange:Ye}),Object(h.jsx)(P.a.Check,{disabled:v<5,type:\"radio\",id:\"security-radio-1-1\",label:\"Nobody\",checked:1===oe,onChange:Ye})]}),Object(h.jsx)(P.a.Label,{className:\"my-auto col-md-6\",children:\"Who can comment on posts?\"}),Object(h.jsxs)(\"div\",{className:\"ps-5 my-3 col-md-6 border-start border-secondary\",children:[Object(h.jsx)(P.a.Check,{disabled:v<5,type:\"radio\",id:\"security-radio-2-0\",label:\"Anyone\",checked:0===je,onChange:Ye}),Object(h.jsx)(P.a.Check,{disabled:v<5,type:\"radio\",id:\"security-radio-2-1\",label:\"Members\",checked:1===je,onChange:Ye})]}),Object(h.jsx)(P.a.Label,{className:\"my-auto col-md-6\",children:\"Who can view members of the server?\"}),Object(h.jsxs)(\"div\",{className:\"ps-5 my-3 col-md-6 border-start border-secondary\",children:[Object(h.jsx)(P.a.Check,{disabled:v<5,type:\"radio\",id:\"security-radio-3-0\",label:\"Anyone\",checked:0===he,onChange:Ye}),Object(h.jsx)(P.a.Check,{disabled:v<5,type:\"radio\",id:\"security-radio-3-1\",label:\"Members\",checked:1===he,onChange:Ye})]})]})}):Object(h.jsx)(y,{})}),Object(h.jsx)(U.a,{eventKey:\"banned\",title:\"Banned Users\",children:Object(h.jsx)(\"div\",{className:\"container\",children:W&&v?Object(h.jsx)(\"div\",{className:\"row\",children:W.map((function(e,t){return 0===e.permissions?Object(h.jsx)(\"div\",{className:\"col-md-4\",children:Object(h.jsx)(\"div\",{className:\"row\",children:Object(h.jsx)(C,{userId:e.userId,changeRankCallback:Me,serverId:Ue.serverId,userPermission:v})})},e._id):\"\"}))}):q?\"You do not have permission to view this server's users.\":Object(h.jsx)(y,{})})})]})}),Object(h.jsxs)(\"div\",{className:\"row justify-content-end\",children:[Object(h.jsx)(\"div\",{className:\"col-md-6\",children:v>=2?Object(h.jsx)(\"div\",{className:\"row\",children:Object(h.jsx)(\"button\",{type:\"button\",onClick:function(){Ne(0),fe(!0)},className:\"w-100 my-2 btn-md btn-outline-primary\",children:\"Leave Server\"})}):\"\"}),Object(h.jsx)(\"div\",{className:\"col-md-6\",children:Object(h.jsx)(\"button\",{type:\"button\",onClick:function(){Ee(\"/picpark/s/\".concat(b._id))},className:\"w-100 my-2 btn-md btn-outline-primary\",children:\"Visit Server\"})})]})]}):Object(h.jsx)(y,{})]})},J=a(13);var B=function(e){return Object(h.jsxs)(\"div\",{className:\"w-75 mx-auto mt-5 input-form-wrapper text-center\",children:[Object(h.jsx)(\"img\",{alt:\"Logo for pic park\",className:\"img-fluid\",src:\"\".concat(\"/picpark\",\"/images/logo.png\")}),Object(h.jsx)(\"p\",{children:\"Hello and thank you for visiting my project, Pic Park. Feel free to create a new server in the top left and upload some images or you can visit an example server at the URL below.\"}),Object(h.jsx)(J.b,{to:\"/picpark/s/61f4dcd42e57a1a4b41388e1\",children:\"Guest Server\"}),Object(h.jsx)(\"p\",{children:\"KarlPollock91@gmail.com\"}),Object(h.jsx)(\"p\",{children:\"www.karlpollock.com\"}),Object(h.jsx)(\"p\",{children:\"Created by Karl Pollock, 2022.\"})]})};var W=function(e){var t=Object(c.useState)(!1),a=Object(o.a)(t,2),s=a[0],r=a[1],n=Object(c.useState)(!1),i=Object(o.a)(n,2),b=i[0],u=i[1],m=Object(c.useState)(),O=Object(o.a)(m,2),p=O[0],v=O[1];Object(c.useEffect)((function(){localStorage.getItem(\"authToken\")?x():(r(!1),u(!1))}),[]);var x=function(){l.a.get(\"\".concat(j,\"/accounts/verifyAuth\"),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then((function(e){200===e.status&&(v(e.data),u(!0))})).catch((function(e){localStorage.clear()}))},f=Object(c.useState)(!1),g=Object(o.a)(f,2),k=g[0],w=g[1],I=Object(c.useState)(!1),C=Object(o.a)(I,2),P=C[0],F=C[1],A=function(){w(!k)};return s?Object(h.jsx)(\"div\",{className:\"wrapper w-100 h-100 mw-100 mh-100\",children:Object(h.jsx)(y,{})}):b?Object(h.jsx)(\"div\",{className:\"w-100 vh-100 container-fluid\",children:Object(h.jsxs)(\"div\",{className:\"row\",children:[Object(h.jsx)(\"div\",{className:\"col vh-100 border border-secondary full-height\",children:Object(h.jsx)(N,{newServer:k,userId:p._id})}),Object(h.jsx)(\"div\",{className:\"overflow-auto col-8 vh-100 border border-secondary full-height\",children:Object(h.jsxs)(d.c,{children:[Object(h.jsx)(d.a,{path:\"/picpark\",element:Object(h.jsx)(B,{})}),Object(h.jsx)(d.a,{path:\"/picpark/s/:serverId\",element:Object(h.jsx)(S,{refreshLeftSidebar:A})}),Object(h.jsx)(d.a,{path:\"/picpark/createServer\",element:Object(h.jsx)(L,{refreshLeftSidebar:A})}),Object(h.jsx)(d.a,{path:\"/picpark/post/:serverId\",element:Object(h.jsx)(R,{})}),Object(h.jsx)(d.a,{path:\"/picpark/v/:serverId/:postId\",element:Object(h.jsx)(D,{})}),Object(h.jsx)(d.a,{path:\"/picpark/profile/:userId\",element:Object(h.jsx)(K,{refreshRightSidebar:function(){F(!P)}})}),Object(h.jsx)(d.a,{path:\"/picpark/serverInfo/:serverId\",element:Object(h.jsx)(Y,{refreshLeftSidebar:A})})]})}),Object(h.jsx)(\"div\",{className:\"col vh-100 border border-secondary\",children:Object(h.jsx)(T,{newUser:P,userInfo:p,logoutCallback:function(){localStorage.clear(),u(!1)}})})]})}):Object(h.jsx)(\"div\",{className:\"wrapper w-100 h-100\",children:Object(h.jsx)(_,{})})};a(125),a(126);n.a.render(Object(h.jsx)(J.a,{children:Object(h.jsx)(W,{})}),document.querySelector(\"#root\"))},45:function(e,t,a){},87:function(e,t,a){}},[[127,1,2]]]);","name":"static/js/main.c4d084f1.chunk.js","map":{"version":3,"sources":["static/js/main.c4d084f1.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","slicedToArray","axios","axios_default","react_router","SERVER_URL","USER_STATUS","DropdownButton","Dropdown","jsx_runtime","thumbnails_Avatar","props","_useState","Object","_useState2","avatarDataId","setAvatarDataId","avatarPostId","a","get","concat","headers","localStorage","getItem","then","res","status","data","dataId","catch","err","alt","style","borderRadius","objectFit","height","large","width","className","src","localPreview","classCallCheck","createClass","inherits","createSuper","Loading_Loading","_React$Component","Loading","_super","apply","arguments","key","value","children","Component","secondary_Loading","thumbnails_ServerThumbnail","navigate","server","setServer","serverId","serverObject","newServer","permissionObject","serverName","title","id","variant","size","onSelect","e","_id","Item","eventKey","main_LeftSidebar","permissions","setPermissions","userId","type","onClick","map","el","i","thumbnails_PostThumbnail","postObject","thumbnails_NewPostThumbnail","main_Main","postIds","setPostIds","_useState3","_useState4","loadedPosts","setLoadedPosts","params","_useState5","_useState6","serverSecurities","setServerSecurities","_useState7","_useState8","userPermissions","setUserPermissions","_useState9","_useState10","loadedSecurities","setLoadedSecurities","allowJoin","fd","FormData","post","refreshLeftSidebar","thumbnails_UserThumbnail","profile","setProfile","setUserId","serverPermission","setServerPermission","profileObject","userThumbnail","username","changeRankCallback","userPermission","main_RightSidebar","logoutCallback","userInfo","Form","main_Login","registrationMode","setRegistrationMode","usernameInput","setUsernameInput","passwordInput","setPasswordInput","confirmPasswordInput","setConfirmPasswordInput","accountNameInput","setAccountNameInput","_useState11","_useState12","errorText","setErrorText","_useState13","createRef","formRef","toggleRegistrationMode","maxLength","onInput","target","placeholder","action","method","encType","Group","controlId","Control","name","ref","append","current","files","split","response","accountName","password","setItem","token","main_ServerCreation","nameInput","setNameInput","finishServerCreation","main_PostCreation","textInput","setTextInput","exitPostCreation","thumbnails_CommentThumbnail","author","setAuthor","commentObject","authorId","deleteCommentCallback","commentText","secondary_CommentSection","comments","setComments","updateComments","setUpdateComments","newComment","setNewComment","errorMessage","setErrorMessage","postId","deleteComment","commentId","delete","makeComment","rows","onKeyDown","keyCode","shiftKey","preventDefault","main_ViewPost","setPost","displayPostText","setDisplayPostText","editMode","setEditMode","date","setDate","Date","postText","exitViewPost","dataType","toDateString","Tabs","Tab","main_ViewProfile","updateProfile","setUpdateProfile","madeChanges","setMadeChanges","editUsername","setEditUsername","hoverOverAvatar","setHoverOverAvatar","_useState14","previewAvatar","setPreviewAvatar","_useState15","_useState16","userServers","setUserServers","_useState17","_useState18","loadedServers","setLoadedServers","_useState19","_useState20","userSecurities","setUserSecurities","_useState21","_useState22","securitySettingEvent","updatedSecurities","serversVisibility","onMouseOver","onMouseLeave","click","onChange","reader","FileReader","onload","result","readAsDataURL","display","defaultActiveKey","Label","Check","label","checked","refreshRightSidebar","Modal","Button","main_ViewServer","updateServer","setUpdateServer","setUserPermission","editServerName","setEditServerName","serverUsers","setServerUsers","loadedUsers","setLoadedUsers","postsVisibility","setPostsVisibility","_useState23","_useState24","setAllowJoin","_useState25","_useState26","allowComment","setAllowComment","_useState27","_useState28","usersVisibility","setUsersVisibility","_useState29","_useState30","showLeaveModal","setShowLeaveModal","_useState31","_useState32","leaveModalStage","setLeaveModalStage","_useState33","_useState34","showRankModal","setShowRankModal","_useState35","_useState36","rankModalProfile","setRankModalProfile","_useState37","_useState38","rankRadio","setRankRadio","permission","openChangeRankModal","changeRankModalRadio","show","onHide","Body","Footer","disabled","react_router_dom","main_SplashPage","to","main_App","loading","setLoading","loggedIn","setLoggedIn","setUserInfo","verifyAuth","clear","setNewServer","newUser","setNewUser","path","element","render","document","querySelector"],"mappings":"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"},"input":"(this[\"webpackJsonpnew-app\"] = this[\"webpackJsonpnew-app\"] || []).push([[0],{\n\n/***/ 118:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 121:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 122:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 127:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(26);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(7);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// EXTERNAL MODULE: ./node_modules/react-router/index.js\nvar react_router = __webpack_require__(9);\n\n// CONCATENATED MODULE: ./src/utils/constants.js\n//Written by Karl Pollock, 2022.\n//KarlPollock91@gmail.com\n//www.karlpollock.com\nvar SERVER_URL=\"https://picpark.herokuapp.com\";var USER_STATUS={0:\"Banned\",1:\"Non-Member\",2:\"Member\",3:\"Member+\",4:\"Moderator\",5:\"Admin\"};\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/DropdownButton.js\nvar DropdownButton = __webpack_require__(132);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Dropdown.js + 3 modules\nvar Dropdown = __webpack_require__(91);\n\n// EXTERNAL MODULE: ./src/components/css/Thumbnail.css\nvar Thumbnail = __webpack_require__(45);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/components/thumbnails/Avatar.js\n//Written by Karl Pollock, 2022.\n//KarlPollock91@gmail.com\n//www.karlpollock.com\n//Avatar.js is a component used in thumbnails to display an image from the server in an avatar format.\nfunction Avatar(props){var _useState=Object(react[\"useState\"])(),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),avatarDataId=_useState2[0],setAvatarDataId=_useState2[1];//Component hook to retrieve the image from the server.\nObject(react[\"useEffect\"])(function(){if(props.avatarPostId!=null){axios_default.a.get(\"\".concat(SERVER_URL,\"/files/getImageFromPost/\").concat(props.avatarPostId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then(function(res){if(res.status===200){setAvatarDataId(res.data.dataId);}}).catch(function(err){});}},[props.avatarPostId]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"User avatar\",style:{borderRadius:'50%',objectFit:'cover',height:props.large?'150px':'50px',width:props.large?'150px':'50px'},className:\"thumbnail-image\",src:props.localPreview?props.localPreview:avatarDataId?\"\".concat(SERVER_URL,\"/files/image/\").concat(avatarDataId):\"\".concat(\"/picpark\",\"/images/server_default.png\")});}/* harmony default export */ var thumbnails_Avatar = (Avatar);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(38);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(39);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/inherits.js + 1 modules\nvar inherits = __webpack_require__(75);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createSuper.js + 4 modules\nvar createSuper = __webpack_require__(74);\n\n// EXTERNAL MODULE: ./src/components/css/Loading.css\nvar css_Loading = __webpack_require__(118);\n\n// CONCATENATED MODULE: ./src/components/secondary/Loading.js\n//Written by Karl Pollock, 2022.\n//KarlPollock91@gmail.com\n//www.karlpollock.com\n//A simple loading screen with a loading bar.\n//Loading bar is an open source design from:\n//Copyright (c) 2022 by Daria Koutevska (https://codepen.io/DariaIvK/pen/EpjPRM)\nvar Loading_Loading=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(Loading,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(Loading);function Loading(){Object(classCallCheck[\"a\" /* default */])(this,Loading);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(Loading,[{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"lds-roller\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{})]});}}]);return Loading;}(react_default.a.Component);/* harmony default export */ var secondary_Loading = (Loading_Loading);\n// CONCATENATED MODULE: ./src/components/thumbnails/ServerThumbnail.js\n//Written by Karl Pollock, 2022.\n//KarlPollock91@gmail.com\n//www.karlpollock.com\n//ServerThumbnail.js is a component that displays a server name, avatar and provides options to visit the Server Information or Main\n//components for the server.\nfunction ServerThumbnail(props){var navigate=Object(react_router[\"f\" /* useNavigate */])();var _useState=Object(react[\"useState\"])({}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),server=_useState2[0],setServer=_useState2[1];//Component hook to retrieve the server information.\nObject(react[\"useEffect\"])(function(){if(props.serverId!=null){axios_default.a.get(\"\".concat(SERVER_URL,\"/servers/getServer/\").concat(props.serverId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then(function(res){if(res.status===200){setServer(res.data.serverObject);}}).catch(function(err){//do nothing\n});}},[props.serverId,props.newServer,props.permissionObject]);//Handles selection of the dropdown menu.\nvar handleSelect=function handleSelect(e){if(e===\"view\"){navigate(\"/picpark/serverInfo/\".concat(server._id));}else if(e===\"visit\"){navigate(\"/picpark/s/\".concat(server._id));}};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"container thumbnail-wrapper w-90 my-1\",children:server?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"row h-100\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-4 my-auto\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(thumbnails_Avatar,{avatarPostId:server.avatarPostId})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-6 my-auto\",children:server.serverName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(DropdownButton[\"a\" /* default */],{className:\"m-2\",title:\"\",id:\"dropdown-basic-button\",variant:\"secondary\",size:\"sm\",onSelect:handleSelect,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Dropdown[\"a\" /* default */].Item,{eventKey:\"visit\",children:\"Visit Server\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Dropdown[\"a\" /* default */].Item,{eventKey:\"view\",children:\"Server Information\"})]})})]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(secondary_Loading,{})});}/* harmony default export */ var thumbnails_ServerThumbnail = (ServerThumbnail);\n// CONCATENATED MODULE: ./src/components/main/LeftSidebar.js\n//Written by Karl Pollock, 2022.\n//KarlPollock91@gmail.com\n//www.karlpollock.com\n//LeftSidebar.js is the component that shows all of the servers the user is currently a member of on the left side of the screen.\nfunction LeftSidebar(props){var navigate=Object(react_router[\"f\" /* useNavigate */])();var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),permissions=_useState2[0],setPermissions=_useState2[1];//Component hook that retrieves all of the servers the user is a member of.\nObject(react[\"useEffect\"])(function(){axios_default.a.get(\"\".concat(SERVER_URL,\"/accounts/userServers/\").concat(props.userId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then(function(res){setPermissions(res.data.permissions);});},[props.newServer,props.userId]);//Sends the user to the create server screen.\nvar newServer=function newServer(){navigate(\"/picpark/createServer\");};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"w-100\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"button\",{type:\"button\",className:\"w-100 btn btn-outline-primary mt-2\",onClick:newServer,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"bi bi-plus-circle\"}),\" Create new server\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ul\",{className:\"list-group\",children:permissions.map(function(el,i){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(thumbnails_ServerThumbnail,{newServer:props.newServer,serverId:el.serverId},el._id);})})]});}/* harmony default export */ var main_LeftSidebar = (LeftSidebar);\n// EXTERNAL MODULE: ./src/components/css/Main.css\nvar Main = __webpack_require__(121);\n\n// EXTERNAL MODULE: ./src/components/css/ImageThumbnail.css\nvar ImageThumbnail = __webpack_require__(87);\n\n// CONCATENATED MODULE: ./src/components/thumbnails/PostThumbnail.js\n//Written by Karl Pollock, 2022.\n//KarlPollock91@gmail.com\n//www.karlpollock.com\n//Post thumbnail displays the image of a post in a smaller format. Clicking the thumbnail will take the user\n//to the View Post component of that post.\nfunction PostThumbnail(props){var navigate=Object(react_router[\"f\" /* useNavigate */])();//Sends the user to the View Post component for this post.\nvar viewPost=function viewPost(){navigate(\"/picpark/v/\".concat(props.postObject.serverId,\"/\").concat(props.postObject._id));};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"grid-item border border-secondary\",onClick:viewPost,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"Preview of a user post\",className:\"image-thumbnail\",src:\"\".concat(SERVER_URL,\"/files/image/\").concat(props.postObject.dataId)})})});}/* harmony default export */ var thumbnails_PostThumbnail = (PostThumbnail);\n// CONCATENATED MODULE: ./src/components/thumbnails/NewPostThumbnail.js\n//Written by Karl Pollock, 2022.\n//KarlPollock91@gmail.com\n//www.karlpollock.com\n//Simply displays an image that when clicked sends the user to the Post Creation component.\nfunction NewPostThumbnail(props){var navigate=Object(react_router[\"f\" /* useNavigate */])();//Sends the user to the post creation component.\nvar newPost=function newPost(){navigate(\"/picpark/post/\".concat(props.serverId));};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-3\",onClick:newPost,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"grid-item border border-secondary\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"Create new post button\",className:\"image-thumbnail\",src:\"\".concat(\"/picpark\",\"/images/new_post.png\")})})});}/* harmony default export */ var thumbnails_NewPostThumbnail = (NewPostThumbnail);\n// CONCATENATED MODULE: ./src/components/main/Main.js\n//Written by Karl Pollock, 2022.\n//KarlPollock91@gmail.com\n//www.karlpollock.com\n//Main.js contains the main view for servers in which users can view posts and create new ones.\nfunction Main_Main(props){var _useState=Object(react[\"useState\"])(),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),postIds=_useState2[0],setPostIds=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),loadedPosts=_useState4[0],setLoadedPosts=_useState4[1];var params=Object(react_router[\"g\" /* useParams */])();var navigate=Object(react_router[\"f\" /* useNavigate */])();var _useState5=Object(react[\"useState\"])(),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),serverSecurities=_useState6[0],setServerSecurities=_useState6[1];var _useState7=Object(react[\"useState\"])(0),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),userPermissions=_useState8[0],setUserPermissions=_useState8[1];var _useState9=Object(react[\"useState\"])(false),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),loadedSecurities=_useState10[0],setLoadedSecurities=_useState10[1];//Component hook to retrieve all the posts currently on this server.\nObject(react[\"useEffect\"])(function(){axios_default.a.get(\"\".concat(SERVER_URL,\"/servers/getPosts/\").concat(params.serverId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then(function(res){setLoadedPosts(true);if(res.status===200){setPostIds(res.data);}else if(res.status===404){navigate('/picpark');}}).catch(function(err){setLoadedPosts(true);});},[navigate,params.serverId]);//Component hook that retrieves the security settings of the current server.\nObject(react[\"useEffect\"])(function(){axios_default.a.get(\"\".concat(SERVER_URL,\"/servers/serverSecurities/\").concat(params.serverId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then(function(res){if(res.status===200){setServerSecurities(res.data.serverSecurities);setUserPermissions(res.data.permissions);setLoadedSecurities(true);}});},[params.serverId]);//Adds the current user as a member of the server.\nvar joinServer=function joinServer(){var fd=new FormData();axios_default.a.post(\"\".concat(SERVER_URL,\"/servers/joinServer/\").concat(params.serverId),fd,{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then(function(res){if(res.status===200){props.refreshLeftSidebar();setUserPermissions(2);}});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(thumbnails_ServerThumbnail,{serverId:params.serverId})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"text-center align-middle col-md-6\",children:loadedSecurities?userPermissions===1&&serverSecurities.allowJoin===0?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",onClick:joinServer,className:\"px-5 my-2 btn-lg btn-outline-primary\",children:\"Join Server\"}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"my-3\",children:[\" Status: \",USER_STATUS[userPermissions],\" \"]}):\"\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"row gy-4 mx-auto pt-3\",children:[loadedSecurities&&userPermissions>=2?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(thumbnails_NewPostThumbnail,{serverId:params.serverId}):\"\",postIds?postIds.map(function(el,i){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(thumbnails_PostThumbnail,{postObject:el},el._id);}):loadedPosts?\"You do not have permission to view these posts\":/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(secondary_Loading,{})]})]});}/* harmony default export */ var main_Main = (Main_Main);\n// CONCATENATED MODULE: ./src/components/thumbnails/UserThumbnail.js\n//Written by Karl Pollock, 2022.\n//KarlPollock91@gmail.com\n//www.karlpollock.com\n//UserThumbnail.js is a component that displays a username, avatar and provides options to visit the View Profile or Main\n//components for the user.\nfunction UserThumbnail(props){var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),profile=_useState2[0],setProfile=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),userId=_useState4[0],setUserId=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),serverPermission=_useState6[0],setServerPermission=_useState6[1];var navigate=Object(react_router[\"f\" /* useNavigate */])();//Component hook to retrieve the user profile.\nObject(react[\"useEffect\"])(function(){if(props.userId!=null){axios_default.a.get(\"\".concat(SERVER_URL,\"/accounts/getUser/\").concat(props.userId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then(function(res){if(res.status===200){setProfile(res.data.profileObject);setUserId(res.data.userId);}}).catch(function(err){//do nothing\n});;}},[props.serverId,props.userThumbnail,props.userId]);//Component hook to retrieve the permissions the user has in relation to a specific server.\nObject(react[\"useEffect\"])(function(){if(props.serverId&&props.userId!=null){axios_default.a.get(\"\".concat(SERVER_URL,\"/servers/userPermissions/\").concat(props.serverId,\"/\").concat(props.userId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then(function(res){if(res.status===200){setServerPermission(res.data.permissions);}});}},[props.serverId,props.userId]);//Handles the drop down menu for the post.\nvar handleSelect=function handleSelect(e){if(e===\"view\"){navigate(\"/picpark/profile/\".concat(profile._id));}else if(e===\"status\"){props.changeRankCallback(profile._id,profile.username,serverPermission);}};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"container thumbnail-wrapper w-90\",children:profile?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"row h-100\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-4 my-auto\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(thumbnails_Avatar,{avatarPostId:profile.avatarPostId})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"col-md-6 my-auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"row\",children:profile.username}),serverPermission?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"row\",children:USER_STATUS[serverPermission]}):\"\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(DropdownButton[\"a\" /* default */],{className:\"m-2\",title:\"\",id:\"dropdown-basic-button\",variant:\"secondary\",size:\"sm\",onSelect:handleSelect,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Dropdown[\"a\" /* default */].Item,{eventKey:\"view\",children:\"View Profile\"}),props.serverId&&props.userPermission>=4&&props.userPermission>=serverPermission&&userId!==profile._id?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Dropdown[\"a\" /* default */].Item,{eventKey:\"status\",children:\"Change User Rank\"}):\"\"]})})]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(secondary_Loading,{})});}/* harmony default export */ var thumbnails_UserThumbnail = (UserThumbnail);\n// CONCATENATED MODULE: ./src/components/main/RightSidebar.js\n//Written by Karl Pollock, 2022.\n//KarlPollock91@gmail.com\n//www.karlpollock.com\n//RightSidebar.js is the component that contains the log out button as well as a link to the current user's profile\nfunction RightSidebar(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"w-100\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ul\",{className:\"list-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"btn btn-outline-primary w-100 mt-2\",onClick:props.logoutCallback,children:\"Log out\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(thumbnails_UserThumbnail,{userId:props.userInfo._id},props.userInfo._id)]})});}/* harmony default export */ var main_RightSidebar = (RightSidebar);\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Form.js + 15 modules\nvar Form = __webpack_require__(134);\n\n// CONCATENATED MODULE: ./src/components/main/Login.js\n//Written by Karl Pollock, 2022.\n//KarlPollock91@gmail.com\n//www.karlpollock.com\n//Login.js contains the component that handles both login and registration for new users.\nfunction Login(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),registrationMode=_useState2[0],setRegistrationMode=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),usernameInput=_useState4[0],setUsernameInput=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),passwordInput=_useState6[0],setPasswordInput=_useState6[1];var _useState7=Object(react[\"useState\"])(''),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),confirmPasswordInput=_useState8[0],setConfirmPasswordInput=_useState8[1];var _useState9=Object(react[\"useState\"])(''),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),accountNameInput=_useState10[0],setAccountNameInput=_useState10[1];var _useState11=Object(react[\"useState\"])(''),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),errorText=_useState12[0],setErrorText=_useState12[1];var _useState13=Object(react[\"useState\"])(/*#__PURE__*/react_default.a.createRef()),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,1),formRef=_useState14[0];var navigate=Object(react_router[\"f\" /* useNavigate */])();//Toggles the display between login mode and registration mode.\nvar toggleRegistrationMode=function toggleRegistrationMode(){if(!registrationMode){setRegistrationMode(true);}else{setRegistrationMode(false);}setErrorText('');};//Sends the inputted information to the server in order to generate an account.\nvar handleRegistration=function handleRegistration(){if(passwordInput===confirmPasswordInput){var fd=new FormData();fd.append(\"username\",usernameInput);fd.append(\"password\",passwordInput);fd.append(\"accountName\",accountNameInput);if(formRef.current.files[0]&&formRef.current.files[0].name){fd.append('file-upload',formRef.current.files[0],formRef.current.files[0].name);}if(!formRef.current.files[0]||formRef.current.files[0].type.split('/')[0]===\"image\"){axios_default.a.post(\"\".concat(SERVER_URL,\"/accounts/register\"),fd,{headers:{'Content-Type':'application/json'}}).then(function(res){if(res.status===200){toggleRegistrationMode();setErrorText(\"Registration successful.\");}}).catch(function(err){if(err.response.status===400){setErrorText(\"That account name is already in use.\");}else{setErrorText(\"Something went wrong.\");}});}else{setErrorText(\"Only image files can be set as your avatar.\");};}else{setErrorText(\"Your password does not match.\");}};//Sends the information to the server to verify for logging in.\nvar handleLogin=function handleLogin(){var data={accountName:accountNameInput,password:passwordInput};axios_default.a.post(\"\".concat(SERVER_URL,\"/accounts/login\"),data,{headers:{'Content-Type':'application/json'}}).then(function(res){if(res.status===200){localStorage.setItem(\"authToken\",res.data.token);navigate(\"/picpark\");}}).catch(function(err){if(err.response.status===401){setErrorText(\"Invalid account name or password.\");}else{setErrorText(\"Something went wrong.\");}});};if(!registrationMode){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"input-form-wrapper text-center w-50 container my-5\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"m-3\",children:\"Login\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"row\",children:errorText}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"input-group mb-3 row\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",value:accountNameInput,onInput:function onInput(e){return setAccountNameInput(e.target.value);},className:\"form-control\",placeholder:\"Account Name\",\"aria-label\":\"Account Name\",\"aria-describedby\":\"basic-addon1\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"input-group mb-3 row\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",value:passwordInput,onInput:function onInput(e){return setPasswordInput(e.target.value);},className:\"form-control\",placeholder:\"Password\",\"aria-label\":\"Password\",\"aria-describedby\":\"basic-addon1\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button row\",onClick:handleLogin,className:\"btn btn-outline-primary\",children:\"Login\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"user-select-none row\",onClick:toggleRegistrationMode,children:\"Register new account\"})]});}else{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"input-form-wrapper text-center w-50 container my-5\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"m-3\",children:\"Registration\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"row\",children:errorText}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"input-group mb-3 row\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",maxLength:20,value:usernameInput,onInput:function onInput(e){return setUsernameInput(e.target.value);},id:\"reg-username\",className:\"form-control\",placeholder:\"Username\",\"aria-label\":\"Username\",\"aria-describedby\":\"basic-addon1\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"input-group mb-3 row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"input-group-text\",id:\"basic-addon1\",children:\"@\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",value:accountNameInput,onInput:function onInput(e){return setAccountNameInput(e.target.value);},className:\"form-control\",placeholder:\"Account Name\",\"aria-label\":\"Account Name\",\"aria-describedby\":\"basic-addon1\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"input-group mb-3 row\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",value:passwordInput,onInput:function onInput(e){return setPasswordInput(e.target.value);},className:\"form-control\",placeholder:\"Password\",\"aria-label\":\"Password\",\"aria-describedby\":\"basic-addon1\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"input-group mb-3 row\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",value:confirmPasswordInput,onInput:function onInput(e){return setConfirmPasswordInput(e.target.value);},className:\"form-control\",placeholder:\"Confirm Password\",\"aria-label\":\"Confirm Password\",\"aria-describedby\":\"basic-addon1\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */],{className:\"row\",action:\"/file\",method:\"post\",encType:\"multipart/form-data\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Group,{controlId:\"formFile\",className:\"mb-3\",a:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"file\",name:\"file-upload\",ref:formRef})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",onClick:handleRegistration,className:\"btn btn-outline-primary row\",children:\"Register\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"user-select-none row\",onClick:toggleRegistrationMode,children:\"Return to login\"})]});}}/* harmony default export */ var main_Login = (Login);\n// CONCATENATED MODULE: ./src/components/main/ServerCreation.js\n//Written by Karl Pollock, 2022.\n//KarlPollock91@gmail.com\n//www.karlpollock.com\n//ServerCreation.js holds the component for creating a new server.\nfunction ServerCreation(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),nameInput=_useState2[0],setNameInput=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),errorText=_useState4[0],setErrorText=_useState4[1];var _useState5=Object(react[\"useState\"])(/*#__PURE__*/react_default.a.createRef()),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,1),formRef=_useState6[0];var navigate=Object(react_router[\"f\" /* useNavigate */])();//Sends input forms to server to generate a user server.\nvar handleCreation=function handleCreation(){var fd=new FormData();fd.append(\"serverName\",nameInput);if(formRef.current.files[0]&&formRef.current.files[0].name){fd.append('file-upload',formRef.current.files[0],formRef.current.files[0].name);}if(!formRef.current.files[0]||formRef.current.files[0].type.split('/')[0]===\"image\"){axios_default.a.post(\"\".concat(SERVER_URL,\"/servers/create\"),fd,{headers:{'x-access-token':localStorage.getItem(\"authToken\"),'Content-Type':'multipart/form-data'}}).then(function(res){if(res.status===200){setErrorText(\"Server created\");finishServerCreation(res.data.serverId);}}).catch(function(err){setErrorText(\"Something went wrong.\");});}else{setErrorText(\"Only image files can be set as the server thumbnail.\");};};//Sends the user back a page.\nvar cancelServerCreation=function cancelServerCreation(){navigate(-1);};//Sends the user to the Main.js component for server with id serverId\nvar finishServerCreation=function finishServerCreation(serverId){props.refreshLeftSidebar();navigate(\"/picpark/s/\".concat(serverId));};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"text-center position-relative w-100 h-100\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"bi bi-x-circle position-absolute top-0 end-0 fa-lg\",onClick:cancelServerCreation}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"mx-auto w-75 mt-5\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Server Creation\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:errorText}),\"Server Name\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"input-group mb-3 \",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",maxLength:20,value:nameInput,onInput:function onInput(e){return setNameInput(e.target.value);},className:\"form-control\",placeholder:\"Server Name\",\"aria-label\":\"servername\",\"aria-describedby\":\"basic-addon1\"})}),\"Server Thumbnail\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */],{action:\"/file\",method:\"post\",encType:\"multipart/form-data\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Group,{controlId:\"formFile\",className:\"mb-3\",a:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"file\",name:\"file-upload\",ref:formRef})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",onClick:handleCreation,className:\"btn btn-outline-primary\",children:\"Create\"})]})]});}/* harmony default export */ var main_ServerCreation = (ServerCreation);\n// CONCATENATED MODULE: ./src/components/main/PostCreation.js\n//Written by Karl Pollock, 2022.\n//KarlPollock91@gmail.com\n//www.karlpollock.com\n//PostCreation.js is where users will write a post, and upload an image along side it.\nfunction PostCreation(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),errorText=_useState2[0],setErrorText=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),textInput=_useState4[0],setTextInput=_useState4[1];var _useState5=Object(react[\"useState\"])(/*#__PURE__*/react_default.a.createRef()),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,1),formRef=_useState6[0];var navigate=Object(react_router[\"f\" /* useNavigate */])();var params=Object(react_router[\"g\" /* useParams */])();//Sends the forms to the server to generate a post.\nvar handleCreation=function handleCreation(){var fd=new FormData();fd.append(\"postText\",textInput);if(!formRef.current.files[0]||formRef.current.files[0].type.split('/')[0]===\"image\"){fd.append('file-upload',formRef.current.files[0],formRef.current.files[0].name);axios_default.a.post(\"\".concat(SERVER_URL,\"/posts/upload/\").concat(params.serverId),fd,{headers:{'x-access-token':localStorage.getItem(\"authToken\"),'Content-Type':'multipart/form-data'}}).then(function(res){if(res.status===200){exitPostCreation();}}).catch(function(err){setErrorText(\"Something went wrong.\");});}else{setErrorText(\"Only image files can be uploaded.\");};};//Returns the user to the server they were posting to.\nvar exitPostCreation=function exitPostCreation(){navigate(\"/picpark/s/\".concat(params.serverId));};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"text-center container position-relative w-100 h-100\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"bi bi-x-circle position-absolute top-0 end-0 fa-lg\",onClick:exitPostCreation}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"mx-auto w-75 mt-5\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"New Post\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:errorText}),\"Post Text\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"input-group w-100\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{type:\"text\",value:textInput,onInput:function onInput(e){return setTextInput(e.target.value);},className:\"form-control\",\"aria-label\":\"Add text\"})}),\"Image File\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */],{className:\"w-100\",action:\"/file\",method:\"post\",encType:\"multipart/form-data\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Group,{controlId:\"formFile\",className:\"mb-3\",a:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"file\",name:\"file-upload\",ref:formRef})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",onClick:handleCreation,className:\"btn btn-outline-primary\",children:\"Submit\"})]})]});}/* harmony default export */ var main_PostCreation = (PostCreation);\n// EXTERNAL MODULE: ./src/components/css/ViewPost.css\nvar ViewPost = __webpack_require__(122);\n\n// CONCATENATED MODULE: ./src/components/thumbnails/CommentThumbnail.js\n//Written by Karl Pollock, 2022.\n//KarlPollock91@gmail.com\n//www.karlpollock.com\n//CommentThumbnail.js displays the comments posted in the comment section including information about the user who posted it.\nfunction CommentThumbnail(props){var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),author=_useState2[0],setAuthor=_useState2[1];var _useState3=Object(react[\"useState\"])(),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),userId=_useState4[0],setUserId=_useState4[1];//Component hook to retrieve the profile of the comments author.\nObject(react[\"useEffect\"])(function(){if(props.commentObject!=null){axios_default.a.get(\"\".concat(SERVER_URL,\"/accounts/getUser/\").concat(props.commentObject.authorId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then(function(res){if(res.status===200){setAuthor(res.data.profileObject);setUserId(res.data.userId);}}).catch(function(err){//do nothing\n});;}},[props.commentObject]);//Handles selection from the dropdown menu.\nvar handleSelect=function handleSelect(e){if(e===\"delete\"){props.deleteCommentCallback(props.commentObject._id);}};return author?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container thumbnail-wrapper w-90 m-2 border border-secondary\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"position-absolute end-0 me-2\",children:author._id===userId?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DropdownButton[\"a\" /* default */],{title:\"\",id:\"dropdown-basic-button\",variant:\"secondary\",size:\"sm\",onSelect:handleSelect,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Dropdown[\"a\" /* default */].Item,{eventKey:\"delete\",children:\"Delete\"})}):\"\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"row h-100\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-2 my-3\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(thumbnails_Avatar,{avatarPostId:author.avatarPostId})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"col-md-10 my-auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"border-bottom border-secondary text-center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\",{children:author.username})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"w-100 p-2\",children:props.commentObject.commentText})]})]})]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(secondary_Loading,{});}/* harmony default export */ var thumbnails_CommentThumbnail = (CommentThumbnail);\n// CONCATENATED MODULE: ./src/components/secondary/CommentSection.js\n//Written by Karl Pollock, 2022.\n//KarlPollock91@gmail.com\n//www.karlpollock.com\n//CommentSecton.js is a secondary component that is a child of ViewPost. Here, users can read comments and comment on a post.\nfunction CommentSection(props){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),comments=_useState2[0],setComments=_useState2[1];var _useState3=Object(react[\"useState\"])(true),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),updateComments=_useState4[0],setUpdateComments=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),newComment=_useState6[0],setNewComment=_useState6[1];var _useState7=Object(react[\"useState\"])(''),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),errorMessage=_useState8[0],setErrorMessage=_useState8[1];//Component hook to get the comments on a post.\nObject(react[\"useEffect\"])(function(){axios_default.a.get(\"\".concat(SERVER_URL,\"/posts/getComments/\").concat(props.serverId,\"/\").concat(props.postId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then(function(res){if(res.status===200){setComments(res.data);}});},[updateComments,props.serverId,props.postId]);//Delete a comment by ID.\nvar deleteComment=function deleteComment(commentId){axios_default.a.delete(\"\".concat(SERVER_URL,\"/posts/deleteComment/\").concat(props.serverId,\"/\").concat(commentId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then(function(res){if(res.status===200){setUpdateComments(!updateComments);}});};//Sends post to server to add comment to comments.\nvar makeComment=function makeComment(e){var fd=new FormData();fd.append(\"commentText\",newComment);axios_default.a.post(\"\".concat(SERVER_URL,\"/posts/makeComment/\").concat(props.serverId,\"/\").concat(props.postId),fd,{headers:{\"x-access-token\":localStorage.getItem(\"authToken\"),'Content-Type':'multipart/form-data'}}).then(function(res){if(res.status===200){setNewComment('');setUpdateComments(!updateComments);}}).catch(function(err){setErrorMessage(\"You do not have permission to comment in this server.\");});};//Enter pressed in the comment text field.\nvar submitComment=function submitComment(e){if(e.keyCode===13&&e.shiftKey===false){e.preventDefault();makeComment(e);}};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col border border-secondary content-comment mb-4 \",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ul\",{className:\"list-group w-100\",children:[errorMessage,/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"border-bottom border-secondary pb-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{type:\"text\",value:newComment,onInput:function onInput(e){return setNewComment(e.target.value);},className:\"form-control mt-3\",rows:\"2\",placeholder:\"Comment\",\"aria-label\":\"Comment\",onKeyDown:submitComment}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"btn btn-outline-secondary\",onClick:makeComment,children:\"Post Comment\"})]}),comments.map(function(el,i){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(thumbnails_CommentThumbnail,{deleteCommentCallback:deleteComment,commentObject:el},el._id);})]})});}/* harmony default export */ var secondary_CommentSection = (CommentSection);\n// CONCATENATED MODULE: ./src/components/main/ViewPost.js\n//Written by Karl Pollock, 2022.\n//KarlPollock91@gmail.com\n//www.karlpollock.com\n//ViewPost.js allows a user to view the post, who made it and when, as well as comment and read comments written on the post.\nfunction ViewPost_ViewPost(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),userId=_useState2[0],setUserId=_useState2[1];var _useState3=Object(react[\"useState\"])({}),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),post=_useState4[0],setPost=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),displayPostText=_useState6[0],setDisplayPostText=_useState6[1];var _useState7=Object(react[\"useState\"])(false),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),editMode=_useState8[0],setEditMode=_useState8[1];var _useState9=Object(react[\"useState\"])(''),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),date=_useState10[0],setDate=_useState10[1];var navigate=Object(react_router[\"f\" /* useNavigate */])();var params=Object(react_router[\"g\" /* useParams */])();//Component hook to retrieve the post information from the server.\nObject(react[\"useEffect\"])(function(){axios_default.a.get(\"\".concat(SERVER_URL,\"/servers/getPost/\").concat(params.serverId,\"/\").concat(params.postId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then(function(res){if(res.status===200){setDate(new Date(res.data.post.date));setPost(res.data.post);setUserId(res.data.userId);setDisplayPostText(res.data.post.postText);}else if(res.status===404){navigate('/picpark');}});},[navigate,params.postId,params.serverId]);//Sends inputted data to the server to edit the post.\nvar editPost=function editPost(){setEditMode(false);var fd=new FormData();fd.append(\"displayPostText\",displayPostText);axios_default.a.post(\"\".concat(SERVER_URL,\"/posts/editPost/\").concat(params.serverId,\"/\").concat(params.postId),fd,{headers:{\"x-access-token\":localStorage.getItem(\"authToken\"),'Content-Type':'multipart/form-data'}}).then(function(res){if(res.status===200){}else{setDisplayPostText(post.postText);}});};//Sends a request to the server to delete the post.\nvar deletePost=function deletePost(){axios_default.a.delete(\"\".concat(SERVER_URL,\"/posts/deletePost/\").concat(params.serverId,\"/\").concat(params.postId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then(function(res){if(res.status===200){exitViewPost();}});};//Handles the drop down menu for the post.\nvar handleSelect=function handleSelect(e){if(e===\"edit\"){setEditMode(true);}else if(e===\"delete\"){deletePost();}};//Return to the Main view for the posts server.\nvar exitViewPost=function exitViewPost(){navigate(\"/picpark/s/\".concat(params.serverId));};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container text-center position-relative w-100 h-100\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"bi bi-x-circle position-absolute top-0 end-0 fa-lg\",onClick:exitViewPost}),post?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"row start-50 translate-middle-x top-0 position-absolute w-100 mt-4 m-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"col\",children:[post.dataType!==\"text\"?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"row border border-secondary content-viewer\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"position-absolute end-0 me-4 mt-2\",children:post.authorId===userId?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(DropdownButton[\"a\" /* default */],{title:\"\",id:\"dropdown-basic-button\",variant:\"secondary\",size:\"sm\",onSelect:handleSelect,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Dropdown[\"a\" /* default */].Item,{eventKey:\"edit\",children:\"Edit\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Dropdown[\"a\" /* default */].Item,{eventKey:\"delete\",children:\"Delete\"})]}):\"\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:post.dataType===\"image\"?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"Posted by user with ID \".concat(post.authorId),className:\"img-fluid my-3 mx-auto d-block\",src:\"\".concat(SERVER_URL,\"/files/image/\").concat(post.dataId)}):null})]}):null,/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"row border border-secondary\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-4 my-auto border-end border-secondary\",children:date?date.toDateString():\"\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-8\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(thumbnails_UserThumbnail,{userId:post.authorId})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"row border border-secondary content-text mb-4 h-auto\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"p-2\",children:editMode?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{type:\"text\",value:displayPostText,onInput:function onInput(e){return setDisplayPostText(e.target.value);},className:\"form-control mt-3\",rows:\"2\",placeholder:\"Edit Post\",\"aria-label\":\"Edit Post\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",onClick:editPost,className:\"btn-md btn-outline-primary\",children:\"Save Changes\"})]}):displayPostText})})]}),userId?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(secondary_CommentSection,{userId:userId,serverId:params.serverId,postId:params.postId}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(secondary_Loading,{})]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(secondary_Loading,{})]});}/* harmony default export */ var main_ViewPost = (ViewPost_ViewPost);\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Tabs.js + 8 modules\nvar Tabs = __webpack_require__(135);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Tab.js + 1 modules\nvar Tab = __webpack_require__(136);\n\n// CONCATENATED MODULE: ./src/components/main/ViewProfile.js\n//Written by Karl Pollock, 2022.\n//KarlPollock91@gmail.com\n//www.karlpollock.com\n//Displays a users profile which can include servers they're a part of as well as security options.\nfunction ViewProfile(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),updateProfile=_useState2[0],setUpdateProfile=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),profile=_useState4[0],setProfile=_useState4[1];var _useState5=Object(react[\"useState\"])(),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),userId=_useState6[0],setUserId=_useState6[1];var _useState7=Object(react[\"useState\"])(true),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),madeChanges=_useState8[0],setMadeChanges=_useState8[1];var _useState9=Object(react[\"useState\"])(''),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),editUsername=_useState10[0],setEditUsername=_useState10[1];var _useState11=Object(react[\"useState\"])(false),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),hoverOverAvatar=_useState12[0],setHoverOverAvatar=_useState12[1];var _useState13=Object(react[\"useState\"])(),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),previewAvatar=_useState14[0],setPreviewAvatar=_useState14[1];var _useState15=Object(react[\"useState\"])([]),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),userServers=_useState16[0],setUserServers=_useState16[1];var _useState17=Object(react[\"useState\"])(false),_useState18=Object(slicedToArray[\"a\" /* default */])(_useState17,2),loadedServers=_useState18[0],setLoadedServers=_useState18[1];var _useState19=Object(react[\"useState\"])(),_useState20=Object(slicedToArray[\"a\" /* default */])(_useState19,2),userSecurities=_useState20[0],setUserSecurities=_useState20[1];var _useState21=Object(react[\"useState\"])(false),_useState22=Object(slicedToArray[\"a\" /* default */])(_useState21,2),loadedSecurities=_useState22[0],setLoadedSecurities=_useState22[1];var navigate=Object(react_router[\"f\" /* useNavigate */])();var params=Object(react_router[\"g\" /* useParams */])();var formRef=Object(react[\"useRef\"])(null);//Component hook for retrieving the user profile.\nObject(react[\"useEffect\"])(function(){axios_default.a.get(\"\".concat(SERVER_URL,\"/accounts/getUser/\").concat(params.userId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then(function(res){if(res.status===200){setProfile(res.data.profileObject);setUserId(res.data.userId);setEditUsername(res.data.profileObject.username);}else if(res.status===404){navigate('/picpark');}});},[navigate,params.userId,updateProfile]);//Component hook for getting the servers the profile's user is a member of.\nObject(react[\"useEffect\"])(function(){axios_default.a.get(\"\".concat(SERVER_URL,\"/accounts/userServers/\").concat(params.userId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then(function(res){if(res.status===200){setUserServers(res.data.permissions);setLoadedServers(true);}}).catch(function(err){setLoadedServers(true);});},[params.userId]);//Component hook for getting the security settings of the current user. only displayed if viewing on profile.\nObject(react[\"useEffect\"])(function(){axios_default.a.get(\"\".concat(SERVER_URL,\"/accounts/userSecurities\"),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then(function(res){setUserSecurities(res.data);setLoadedSecurities(true);});},[]);//Submit input forms to server to save changes made to profile.\nvar saveChanges=function saveChanges(){var fd=new FormData();fd.append(\"editUsername\",editUsername);fd.append(\"userSecurities\",userSecurities);if(formRef.current.files[0]&&formRef.current.files[0].name){fd.append('file-upload',formRef.current.files[0],formRef.current.files[0].name);}if(!formRef.current.files[0]||formRef.current.files[0].type.split('/')[0]===\"image\"){axios_default.a.post(\"\".concat(SERVER_URL,\"/accounts/updateProfile/\").concat(profile._id),fd,{headers:{'x-access-token':localStorage.getItem(\"authToken\"),'Content-Type':'multipart/form-data'}}).then(function(res){if(res.status===200){setUpdateProfile(!updateProfile);setMadeChanges(false);props.refreshRightSidebar();}}).catch(function(err){});}else{//err\n};};//Returns the user to the previous page\nvar exitViewProfile=function exitViewProfile(){navigate(-1);};//Event for when the user mouses over their avatar.\nvar mouseOverEvent=function mouseOverEvent(e){if(profile._id===userId){setHoverOverAvatar(true);}};//Event for when the user is no longer mousing over their avatar.\nvar mouseLeaveEvent=function mouseLeaveEvent(e){if(profile._id===userId){setHoverOverAvatar(false);}};//Event for when the user clicks the avatar\nvar onClickAvatar=function onClickAvatar(e){if(profile._id===userId){formRef.current.click();}};//Sets the thumbnail avatar to be a new one, and readies the data for uploading.\nvar changeAvatar=function changeAvatar(e){if(formRef.current.files[0].type.split('/')[0]===\"image\"){var reader=new FileReader();reader.onload=function(){setPreviewAvatar(reader.result);};reader.readAsDataURL(formRef.current.files[0]);setMadeChanges(true);}};//Triggers onchange in username field.\nvar usernameEvent=function usernameEvent(e){setEditUsername(e.target.value);setMadeChanges(true);};//Event for handling changing the radio options in the server settings.\nvar securitySettingEvent=function securitySettingEvent(e){setMadeChanges(true);var updatedSecurities=userSecurities;switch(e.target.id){case'security-radio-0':updatedSecurities.serversVisibility=0;break;case'security-radio-1':updatedSecurities.serversVisibility=1;break;case'security-radio-2':updatedSecurities.serversVisibility=2;break;default://Do nothing\nbreak;}setUserSecurities(updatedSecurities);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"text-center position-relative w-100 h-100\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"bi bi-x-circle position-absolute top-0 end-0 fa-lg\",onClick:exitViewProfile}),profile?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container start-50 translate-middle-x top-0 position-absolute w-100 mt-4 m-1 border border-secondary p-3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"row \",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-4 position-relative\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"position-relative\",onMouseOver:mouseOverEvent,onMouseLeave:mouseLeaveEvent,onClick:onClickAvatar,children:[hoverOverAvatar?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"Click to change the avatar.\",style:{borderRadius:'50%',objectFit:'cover',height:'100px',width:'100px'},className:\"thumbnail-image start-50 top-50 translate-middle position-absolute\",src:\"\".concat(\"/picpark\",\"/images/server_default.png\")}):\"\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(thumbnails_Avatar,{large:true,localPreview:previewAvatar,avatarPostId:profile.avatarPostId}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"file\",onChange:changeAvatar,name:\"file-upload\",id:\"file\",ref:formRef,style:{display:\"none\"}})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"col-md-8 mt-5\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"row\",children:profile._id===userId?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{maxLength:20,type:\"text\",value:editUsername,onInput:usernameEvent,className:\"form-control w-75\",rows:\"1\",placeholder:\"Username\",\"aria-label\":\"Username\"}):profile.username}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"row\",children:[\"Account ID: \",profile._id]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"row m-4\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Tabs[\"a\" /* default */],{defaultActiveKey:\"servers\",id:\"uncontrolled-tab-example\",className:\"mb-3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tab[\"a\" /* default */],{eventKey:\"servers\",title:\"Servers\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"container\",children:userServers?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"row\",children:userServers.map(function(el,i){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(thumbnails_ServerThumbnail,{serverId:el.serverId})},el._id);})}):loadedServers?\"You do not have permission to view these servers.\":/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(secondary_Loading,{})})}),userId===profile._id?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tab[\"a\" /* default */],{eventKey:\"settings\",title:\"Account Settings\",children:loadedSecurities?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{className:\"my-auto col-md-6\",children:\"Who can view the servers you're a member of?\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"ps-5 my-auto col-md-6 border-start border-secondary\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Check,{type:\"radio\",id:\"security-radio-0\",label:\"Anyone\",checked:userSecurities.serversVisibility===0,onChange:securitySettingEvent}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Check,{type:\"radio\",id:\"security-radio-1\",label:\"Users I share a server with\",checked:userSecurities.serversVisibility===1,onChange:securitySettingEvent}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Check,{type:\"radio\",id:\"security-radio-2\",label:\"No one\",checked:userSecurities.serversVisibility===2,onChange:securitySettingEvent})]})]})}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(secondary_Loading,{})}):\"\"]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"row justify-content-end\",children:profile._id===userId?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"justify-content-center mt-5 mx-auto text-center w-25 row\",children:madeChanges?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",onClick:saveChanges,className:\"btn-md btn-outline-primary\",children:\"Save Changes\"}):\"Profile Saved\"}):\"\"})]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(secondary_Loading,{})]});}/* harmony default export */ var main_ViewProfile = (ViewProfile);\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Modal.js + 24 modules\nvar Modal = __webpack_require__(133);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Button.js\nvar Button = __webpack_require__(89);\n\n// CONCATENATED MODULE: ./src/components/main/ViewServer.js\n//Written by Karl Pollock, 2022.\n//KarlPollock91@gmail.com\n//www.karlpollock.com\n//ViewServer.js is a component for viewing more information about a server. A user can change the server settings here,\n//view other members profiles, or leave/delete the server.\nfunction ViewServer(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),updateServer=_useState2[0],setUpdateServer=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),server=_useState4[0],setServer=_useState4[1];//Permission of the current user in relation to the server.\nvar _useState5=Object(react[\"useState\"])(),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),userPermission=_useState6[0],setUserPermission=_useState6[1];var _useState7=Object(react[\"useState\"])(true),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),madeChanges=_useState8[0],setMadeChanges=_useState8[1];var _useState9=Object(react[\"useState\"])(''),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),editServerName=_useState10[0],setEditServerName=_useState10[1];var _useState11=Object(react[\"useState\"])(false),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),hoverOverAvatar=_useState12[0],setHoverOverAvatar=_useState12[1];var _useState13=Object(react[\"useState\"])(),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),previewAvatar=_useState14[0],setPreviewAvatar=_useState14[1];var _useState15=Object(react[\"useState\"])(null),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),serverUsers=_useState16[0],setServerUsers=_useState16[1];var _useState17=Object(react[\"useState\"])(false),_useState18=Object(slicedToArray[\"a\" /* default */])(_useState17,2),loadedUsers=_useState18[0],setLoadedUsers=_useState18[1];var _useState19=Object(react[\"useState\"])(false),_useState20=Object(slicedToArray[\"a\" /* default */])(_useState19,2),loadedSecurities=_useState20[0],setLoadedSecurities=_useState20[1];//Radio menu variables\nvar _useState21=Object(react[\"useState\"])(),_useState22=Object(slicedToArray[\"a\" /* default */])(_useState21,2),postsVisibility=_useState22[0],setPostsVisibility=_useState22[1];var _useState23=Object(react[\"useState\"])(),_useState24=Object(slicedToArray[\"a\" /* default */])(_useState23,2),allowJoin=_useState24[0],setAllowJoin=_useState24[1];var _useState25=Object(react[\"useState\"])(),_useState26=Object(slicedToArray[\"a\" /* default */])(_useState25,2),allowComment=_useState26[0],setAllowComment=_useState26[1];var _useState27=Object(react[\"useState\"])(),_useState28=Object(slicedToArray[\"a\" /* default */])(_useState27,2),usersVisibility=_useState28[0],setUsersVisibility=_useState28[1];var modalTextDict={0:\"Are you sure you want to leave this server?\",1:\"You are the only admin on this server, leaving will delete the server and all its posts. Is this okay?\"};var _useState29=Object(react[\"useState\"])(false),_useState30=Object(slicedToArray[\"a\" /* default */])(_useState29,2),showLeaveModal=_useState30[0],setShowLeaveModal=_useState30[1];var _useState31=Object(react[\"useState\"])(0),_useState32=Object(slicedToArray[\"a\" /* default */])(_useState31,2),leaveModalStage=_useState32[0],setLeaveModalStage=_useState32[1];var _useState33=Object(react[\"useState\"])(false),_useState34=Object(slicedToArray[\"a\" /* default */])(_useState33,2),showRankModal=_useState34[0],setShowRankModal=_useState34[1];var _useState35=Object(react[\"useState\"])({}),_useState36=Object(slicedToArray[\"a\" /* default */])(_useState35,2),rankModalProfile=_useState36[0],setRankModalProfile=_useState36[1];var _useState37=Object(react[\"useState\"])(0),_useState38=Object(slicedToArray[\"a\" /* default */])(_useState37,2),rankRadio=_useState38[0],setRankRadio=_useState38[1];var navigate=Object(react_router[\"f\" /* useNavigate */])();var params=Object(react_router[\"g\" /* useParams */])();var formRef=Object(react[\"useRef\"])(null);//Component hook for retrieving the server information.\nObject(react[\"useEffect\"])(function(){axios_default.a.get(\"\".concat(SERVER_URL,\"/servers/getServer/\").concat(params.serverId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then(function(res){if(res.status===200){setServer(res.data.serverObject);setUserPermission(res.data.permission);setEditServerName(res.data.serverObject.serverName);}else if(res.status===404){navigate('/picpark');}});},[navigate,params.serverId,updateServer]);//Component hook for getting the list of members of the server.\nObject(react[\"useEffect\"])(function(){axios_default.a.get(\"\".concat(SERVER_URL,\"/servers/serverUsers/\").concat(params.serverId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then(function(res){if(res.status===200){setServerUsers(res.data);}setLoadedUsers(true);}).catch(function(err){setLoadedUsers(true);});},[params.serverId]);//Component hook for getting the server securities\nObject(react[\"useEffect\"])(function(){axios_default.a.get(\"\".concat(SERVER_URL,\"/servers/serverSecurities/\").concat(params.serverId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then(function(res){if(res.status===200){setPostsVisibility(res.data.serverSecurities.postsVisibility);setAllowJoin(res.data.serverSecurities.allowJoin);setAllowComment(res.data.serverSecurities.allowComment);setUsersVisibility(res.data.serverSecurities.usersVisibility);}setLoadedSecurities(true);});},[params.serverId]);//Save changes made to the server.\nvar saveChanges=function saveChanges(){var fd=new FormData();fd.append(\"editServerName\",editServerName);fd.append(\"postsVisibility\",postsVisibility);fd.append(\"allowJoin\",allowJoin);fd.append(\"allowComment\",allowComment);fd.append(\"usersVisibility\",usersVisibility);if(formRef.current.files[0]&&formRef.current.files[0].name){fd.append('file-upload',formRef.current.files[0],formRef.current.files[0].name);}if(!formRef.current.files[0]||formRef.current.files[0].type.split('/')[0]===\"image\"){axios_default.a.post(\"\".concat(SERVER_URL,\"/servers/updateServer/\").concat(server._id),fd,{headers:{'x-access-token':localStorage.getItem(\"authToken\"),'Content-Type':'multipart/form-data'}}).then(function(res){if(res.status===200){setUpdateServer(!updateServer);setMadeChanges(false);props.refreshLeftSidebar();}}).catch(function(err){});}else{//err\n};};/////////////////////Leave Server Modal//////////////////////////////\n//Opens up the leave server confirmation modal when the user clicks the Leave Server button\nvar leaveServer=function leaveServer(){setLeaveModalStage(0);setShowLeaveModal(true);};//Confirms that a user wishes to leave the server. If there are no other admins in the server, the user will get a\n//confirmation that they wish to delete the server instead.\nvar leaveServerConfirm=function leaveServerConfirm(){if(leaveModalStage===0){axios_default.a.delete(\"\".concat(SERVER_URL,\"/servers/leaveServer/\").concat(params.serverId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then(function(res){if(res.status===200){props.refreshLeftSidebar();setUserPermission(0);setShowLeaveModal(false);}else if(res.status===202){setLeaveModalStage(1);setShowLeaveModal(true);}});}else if(leaveModalStage===1){axios_default.a.delete(\"\".concat(SERVER_URL,\"/servers/deleteServer/\").concat(params.serverId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then(function(res){props.refreshLeftSidebar();navigate(\"/picpark\");});}};//Close the leave server modal.\nvar leaveServerCancel=function leaveServerCancel(){setLeaveModalStage(0);setShowLeaveModal(false);};////////////////////////Change rank modal///////////////////////////////////\n//Open the change user rank modal.\nvar openChangeRankModal=function openChangeRankModal(userId,username,serverPermission){setRankRadio(serverPermission);setRankModalProfile({userId:userId,username:username});setShowRankModal(true);};//Handles modifying the user rank radio options.\nvar changeRankModalRadio=function changeRankModalRadio(e){switch(e.target.id){case'status-radio-0':setRankRadio(0);break;case'status-radio-1':setRankRadio(1);break;case'status-radio-2':setRankRadio(2);break;case'status-radio-3':setRankRadio(3);break;case'status-radio-4':setRankRadio(4);break;case'status-radio-5':setRankRadio(5);break;default://do nothing\nbreak;}};//Sends a request to the server to change the rank of a user.\nvar changeRank=function changeRank(){var fd=new FormData();axios_default.a.post(\"\".concat(SERVER_URL,\"/servers/changeRank/\").concat(server._id,\"/\").concat(rankModalProfile.userId,\"/\").concat(rankRadio),fd,{headers:{'x-access-token':localStorage.getItem(\"authToken\")}}).then(function(res){if(res.status===200){setShowRankModal(false);}}).catch(function(err){});};//Returns the user to the previous page.\nvar exitViewServer=function exitViewServer(){navigate(-1);};//////////////////////Avatar change stuff////////////////\n//Event for when the user mouses over the avatar\nvar mouseOverEvent=function mouseOverEvent(e){if(userPermission>=5){setHoverOverAvatar(true);}};//Event for when the user is no longer mousing over the avatar\nvar mouseLeaveEvent=function mouseLeaveEvent(e){if(userPermission>=5){setHoverOverAvatar(false);}};//Event for when the user clicks the avatar\nvar onClickAvatar=function onClickAvatar(e){if(userPermission>=5){formRef.current.click();}};//Sets the thumbnail avatar to be a new one, and readies the data for uploading.\nvar changeAvatar=function changeAvatar(e){if(formRef.current.files[0].type.split('/')[0]===\"image\"){var reader=new FileReader();reader.onload=function(){setPreviewAvatar(reader.result);};reader.readAsDataURL(formRef.current.files[0]);setMadeChanges(true);}else{//display error\n}};//Triggers onchange in serverName field.\nvar serverNameEvent=function serverNameEvent(e){setEditServerName(e.target.value);setMadeChanges(true);};//Handles radio options for server security.\nvar securitySettingEvent=function securitySettingEvent(e){setMadeChanges(true);switch(e.target.id){case'security-radio-0-0':setPostsVisibility(0);break;case'security-radio-0-1':setPostsVisibility(1);break;case'security-radio-1-0':setAllowJoin(0);break;case'security-radio-1-1':setAllowJoin(1);break;case'security-radio-2-0':setAllowComment(0);break;case'security-radio-2-1':setAllowComment(1);break;case'security-radio-3-0':setUsersVisibility(0);break;case'security-radio-3-1':setUsersVisibility(1);break;default://do nothing\nbreak;}};//Sends the user to the Main component of the server they're viewing the information of.\nvar visitServer=function visitServer(){navigate(\"/picpark/s/\".concat(server._id));};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"text-center position-relative w-100 h-100\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"bi bi-x-circle position-absolute top-0 end-0 fa-lg\",onClick:exitViewServer}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Modal[\"a\" /* default */],{show:showLeaveModal,onHide:function onHide(){return setShowLeaveModal(false);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Body,{children:modalTextDict[leaveModalStage]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Modal[\"a\" /* default */].Footer,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"secondary\",onClick:leaveServerCancel,children:\"Close\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"primary\",onClick:leaveServerConfirm,children:\"Confirm\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Modal[\"a\" /* default */],{show:showRankModal,onHide:function onHide(){return setShowRankModal(false);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Body,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Label,{className:\"my-auto col-md-6\",children:[\"Set User Status for \",rankModalProfile.username]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"ps-5 my-auto col-md-6 border-start border-secondary\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Check,{type:\"radio\",id:\"status-radio-0\",label:\"Banned\",checked:rankRadio===0,onChange:changeRankModalRadio}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Check,{type:\"radio\",id:\"status-radio-1\",label:\"Non-Member\",checked:rankRadio===1,onChange:changeRankModalRadio}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Check,{type:\"radio\",id:\"status-radio-2\",label:\"Member\",checked:rankRadio===2,onChange:changeRankModalRadio}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Check,{type:\"radio\",id:\"status-radio-3\",label:\"Super Member\",checked:rankRadio===3,onChange:changeRankModalRadio}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Check,{type:\"radio\",id:\"status-radio-4\",label:\"Moderator\",checked:rankRadio===4,onChange:changeRankModalRadio}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Check,{type:\"radio\",id:\"status-radio-5\",label:\"Admin\",checked:rankRadio===5,onChange:changeRankModalRadio})]})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Modal[\"a\" /* default */].Footer,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"secondary\",onClick:function onClick(){return setShowRankModal(false);},children:\"Close\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"primary\",onClick:changeRank,children:\"Confirm\"})]})]}),server?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container start-50 translate-middle-x top-0 position-absolute w-100 mt-4 m-1 border border-secondary p-3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"row \",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-4 position-relative\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"position-relative\",onMouseOver:mouseOverEvent,onMouseLeave:mouseLeaveEvent,onClick:onClickAvatar,children:[hoverOverAvatar?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"Click to change the avatar.\",style:{borderRadius:'50%',objectFit:'cover',height:'100px',width:'100px'},className:\"thumbnail-image start-50 top-50 translate-middle position-absolute\",src:\"\".concat(\"/picpark\",\"/images/server_default.png\")}):\"\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(thumbnails_Avatar,{large:true,localPreview:previewAvatar,avatarPostId:server.avatarPostId}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"file\",onChange:changeAvatar,name:\"file-upload\",id:\"file\",ref:formRef,style:{display:\"none\"}})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"col-md-8 mt-5\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"row\",children:userPermission>=5?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{maxLength:20,type:\"text\",value:editServerName,onInput:serverNameEvent,className:\"form-control w-75\",rows:\"1\",placeholder:\"Server Name\",\"aria-label\":\"Server Name\"}):server.serverName}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"row\",children:[\"Server ID: \",server._id]}),userPermission>=5?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"justify-content-center mt-5 mx-auto text-center w-25 row\",children:madeChanges?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",onClick:saveChanges,className:\"btn-md btn-outline-primary\",children:\"Save Changes\"}):\"Changes Saved\"}):\"\"]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"row m-4\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Tabs[\"a\" /* default */],{defaultActiveKey:\"users\",id:\"uncontrolled-tab-example\",className:\"mb-3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tab[\"a\" /* default */],{eventKey:\"users\",title:\"Users\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"container\",children:serverUsers&&userPermission?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"row\",children:serverUsers.map(function(el,i){return el.permissions>0?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"row\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(thumbnails_UserThumbnail,{userId:el.userId,changeRankCallback:openChangeRankModal,serverId:params.serverId,userPermission:userPermission})})},el._id):\"\";})}):loadedUsers?\"You do not have permission to view this server's users.\":/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(secondary_Loading,{})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tab[\"a\" /* default */],{eventKey:\"settings\",title:\"Server Settings\",children:loadedSecurities?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{className:\"my-auto col-md-6\",children:\"Who can view posts?\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"ps-5 my-3 col-md-6 border-start border-secondary\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Check,{disabled:userPermission<5,type:\"radio\",id:\"security-radio-0-0\",label:\"Anyone\",checked:postsVisibility===0,onChange:securitySettingEvent}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Check,{disabled:userPermission<5,type:\"radio\",id:\"security-radio-0-1\",label:\"Members Only\",checked:postsVisibility===1,onChange:securitySettingEvent})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{className:\"my-auto col-md-6\",children:\"Who can join?\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"ps-5 my-3 col-md-6 border-start border-secondary\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Check,{disabled:userPermission<5,type:\"radio\",id:\"security-radio-1-0\",label:\"Anyone with a link\",checked:allowJoin===0,onChange:securitySettingEvent}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Check,{disabled:userPermission<5,type:\"radio\",id:\"security-radio-1-1\",label:\"Nobody\",checked:allowJoin===1,onChange:securitySettingEvent})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{className:\"my-auto col-md-6\",children:\"Who can comment on posts?\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"ps-5 my-3 col-md-6 border-start border-secondary\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Check,{disabled:userPermission<5,type:\"radio\",id:\"security-radio-2-0\",label:\"Anyone\",checked:allowComment===0,onChange:securitySettingEvent}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Check,{disabled:userPermission<5,type:\"radio\",id:\"security-radio-2-1\",label:\"Members\",checked:allowComment===1,onChange:securitySettingEvent})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{className:\"my-auto col-md-6\",children:\"Who can view members of the server?\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"ps-5 my-3 col-md-6 border-start border-secondary\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Check,{disabled:userPermission<5,type:\"radio\",id:\"security-radio-3-0\",label:\"Anyone\",checked:usersVisibility===0,onChange:securitySettingEvent}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Check,{disabled:userPermission<5,type:\"radio\",id:\"security-radio-3-1\",label:\"Members\",checked:usersVisibility===1,onChange:securitySettingEvent})]})]})}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(secondary_Loading,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tab[\"a\" /* default */],{eventKey:\"banned\",title:\"Banned Users\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"container\",children:serverUsers&&userPermission?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"row\",children:serverUsers.map(function(el,i){return el.permissions===0?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"row\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(thumbnails_UserThumbnail,{userId:el.userId,changeRankCallback:openChangeRankModal,serverId:params.serverId,userPermission:userPermission})})},el._id):\"\";})}):loadedUsers?\"You do not have permission to view this server's users.\":/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(secondary_Loading,{})})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"row justify-content-end\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-6\",children:userPermission>=2?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"row\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",onClick:leaveServer,className:\"w-100 my-2 btn-md btn-outline-primary\",children:\"Leave Server\"})}):\"\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",onClick:visitServer,className:\"w-100 my-2 btn-md btn-outline-primary\",children:\"Visit Server\"})})]})]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(secondary_Loading,{})]});}/* harmony default export */ var main_ViewServer = (ViewServer);\n// EXTERNAL MODULE: ./node_modules/react-router-dom/index.js\nvar react_router_dom = __webpack_require__(13);\n\n// CONCATENATED MODULE: ./src/components/main/SplashPage.js\n//Written by Karl Pollock, 2022.\n//KarlPollock91@gmail.com\n//www.karlpollock.com\n//A splash page to shill my garbage.\nfunction SplashPage(props){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"w-75 mx-auto mt-5 input-form-wrapper text-center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:\"Logo for pic park\",className:\"img-fluid\",src:\"\".concat(\"/picpark\",\"/images/logo.png\")}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Hello and thank you for visiting my project, Pic Park. Feel free to create a new server in the top left and upload some images or you can visit an example server at the URL below.\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* NavLink */],{to:\"/picpark/s/61f4dcd42e57a1a4b41388e1\",children:\"Guest Server\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"KarlPollock91@gmail.com\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"www.karlpollock.com\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Created by Karl Pollock, 2022.\"})]});}/* harmony default export */ var main_SplashPage = (SplashPage);\n// CONCATENATED MODULE: ./src/components/main/App.js\n//Written by Karl Pollock, 2022.\n//KarlPollock91@gmail.com\n//www.karlpollock.com\n//App.js is the top level component which ensures the user is logged in correctly before displaying child components.\nfunction App(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),loggedIn=_useState4[0],setLoggedIn=_useState4[1];var _useState5=Object(react[\"useState\"])(),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),userInfo=_useState6[0],setUserInfo=_useState6[1];//Component hook that checks if user is logged.\nObject(react[\"useEffect\"])(function(){if(!localStorage.getItem(\"authToken\")){setLoading(false);setLoggedIn(false);}else{verifyAuth();}},[]);//Send the users current auth token to the server to validate.\nvar verifyAuth=function verifyAuth(){axios_default.a.get(\"\".concat(SERVER_URL,\"/accounts/verifyAuth\"),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")// \"Access-Control-Allow-Origin\": \"*\"\n}}).then(function(res){if(res.status===200){setUserInfo(res.data);setLoggedIn(true);}}).catch(function(err){localStorage.clear();});};//Log out and return to login screen.\nvar logout=function logout(){localStorage.clear();setLoggedIn(false);};var _useState7=Object(react[\"useState\"])(false),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),newServer=_useState8[0],setNewServer=_useState8[1];var _useState9=Object(react[\"useState\"])(false),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),newUser=_useState10[0],setNewUser=_useState10[1];//Refresh the items in the left sidebar.\nvar refreshLeftSidebar=function refreshLeftSidebar(){setNewServer(!newServer);};//Refresh the items in the right sidebar.\nvar refreshRightSidebar=function refreshRightSidebar(){setNewUser(!newUser);};if(loading){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"wrapper w-100 h-100 mw-100 mh-100\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(secondary_Loading,{})});}else if(loggedIn){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"w-100 vh-100 container-fluid\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col vh-100 border border-secondary full-height\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(main_LeftSidebar,{newServer:newServer,userId:userInfo._id})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"overflow-auto col-8 vh-100 border border-secondary full-height\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Routes */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/picpark\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(main_SplashPage,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/picpark/s/:serverId\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(main_Main,{refreshLeftSidebar:refreshLeftSidebar})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/picpark/createServer\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(main_ServerCreation,{refreshLeftSidebar:refreshLeftSidebar})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/picpark/post/:serverId\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(main_PostCreation,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/picpark/v/:serverId/:postId\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(main_ViewPost,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/picpark/profile/:userId\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(main_ViewProfile,{refreshRightSidebar:refreshRightSidebar})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/picpark/serverInfo/:serverId\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(main_ViewServer,{refreshLeftSidebar:refreshLeftSidebar})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col vh-100 border border-secondary\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(main_RightSidebar,{newUser:newUser,userInfo:userInfo,logoutCallback:logout})})]})});}else{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"wrapper w-100 h-100\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(main_Login,{})});}}/* harmony default export */ var main_App = (App);\n// EXTERNAL MODULE: ./node_modules/bootstrap/dist/css/bootstrap.min.css\nvar bootstrap_min = __webpack_require__(125);\n\n// EXTERNAL MODULE: ./node_modules/bootstrap-icons/font/bootstrap-icons.css\nvar bootstrap_icons = __webpack_require__(126);\n\n// CONCATENATED MODULE: ./src/index.js\n//Written by Karl Pollock, 2022.\n//KarlPollock91@gmail.com\n//www.karlpollock.com\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(main_App,{})}),document.querySelector('#root'));\n\n/***/ }),\n\n/***/ 45:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 87:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n},[[127,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\KarlP\\new-app\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\KarlP\\new-app\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\KarlP\\new-app\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\KarlP\\new-app\\client\\src\\components\\css\\Loading.css","C:\\Users\\KarlP\\new-app\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\KarlP\\new-app\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\KarlP\\new-app\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\KarlP\\new-app\\client\\src\\components\\css\\Main.css","C:\\Users\\KarlP\\new-app\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\KarlP\\new-app\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\KarlP\\new-app\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\KarlP\\new-app\\client\\src\\components\\css\\ViewPost.css","C:/Users/KarlP/new-app/client/src/utils/constants.js","C:/Users/KarlP/new-app/client/src/components/thumbnails/Avatar.js","C:/Users/KarlP/new-app/client/src/components/secondary/Loading.js","C:/Users/KarlP/new-app/client/src/components/thumbnails/ServerThumbnail.js","C:/Users/KarlP/new-app/client/src/components/main/LeftSidebar.js","C:/Users/KarlP/new-app/client/src/components/thumbnails/PostThumbnail.js","C:/Users/KarlP/new-app/client/src/components/thumbnails/NewPostThumbnail.js","C:/Users/KarlP/new-app/client/src/components/main/Main.js","C:/Users/KarlP/new-app/client/src/components/thumbnails/UserThumbnail.js","C:/Users/KarlP/new-app/client/src/components/main/RightSidebar.js","C:/Users/KarlP/new-app/client/src/components/main/Login.js","C:/Users/KarlP/new-app/client/src/components/main/ServerCreation.js","C:/Users/KarlP/new-app/client/src/components/main/PostCreation.js","C:/Users/KarlP/new-app/client/src/components/thumbnails/CommentThumbnail.js","C:/Users/KarlP/new-app/client/src/components/secondary/CommentSection.js","C:/Users/KarlP/new-app/client/src/components/main/ViewPost.js","C:/Users/KarlP/new-app/client/src/components/main/ViewProfile.js","C:/Users/KarlP/new-app/client/src/components/main/ViewServer.js","C:/Users/KarlP/new-app/client/src/components/main/SplashPage.js","C:/Users/KarlP/new-app/client/src/components/main/App.js","C:/Users/KarlP/new-app/client/src/index.js","C:\\Users\\KarlP\\new-app\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\KarlP\\new-app\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\KarlP\\new-app\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\KarlP\\new-app\\client\\src\\components\\css\\Thumbnail.css","C:\\Users\\KarlP\\new-app\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\KarlP\\new-app\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\KarlP\\new-app\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\KarlP\\new-app\\client\\src\\components\\css\\ImageThumbnail.css"],"names":["SERVER_URL","USER_STATUS","Avatar","props","useState","avatarDataId","setAvatarDataId","useEffect","avatarPostId","axios","get","Constants","headers","localStorage","getItem","then","res","status","data","dataId","catch","err","borderRadius","objectFit","height","large","width","localPreview","process","Loading","React","Component","ServerThumbnail","navigate","useNavigate","server","setServer","serverId","serverObject","newServer","permissionObject","handleSelect","e","_id","serverName","LeftSidebar","permissions","setPermissions","userId","map","el","i","PostThumbnail","viewPost","postObject","NewPostThumbnail","newPost","Main","postIds","setPostIds","loadedPosts","setLoadedPosts","params","useParams","serverSecurities","setServerSecurities","userPermissions","setUserPermissions","loadedSecurities","setLoadedSecurities","joinServer","fd","FormData","post","refreshLeftSidebar","allowJoin","UserThumbnail","profile","setProfile","setUserId","serverPermission","setServerPermission","profileObject","userThumbnail","changeRankCallback","username","userPermission","RightSidebar","logoutCallback","userInfo","Login","registrationMode","setRegistrationMode","usernameInput","setUsernameInput","passwordInput","setPasswordInput","confirmPasswordInput","setConfirmPasswordInput","accountNameInput","setAccountNameInput","errorText","setErrorText","createRef","formRef","toggleRegistrationMode","handleRegistration","append","current","files","name","type","split","response","handleLogin","accountName","password","setItem","token","target","value","ServerCreation","nameInput","setNameInput","handleCreation","finishServerCreation","cancelServerCreation","PostCreation","textInput","setTextInput","exitPostCreation","CommentThumbnail","author","setAuthor","commentObject","authorId","deleteCommentCallback","commentText","CommentSection","comments","setComments","updateComments","setUpdateComments","newComment","setNewComment","errorMessage","setErrorMessage","postId","deleteComment","commentId","delete","makeComment","submitComment","keyCode","shiftKey","preventDefault","ViewPost","setPost","displayPostText","setDisplayPostText","editMode","setEditMode","date","setDate","Date","postText","editPost","deletePost","exitViewPost","dataType","toDateString","ViewProfile","updateProfile","setUpdateProfile","madeChanges","setMadeChanges","editUsername","setEditUsername","hoverOverAvatar","setHoverOverAvatar","previewAvatar","setPreviewAvatar","userServers","setUserServers","loadedServers","setLoadedServers","userSecurities","setUserSecurities","useRef","saveChanges","refreshRightSidebar","exitViewProfile","mouseOverEvent","mouseLeaveEvent","onClickAvatar","click","changeAvatar","reader","FileReader","onload","result","readAsDataURL","usernameEvent","securitySettingEvent","updatedSecurities","id","serversVisibility","display","ViewServer","updateServer","setUpdateServer","setUserPermission","editServerName","setEditServerName","serverUsers","setServerUsers","loadedUsers","setLoadedUsers","postsVisibility","setPostsVisibility","setAllowJoin","allowComment","setAllowComment","usersVisibility","setUsersVisibility","modalTextDict","showLeaveModal","setShowLeaveModal","leaveModalStage","setLeaveModalStage","showRankModal","setShowRankModal","rankModalProfile","setRankModalProfile","rankRadio","setRankRadio","permission","leaveServer","leaveServerConfirm","leaveServerCancel","openChangeRankModal","changeRankModalRadio","changeRank","exitViewServer","serverNameEvent","visitServer","SplashPage","App","loading","setLoading","loggedIn","setLoggedIn","setUserInfo","verifyAuth","clear","logout","setNewServer","newUser","setNewUser","ReactDOM","render","document","querySelector"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","//Written by Karl Pollock, 2022.\r\n//KarlPollock91@gmail.com\r\n//www.karlpollock.com\r\n\r\nexport const SERVER_URL = \"https://picpark.herokuapp.com\"\r\nexport const USER_STATUS = {\r\n    0: \"Banned\",\r\n    1: \"Non-Member\",\r\n    2: \"Member\",\r\n    3: \"Member+\",\r\n    4: \"Moderator\",\r\n    5: \"Admin\"\r\n}","//Written by Karl Pollock, 2022.\r\n//KarlPollock91@gmail.com\r\n//www.karlpollock.com\r\n\r\n//Avatar.js is a component used in thumbnails to display an image from the server in an avatar format.\r\n\r\nimport React, {useEffect, useState} from 'react';\r\nimport '../css/Thumbnail.css';\r\nimport axios from 'axios'\r\n\r\nimport * as Constants from '../../utils/constants';\r\n\r\nfunction Avatar(props) {\r\n\r\n    const [avatarDataId, setAvatarDataId] = useState();\r\n\r\n    //Component hook to retrieve the image from the server.\r\n    useEffect(() => {\r\n        if (props.avatarPostId != null) {\r\n            axios.get(`${Constants.SERVER_URL}/files/getImageFromPost/${props.avatarPostId}`, {headers: \r\n                {\r\n                \"x-access-token\": localStorage.getItem(\"authToken\")\r\n                }\r\n            })\r\n            .then((res) => {\r\n                if (res.status === 200) {\r\n                    setAvatarDataId(res.data.dataId);\r\n                }\r\n            }).catch((err) => {\r\n            });\r\n        }\r\n    }, [props.avatarPostId]);\r\n\r\n    return(\r\n        <img alt=\"User avatar\" style={{borderRadius:'50%', objectFit:'cover', height: props.large ? '150px' : '50px', width: props.large ? '150px' : '50px'}} \r\n            className=\"thumbnail-image\" \r\n            src={props.localPreview ? props.localPreview :\r\n                (avatarDataId ? `${Constants.SERVER_URL}/files/image/${avatarDataId}` : `${process.env.PUBLIC_URL}/images/server_default.png`)}/>\r\n    );\r\n}\r\n\r\nexport default Avatar;","//Written by Karl Pollock, 2022.\r\n//KarlPollock91@gmail.com\r\n//www.karlpollock.com\r\n\r\n//A simple loading screen with a loading bar.\r\n//Loading bar is an open source design from:\r\n//Copyright (c) 2022 by Daria Koutevska (https://codepen.io/DariaIvK/pen/EpjPRM)\r\n\r\nimport React from 'react';\r\nimport '../css/Loading.css'\r\n\r\nclass Loading extends React.Component {\r\n    render() {\r\n        return(\r\n            <div className=\"lds-roller\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>\r\n        )\r\n    }\r\n} \r\n\r\nexport default Loading;","//Written by Karl Pollock, 2022.\r\n//KarlPollock91@gmail.com\r\n//www.karlpollock.com\r\n\r\n//ServerThumbnail.js is a component that displays a server name, avatar and provides options to visit the Server Information or Main\r\n//components for the server.\r\n\r\nimport React, {useEffect, useState} from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport * as Constants from '../../utils/constants';\r\nimport {Dropdown, DropdownButton} from 'react-bootstrap';\r\nimport Avatar from '../thumbnails/Avatar';\r\nimport Loading from '../secondary/Loading';\r\n\r\nimport '../css/Thumbnail.css';\r\n\r\nfunction ServerThumbnail(props) {\r\n\r\n    const navigate = useNavigate();\r\n    const [server, setServer] = useState({});\r\n\r\n    //Component hook to retrieve the server information.\r\n    useEffect(() => {\r\n        if (props.serverId != null) {\r\n            axios.get(`${Constants.SERVER_URL}/servers/getServer/${props.serverId}`, {headers: \r\n                {\r\n                    \"x-access-token\": localStorage.getItem(\"authToken\")\r\n                }\r\n            })\r\n            .then((res) => {\r\n                if (res.status === 200){\r\n                    setServer(res.data.serverObject); \r\n                }\r\n            }).catch((err) => {\r\n                //do nothing\r\n            });\r\n        }\r\n    }, [props.serverId, props.newServer, props.permissionObject]);\r\n\r\n\r\n    //Handles selection of the dropdown menu.\r\n    const handleSelect = (e) => {\r\n        if (e === \"view\"){\r\n            navigate(`/picpark/serverInfo/${server._id}`);\r\n        } else if (e === \"visit\") {\r\n            navigate(`/picpark/s/${server._id}`);\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div className=\"container thumbnail-wrapper w-90 my-1\">\r\n           {server ?\r\n                <div className=\"row h-100\">\r\n                    <div className=\"col-md-4 my-auto\">\r\n                        <Avatar avatarPostId={server.avatarPostId}/>\r\n                    </div>\r\n                    <div className=\"col-md-6 my-auto\">\r\n                        {server.serverName}\r\n                    </div>\r\n                    <div className=\"col-md-2\">\r\n                        <DropdownButton className=\"m-2\" title=\"\" id=\"dropdown-basic-button\" variant=\"secondary\" size=\"sm\" onSelect={handleSelect}>\r\n                            <Dropdown.Item eventKey=\"visit\">Visit Server</Dropdown.Item>\r\n                            <Dropdown.Item eventKey=\"view\">Server Information</Dropdown.Item>\r\n                        </DropdownButton>\r\n                    </div>\r\n                </div>\r\n            : <Loading/>}\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default ServerThumbnail;","//Written by Karl Pollock, 2022.\r\n//KarlPollock91@gmail.com\r\n//www.karlpollock.com\r\n\r\n//LeftSidebar.js is the component that shows all of the servers the user is currently a member of on the left side of the screen.\r\n\r\nimport React, {useEffect, useState} from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport ServerThumbnail from '../thumbnails/ServerThumbnail';\r\nimport axios from 'axios'\r\n\r\nimport * as Constants from '../../utils/constants';\r\n\r\nfunction LeftSidebar(props) {\r\n\r\n    const navigate = useNavigate();\r\n    const [permissions, setPermissions] = useState([]);\r\n\r\n    //Component hook that retrieves all of the servers the user is a member of.\r\n    useEffect(() => {\r\n        axios.get(`${Constants.SERVER_URL}/accounts/userServers/${props.userId}`, {headers: \r\n            {\r\n            \"x-access-token\": localStorage.getItem(\"authToken\")\r\n            }\r\n        })\r\n        .then((res) => {\r\n            setPermissions(res.data.permissions);\r\n        });\r\n    }, [props.newServer, props.userId]);\r\n\r\n    //Sends the user to the create server screen.\r\n    const newServer = () => {\r\n        navigate(`/picpark/createServer`);\r\n    }\r\n\r\n    return(\r\n        <div className=\"w-100\">\r\n            <button type=\"button\" className=\"w-100 btn btn-outline-primary mt-2\" onClick={newServer}><i className=\"bi bi-plus-circle\"></i> Create new server</button>\r\n            <ul className=\"list-group\">\r\n                {permissions.map((el, i) => (\r\n                    <ServerThumbnail newServer={props.newServer} key={el._id} serverId={el.serverId}/>\r\n                ))}\r\n            </ul>\r\n        </div>\r\n    )\r\n    \r\n} \r\n\r\nexport default LeftSidebar;","//Written by Karl Pollock, 2022.\r\n//KarlPollock91@gmail.com\r\n//www.karlpollock.com\r\n\r\n//Post thumbnail displays the image of a post in a smaller format. Clicking the thumbnail will take the user\r\n//to the View Post component of that post.\r\n\r\nimport { useNavigate } from 'react-router-dom';\r\nimport * as Constants from '../../utils/constants';\r\nimport '../css/ImageThumbnail.css';\r\n\r\nfunction PostThumbnail(props) {\r\n\r\n    const navigate = useNavigate();\r\n\r\n    //Sends the user to the View Post component for this post.\r\n    const viewPost = () => {\r\n        navigate(`/picpark/v/${props.postObject.serverId}/${props.postObject._id}`);\r\n    }\r\n\r\n    return(\r\n        <div className=\"col-md-3\">\r\n            <div className=\"grid-item border border-secondary\" onClick={viewPost}>\r\n                <img alt=\"Preview of a user post\" className=\"image-thumbnail\" src={`${Constants.SERVER_URL}/files/image/${props.postObject.dataId}`}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PostThumbnail;","//Written by Karl Pollock, 2022.\r\n//KarlPollock91@gmail.com\r\n//www.karlpollock.com\r\n\r\n//Simply displays an image that when clicked sends the user to the Post Creation component.\r\n\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nimport '../css/ImageThumbnail.css';\r\n\r\nfunction NewPostThumbnail(props) {\r\n\r\n    const navigate = useNavigate();\r\n\r\n    //Sends the user to the post creation component.\r\n    const newPost = () => {\r\n        navigate(`/picpark/post/${props.serverId}`);\r\n    }\r\n\r\n    return(\r\n        <div className=\"col-md-3\" onClick={newPost}>\r\n            <div className=\"grid-item border border-secondary\">\r\n                <img alt=\"Create new post button\" className=\"image-thumbnail\" src={`${process.env.PUBLIC_URL}/images/new_post.png`}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NewPostThumbnail;","//Written by Karl Pollock, 2022.\r\n//KarlPollock91@gmail.com\r\n//www.karlpollock.com\r\n\r\n//Main.js contains the main view for servers in which users can view posts and create new ones.\r\n\r\nimport React, {useState, useEffect} from 'react';\r\nimport {useNavigate, useParams } from \"react-router-dom\";\r\nimport axios from 'axios'\r\n\r\nimport '../css/Main.css'\r\nimport * as Constants from '../../utils/constants';\r\n\r\nimport ServerThumbnail from '../thumbnails/ServerThumbnail';\r\nimport PostThumbnail from '../thumbnails/PostThumbnail'\r\nimport NewPostThumbnail from '../thumbnails/NewPostThumbnail';\r\nimport Loading from '../secondary/Loading';\r\n\r\nfunction Main(props) {\r\n    const [postIds, setPostIds] = useState();\r\n    const [loadedPosts, setLoadedPosts] = useState(false);\r\n\r\n    const params = useParams();\r\n    const navigate = useNavigate();\r\n\r\n    const [serverSecurities, setServerSecurities] = useState();\r\n    const [userPermissions, setUserPermissions] = useState(0);\r\n    const [loadedSecurities, setLoadedSecurities] = useState(false);\r\n\r\n    //Component hook to retrieve all the posts currently on this server.\r\n    useEffect(() => {\r\n            axios.get(`${Constants.SERVER_URL}/servers/getPosts/${params.serverId}`, {headers: \r\n                {\r\n                    \"x-access-token\": localStorage.getItem(\"authToken\")\r\n                }\r\n            })\r\n            .then((res) => {\r\n                setLoadedPosts(true);\r\n                if (res.status === 200) {\r\n                    setPostIds(res.data);\r\n                } else if (res.status === 404) {\r\n                    navigate('/picpark')\r\n                }\r\n            }).catch((err) => {\r\n                setLoadedPosts(true);\r\n            });\r\n    }, [navigate, params.serverId]);\r\n\r\n    //Component hook that retrieves the security settings of the current server.\r\n    useEffect(() => {\r\n            axios.get(`${Constants.SERVER_URL}/servers/serverSecurities/${params.serverId}`, {headers: \r\n                {\r\n                    \"x-access-token\": localStorage.getItem(\"authToken\")\r\n                }\r\n            })\r\n            .then((res) => {\r\n                if (res.status === 200) {\r\n                    setServerSecurities(res.data.serverSecurities);\r\n                    setUserPermissions(res.data.permissions);\r\n                    setLoadedSecurities(true);\r\n                }\r\n            })\r\n    }, [params.serverId]);\r\n\r\n    //Adds the current user as a member of the server.\r\n    const joinServer = () => {\r\n        const fd = new FormData();\r\n        axios.post(`${Constants.SERVER_URL}/servers/joinServer/${params.serverId}`, fd, {headers: \r\n            {\r\n                \"x-access-token\": localStorage.getItem(\"authToken\")\r\n            }\r\n        })\r\n        .then((res) => {\r\n            if (res.status === 200) {\r\n                props.refreshLeftSidebar();\r\n                setUserPermissions(2);\r\n            }\r\n        });\r\n    }\r\n\r\n    return(\r\n        <div className=\"container\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6\">\r\n                    <ServerThumbnail serverId={params.serverId}/>\r\n                </div>\r\n                <div className=\"text-center align-middle col-md-6\">\r\n                    {loadedSecurities ?\r\n                        ((userPermissions === 1) && (serverSecurities.allowJoin === 0)) ?\r\n                            <button type=\"button\" onClick={joinServer} className=\"px-5 my-2 btn-lg btn-outline-primary\">Join Server</button>\r\n                        : <div className=\"my-3\"> Status: {Constants.USER_STATUS[userPermissions]} </div>\r\n                    : \"\"}\r\n                </div>\r\n            </div>\r\n             \r\n            <div className=\"row gy-4 mx-auto pt-3\">\r\n                {loadedSecurities && userPermissions >= 2 ?\r\n                    <NewPostThumbnail serverId={params.serverId}/>\r\n                : \"\"}\r\n                {postIds ?\r\n                        postIds.map((el, i) => (\r\n                            <PostThumbnail postObject={el} key={el._id}/>\r\n                        ))\r\n                : (loadedPosts ? \"You do not have permission to view these posts\" : <Loading/>)}\r\n            </div> \r\n            \r\n        </div>\r\n    )\r\n} \r\n\r\nexport default Main;","//Written by Karl Pollock, 2022.\r\n//KarlPollock91@gmail.com\r\n//www.karlpollock.com\r\n\r\n//UserThumbnail.js is a component that displays a username, avatar and provides options to visit the View Profile or Main\r\n//components for the user.\r\n\r\nimport React, {useEffect, useState} from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport {Dropdown, DropdownButton} from 'react-bootstrap';\r\n\r\nimport Avatar from '../thumbnails/Avatar';\r\nimport Loading from '../secondary/Loading';\r\nimport '../css/Thumbnail.css';\r\n\r\nimport * as Constants from '../../utils/constants';\r\n\r\nfunction UserThumbnail(props) {\r\n\r\n    const [profile, setProfile] = useState(null);\r\n    const [userId, setUserId] = useState(null);\r\n    const [serverPermission, setServerPermission] = useState(null);\r\n    const navigate = useNavigate();\r\n    \r\n\r\n   //Component hook to retrieve the user profile.\r\n    useEffect(() => {\r\n        if (props.userId != null) {\r\n            axios.get(`${Constants.SERVER_URL}/accounts/getUser/${props.userId}`, {headers: \r\n                {\r\n                \"x-access-token\": localStorage.getItem(\"authToken\")\r\n                }\r\n            })\r\n            .then((res) => {\r\n                if (res.status === 200){\r\n                    setProfile(res.data.profileObject);\r\n                    setUserId(res.data.userId);\r\n                }\r\n            }).catch((err) => {\r\n                //do nothing\r\n            });;\r\n        }\r\n    }, [props.serverId, props.userThumbnail, props.userId]);\r\n\r\n    //Component hook to retrieve the permissions the user has in relation to a specific server.\r\n    useEffect(() => {\r\n        if (props.serverId && props.userId != null) {\r\n            axios.get(`${Constants.SERVER_URL}/servers/userPermissions/${props.serverId}/${props.userId}`, {headers: \r\n                {\r\n                \"x-access-token\": localStorage.getItem(\"authToken\")\r\n                }\r\n            })\r\n            .then((res) => {\r\n                if (res.status === 200){\r\n                    setServerPermission(res.data.permissions);\r\n                }\r\n            });\r\n        }\r\n    }, [props.serverId, props.userId]);\r\n\r\n    //Handles the drop down menu for the post.\r\n    const handleSelect = (e) => {\r\n        if (e === \"view\"){\r\n            navigate(`/picpark/profile/${profile._id}`);\r\n        } else if (e === \"status\") {\r\n            props.changeRankCallback(profile._id, profile.username, serverPermission);\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div className=\"container thumbnail-wrapper w-90\">\r\n           {profile ?\r\n                <div className=\"row h-100\">\r\n                    <div className=\"col-md-4 my-auto\">\r\n                        <Avatar avatarPostId={profile.avatarPostId}/>\r\n                    </div>\r\n                    <div className=\"col-md-6 my-auto\">\r\n                        <div className=\"row\">\r\n                            {profile.username}\r\n                        </div>\r\n                        {serverPermission ? \r\n                            <div className=\"row\">\r\n                                {Constants.USER_STATUS[serverPermission]}\r\n                            </div>\r\n                        : \"\"}\r\n                    </div>\r\n                    <div className=\"col-md-2\">\r\n                        <DropdownButton className=\"m-2\" title=\"\" id=\"dropdown-basic-button\" variant=\"secondary\" size=\"sm\" onSelect={handleSelect}>\r\n                            <Dropdown.Item eventKey=\"view\">View Profile</Dropdown.Item>\r\n                            {(props.serverId) && (props.userPermission >= 4) && (props.userPermission >= serverPermission) && (userId !== profile._id) ?\r\n                                <Dropdown.Item eventKey=\"status\">Change User Rank</Dropdown.Item> \r\n                                : \"\"\r\n                            }\r\n                        </DropdownButton>\r\n                    </div>\r\n                </div>\r\n            : <Loading/>}\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default UserThumbnail;","//Written by Karl Pollock, 2022.\r\n//KarlPollock91@gmail.com\r\n//www.karlpollock.com\r\n\r\n//RightSidebar.js is the component that contains the log out button as well as a link to the current user's profile\r\n\r\nimport React from 'react';\r\nimport UserThumbnail from '../thumbnails/UserThumbnail';\r\n\r\nfunction RightSidebar(props) {\r\n\r\n    return(\r\n\r\n        <div className=\"w-100\">\r\n            <ul className=\"list-group\">\r\n                <button type=\"button\" className=\"btn btn-outline-primary w-100 mt-2\" onClick={props.logoutCallback}>Log out</button>\r\n\r\n                <UserThumbnail userId={props.userInfo._id} key={props.userInfo._id}/>\r\n\r\n            </ul>\r\n        </div>\r\n    )\r\n    \r\n} \r\n\r\nexport default RightSidebar;","//Written by Karl Pollock, 2022.\r\n//KarlPollock91@gmail.com\r\n//www.karlpollock.com\r\n\r\n//Login.js contains the component that handles both login and registration for new users.\r\n\r\nimport React, {useState} from 'react';\r\nimport {useNavigate} from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport {Form} from 'react-bootstrap';\r\n\r\nimport * as Constants from '../../utils/constants';\r\n\r\nfunction Login(props) {\r\n    const [registrationMode, setRegistrationMode] = useState(false);\r\n    const [usernameInput, setUsernameInput] = useState('');\r\n    const [passwordInput, setPasswordInput] = useState('');\r\n    const [confirmPasswordInput, setConfirmPasswordInput] = useState('');\r\n    const [accountNameInput, setAccountNameInput] = useState('');\r\n    const [errorText, setErrorText] = useState('');\r\n    const [formRef] = useState(React.createRef());\r\n\r\n    const navigate = useNavigate();\r\n    \r\n    //Toggles the display between login mode and registration mode.\r\n    const toggleRegistrationMode = () => {\r\n        if (!registrationMode) {\r\n        setRegistrationMode(true);\r\n        } else {\r\n            setRegistrationMode(false);\r\n        }\r\n        setErrorText('');\r\n    }\r\n\r\n    //Sends the inputted information to the server in order to generate an account.\r\n    const handleRegistration = () => {\r\n        if (passwordInput === confirmPasswordInput ){\r\n\r\n            const fd = new FormData();\r\n\r\n            fd.append(\"username\", usernameInput);\r\n            fd.append(\"password\", passwordInput);\r\n            fd.append(\"accountName\", accountNameInput);\r\n\r\n            if (formRef.current.files[0] && formRef.current.files[0].name) {\r\n                fd.append('file-upload', formRef.current.files[0], formRef.current.files[0].name);\r\n            }\r\n\r\n            if ((!formRef.current.files[0]) || (formRef.current.files[0].type.split('/')[0] === \"image\")) {\r\n                axios.post(`${Constants.SERVER_URL}/accounts/register`, fd, {\r\n                    headers: {\r\n                        'Content-Type': 'application/json'}\r\n                    })\r\n                .then((res) => {\r\n                    if (res.status === 200) {\r\n                        toggleRegistrationMode();\r\n                        setErrorText(\"Registration successful.\")\r\n                    } \r\n                })\r\n                .catch((err) => {\r\n                    if (err.response.status === 400) {\r\n                        setErrorText(\"That account name is already in use.\")\r\n                    } else {\r\n                        setErrorText(\"Something went wrong.\")\r\n                    }\r\n                });\r\n            } else {\r\n                setErrorText(\"Only image files can be set as your avatar.\")\r\n            };\r\n        } else {\r\n            setErrorText(\"Your password does not match.\")\r\n        }\r\n    }\r\n\r\n    //Sends the information to the server to verify for logging in.\r\n    const handleLogin = () => {\r\n        const data = {\r\n            accountName: accountNameInput,\r\n            password: passwordInput\r\n        };\r\n\r\n        axios.post(`${Constants.SERVER_URL}/accounts/login`, data, {\r\n            headers: {\r\n                'Content-Type': 'application/json'}\r\n            })\r\n        .then((res) => {\r\n            if (res.status === 200) {\r\n                localStorage.setItem(\"authToken\", res.data.token);\r\n                navigate(\"/picpark\")\r\n            } \r\n        })\r\n        .catch((err) => {\r\n            if (err.response.status === 401) {\r\n                setErrorText(\"Invalid account name or password.\")\r\n            } else{\r\n                setErrorText(\"Something went wrong.\")\r\n            }\r\n        });\r\n    }\r\n\r\n    if (!registrationMode){\r\n        return (\r\n            <div className=\"input-form-wrapper text-center w-50 container my-5\">\r\n                <h2 className=\"m-3\">Login</h2>\r\n                <div className=\"row\">{errorText}</div>\r\n                <div className=\"input-group mb-3 row\">\r\n                    <input type=\"text\" value={accountNameInput} onInput={e => setAccountNameInput(e.target.value)} className=\"form-control\" placeholder=\"Account Name\" aria-label=\"Account Name\" aria-describedby=\"basic-addon1\"/>\r\n                </div>\r\n                <div className=\"input-group mb-3 row\">\r\n                    <input type=\"password\" value={passwordInput} onInput={e => setPasswordInput(e.target.value)} className=\"form-control\" placeholder=\"Password\" aria-label=\"Password\" aria-describedby=\"basic-addon1\"/>\r\n                </div>\r\n                <button type=\"button row\" onClick={handleLogin} className=\"btn btn-outline-primary\">Login</button>\r\n                <div className=\"user-select-none row\" onClick={toggleRegistrationMode}>Register new account</div>\r\n            </div>\r\n        )\r\n    } else {\r\n        return (\r\n            <div className=\"input-form-wrapper text-center w-50 container my-5\">\r\n                <h2 className=\"m-3\">Registration</h2>\r\n                <div className=\"row\">{errorText}</div>\r\n                <div className=\"input-group mb-3 row\">\r\n                    <input type=\"text\" maxLength={20} value={usernameInput} onInput={e => setUsernameInput(e.target.value)} id=\"reg-username\" className=\"form-control\" placeholder=\"Username\" aria-label=\"Username\" aria-describedby=\"basic-addon1\"/>\r\n                </div>\r\n                <div className=\"input-group mb-3 row\">\r\n                    <span className=\"input-group-text\" id=\"basic-addon1\">@</span>\r\n                    <input type=\"text\" value={accountNameInput} onInput={e => setAccountNameInput(e.target.value)} className=\"form-control\" placeholder=\"Account Name\" aria-label=\"Account Name\" aria-describedby=\"basic-addon1\"/>\r\n                </div>\r\n                <div className=\"input-group mb-3 row\">\r\n                    <input type=\"password\" value={passwordInput} onInput={e => setPasswordInput(e.target.value)} className=\"form-control\" placeholder=\"Password\" aria-label=\"Password\" aria-describedby=\"basic-addon1\"/>\r\n                </div>\r\n                <div className=\"input-group mb-3 row\">\r\n                    <input type=\"password\" value={confirmPasswordInput} onInput={e => setConfirmPasswordInput(e.target.value)} className=\"form-control\" placeholder=\"Confirm Password\" aria-label=\"Confirm Password\" aria-describedby=\"basic-addon1\"/>\r\n                </div>\r\n                <Form className=\"row\" action=\"/file\" method=\"post\" encType=\"multipart/form-data\">\r\n                        <Form.Group controlId=\"formFile\" className=\"mb-3\" a>\r\n                            <Form.Control type=\"file\" name=\"file-upload\" ref={formRef}/>\r\n                        </Form.Group>\r\n                </Form>\r\n                <button type=\"button\" onClick={handleRegistration} className=\"btn btn-outline-primary row\">Register</button>\r\n                <div className=\"user-select-none row\" onClick={toggleRegistrationMode}>Return to login</div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Login;","//Written by Karl Pollock, 2022.\r\n//KarlPollock91@gmail.com\r\n//www.karlpollock.com\r\n\r\n//ServerCreation.js holds the component for creating a new server.\r\n\r\nimport React, {useState} from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport {Form} from 'react-bootstrap';\r\n\r\nimport * as Constants from '../../utils/constants';\r\n\r\nfunction ServerCreation(props) {\r\n\r\n    const [nameInput, setNameInput] = useState('');\r\n    const [errorText, setErrorText] = useState('');\r\n    const [formRef] = useState(React.createRef());\r\n    const navigate = useNavigate();\r\n\r\n    //Sends input forms to server to generate a user server.\r\n    const handleCreation = () => {\r\n        const fd = new FormData();\r\n\r\n        fd.append(\"serverName\", nameInput);\r\n        \r\n\r\n        if (formRef.current.files[0] && formRef.current.files[0].name) {\r\n            fd.append('file-upload', formRef.current.files[0], formRef.current.files[0].name);\r\n        }\r\n\r\n        if ((!formRef.current.files[0]) || (formRef.current.files[0].type.split('/')[0] === \"image\")) {\r\n            axios.post(`${Constants.SERVER_URL}/servers/create`, fd, {\r\n                headers: {\r\n                    'x-access-token': localStorage.getItem(\"authToken\"),\r\n                    'Content-Type': 'multipart/form-data'\r\n                }\r\n            })\r\n            .then((res) => {\r\n                if (res.status === 200) {\r\n                    setErrorText(\"Server created\")\r\n                    finishServerCreation(res.data.serverId);\r\n                } \r\n            })\r\n            .catch((err) => {\r\n                setErrorText(\"Something went wrong.\")\r\n            });\r\n        } else {\r\n            setErrorText(\"Only image files can be set as the server thumbnail.\")\r\n        };\r\n    }\r\n\r\n    //Sends the user back a page.\r\n    const cancelServerCreation = () => {\r\n        navigate(-1);\r\n    }\r\n\r\n    //Sends the user to the Main.js component for server with id serverId\r\n    const finishServerCreation = (serverId) => {\r\n        props.refreshLeftSidebar();\r\n        navigate(`/picpark/s/${serverId}`);\r\n    }\r\n        return (\r\n            <div className=\"text-center position-relative w-100 h-100\">\r\n                <i className=\"bi bi-x-circle position-absolute top-0 end-0 fa-lg\" onClick={cancelServerCreation}></i>\r\n                <div className=\"mx-auto w-75 mt-5\">\r\n                    <h3>Server Creation</h3>\r\n                    <div>{errorText}</div>\r\n                    Server Name\r\n                    <div className=\"input-group mb-3 \">\r\n                        <input type=\"text\" maxLength={20} value={nameInput} onInput={e => setNameInput(e.target.value)} className=\"form-control\" placeholder=\"Server Name\" aria-label=\"servername\" aria-describedby=\"basic-addon1\"/>\r\n                    </div>\r\n                    Server Thumbnail\r\n                    <Form action=\"/file\" method=\"post\" encType=\"multipart/form-data\">\r\n                        <Form.Group controlId=\"formFile\" className=\"mb-3\" a>\r\n                            <Form.Control type=\"file\" name=\"file-upload\" ref={formRef}/>\r\n                        </Form.Group>\r\n                    </Form>\r\n                    <button type=\"button\" onClick={handleCreation} className=\"btn btn-outline-primary\">Create</button>\r\n                </div>\r\n            </div>\r\n        )\r\n}\r\n\r\nexport default ServerCreation;","//Written by Karl Pollock, 2022.\r\n//KarlPollock91@gmail.com\r\n//www.karlpollock.com\r\n\r\n//PostCreation.js is where users will write a post, and upload an image along side it.\r\n\r\nimport React, {useState} from 'react';\r\nimport axios from 'axios';\r\nimport {Form} from 'react-bootstrap';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\n\r\nimport * as Constants from '../../utils/constants';\r\n\r\nfunction PostCreation(props) {\r\n    const [errorText, setErrorText] = useState('');\r\n    const [textInput, setTextInput] = useState('');\r\n    const [formRef] = useState(React.createRef());\r\n    \r\n    const navigate = useNavigate();\r\n    const params = useParams();\r\n\r\n    //Sends the forms to the server to generate a post.\r\n    const handleCreation = () => {\r\n        const fd = new FormData();\r\n\r\n        fd.append(\"postText\", textInput);\r\n        \r\n        if ((!formRef.current.files[0]) || (formRef.current.files[0].type.split('/')[0] === \"image\")) {\r\n            fd.append('file-upload', formRef.current.files[0], formRef.current.files[0].name);\r\n            \r\n            axios.post(`${Constants.SERVER_URL}/posts/upload/${params.serverId}`, fd, {\r\n                headers: {\r\n                    'x-access-token': localStorage.getItem(\"authToken\"),\r\n                    'Content-Type': 'multipart/form-data'\r\n                }\r\n                })\r\n            .then((res) => {\r\n                if (res.status === 200) {\r\n                    exitPostCreation();\r\n                } \r\n            })\r\n            .catch((err) => {\r\n                setErrorText(\"Something went wrong.\")\r\n            });\r\n        } else {\r\n            setErrorText(\"Only image files can be uploaded.\")\r\n        };\r\n\r\n    \r\n    }\r\n\r\n    //Returns the user to the server they were posting to.\r\n    const exitPostCreation = () => {\r\n        navigate(`/picpark/s/${params.serverId}`);\r\n    }\r\n\r\n    return (\r\n        <div className=\"text-center container position-relative w-100 h-100\">\r\n            <i className=\"bi bi-x-circle position-absolute top-0 end-0 fa-lg\" onClick={exitPostCreation}></i>\r\n            <div className=\"mx-auto w-75 mt-5\">\r\n                <h3>New Post</h3>\r\n                <div>{errorText}</div> \r\n                Post Text\r\n                <div className=\"input-group w-100\">\r\n                    <textarea type=\"text\" value={textInput} onInput={e => setTextInput(e.target.value)} className=\"form-control\" aria-label=\"Add text\"></textarea>\r\n                </div>\r\n                Image File\r\n                <Form className=\"w-100\" action=\"/file\" method=\"post\" encType=\"multipart/form-data\">\r\n                    <Form.Group controlId=\"formFile\" className=\"mb-3\" a>\r\n                        <Form.Control type=\"file\" name=\"file-upload\" ref={formRef}/>\r\n                    </Form.Group>\r\n                </Form>\r\n                <button type=\"button\" onClick={handleCreation} className=\"btn btn-outline-primary\">Submit</button>\r\n            </div>\r\n        </div>\r\n  );\r\n}\r\n\r\nexport default PostCreation;","//Written by Karl Pollock, 2022.\r\n//KarlPollock91@gmail.com\r\n//www.karlpollock.com\r\n\r\n//CommentThumbnail.js displays the comments posted in the comment section including information about the user who posted it.\r\n\r\nimport React, {useEffect, useState} from 'react';\r\nimport {Dropdown, DropdownButton} from 'react-bootstrap';\r\nimport axios from 'axios';\r\n\r\nimport '../css/Thumbnail.css';\r\nimport * as Constants from '../../utils/constants';\r\n\r\nimport Loading from '../secondary/Loading';\r\nimport Avatar from '../thumbnails/Avatar';\r\n\r\n\r\nfunction CommentThumbnail(props) {\r\n\r\n    const [author, setAuthor] = useState(null);\r\n    const [userId, setUserId] = useState();\r\n\r\n    //Component hook to retrieve the profile of the comments author.\r\n    useEffect(() => {\r\n        if (props.commentObject != null) {\r\n            axios.get(`${Constants.SERVER_URL}/accounts/getUser/${props.commentObject.authorId}`, {headers: \r\n                {\r\n                    \"x-access-token\": localStorage.getItem(\"authToken\")\r\n                }\r\n            })\r\n            .then((res) => {\r\n                if (res.status === 200){\r\n                    setAuthor(res.data.profileObject); \r\n                    setUserId(res.data.userId);\r\n                }\r\n            }).catch((err) => {\r\n                //do nothing\r\n            });;\r\n        }\r\n    }, [props.commentObject]);\r\n\r\n    //Handles selection from the dropdown menu.\r\n    const handleSelect = (e) => {\r\n        if (e === \"delete\"){\r\n            props.deleteCommentCallback(props.commentObject._id);\r\n        }\r\n    }\r\n\r\n    return(\r\n        author ?\r\n            <div className=\"container thumbnail-wrapper w-90 m-2 border border-secondary\">\r\n                    <div className=\"position-absolute end-0 me-2\">\r\n                        {(author._id === userId) ?\r\n                            <DropdownButton title=\"\" id=\"dropdown-basic-button\" variant=\"secondary\" size=\"sm\" onSelect={handleSelect}>\r\n                                <Dropdown.Item eventKey=\"delete\">Delete</Dropdown.Item>\r\n                            </DropdownButton>\r\n                        : \"\"}\r\n                    </div>\r\n                    <div className=\"row h-100\">\r\n                        <div className=\"col-md-2 my-3\">\r\n                            <Avatar avatarPostId={author.avatarPostId}/>\r\n                        </div>\r\n                        <div className=\"col-md-10 my-auto\">\r\n                            <div className=\"border-bottom border-secondary text-center\">\r\n                                <h5>{author.username}</h5>\r\n                            </div>\r\n                            <div className=\"w-100 p-2\">\r\n                                {props.commentObject.commentText}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n            </div>\r\n        : <Loading/>\r\n\r\n    );\r\n}\r\n\r\nexport default CommentThumbnail;","//Written by Karl Pollock, 2022.\r\n//KarlPollock91@gmail.com\r\n//www.karlpollock.com\r\n\r\n//CommentSecton.js is a secondary component that is a child of ViewPost. Here, users can read comments and comment on a post.\r\n\r\nimport React, {useEffect, useState} from 'react';\r\nimport axios from 'axios';\r\nimport * as Constants from '../../utils/constants';\r\nimport CommentThumbnail from '../thumbnails/CommentThumbnail'\r\nimport '../css/Thumbnail.css';\r\n\r\nfunction CommentSection(props) {\r\n\r\n    const [comments, setComments] = useState([]);\r\n    const [updateComments, setUpdateComments] = useState(true);\r\n    const [newComment, setNewComment] = useState('');\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n\r\n    //Component hook to get the comments on a post.\r\n    useEffect(() => {\r\n        axios.get(`${Constants.SERVER_URL}/posts/getComments/${props.serverId}/${props.postId}`, {headers: \r\n                {\r\n                    \"x-access-token\": localStorage.getItem(\"authToken\")\r\n                }\r\n            })\r\n            .then((res) => {\r\n                if (res.status === 200){\r\n                    setComments(res.data);  \r\n                }\r\n            });\r\n    }, [updateComments, props.serverId, props.postId]);\r\n\r\n    //Delete a comment by ID.\r\n    const deleteComment = (commentId) => {\r\n        axios.delete(`${Constants.SERVER_URL}/posts/deleteComment/${props.serverId}/${commentId}`, {headers: \r\n        {\r\n            \"x-access-token\": localStorage.getItem(\"authToken\")\r\n        }})\r\n        .then((res) => {\r\n            if (res.status === 200){\r\n                setUpdateComments(!updateComments);\r\n            }\r\n        });\r\n    }\r\n\r\n    //Sends post to server to add comment to comments.\r\n    const makeComment = (e) => {\r\n        const fd = new FormData();\r\n        fd.append(\"commentText\", newComment);\r\n\r\n        axios.post(`${Constants.SERVER_URL}/posts/makeComment/${props.serverId}/${props.postId}`, fd,\r\n            {\r\n                headers: \r\n                    {\r\n                        \"x-access-token\": localStorage.getItem(\"authToken\"),\r\n                        'Content-Type': 'multipart/form-data'\r\n                    }\r\n            })\r\n        .then((res) => {\r\n            if (res.status === 200){\r\n                setNewComment('');\r\n                setUpdateComments(!updateComments);\r\n            }\r\n        }).catch((err) => {\r\n            setErrorMessage(\"You do not have permission to comment in this server.\");\r\n        });\r\n    }\r\n\r\n     //Enter pressed in the comment text field.\r\n     const submitComment = (e) => {\r\n        if(e.keyCode === 13 && e.shiftKey === false) {\r\n          e.preventDefault();\r\n          makeComment(e);\r\n\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div className=\"col border border-secondary content-comment mb-4 \">\r\n            <ul className=\"list-group w-100\">\r\n                    {errorMessage}\r\n                    <div className=\"border-bottom border-secondary pb-2\">\r\n                    <textarea type=\"text\" value={newComment} onInput={e => setNewComment(e.target.value)} className=\"form-control mt-3\" rows=\"2\" placeholder=\"Comment\" aria-label=\"Comment\" onKeyDown={submitComment}/>\r\n                    <button type=\"button\" className=\"btn btn-outline-secondary\" onClick={makeComment}>Post Comment</button>\r\n                    </div>\r\n                    {comments.map((el, i) => (\r\n                        <CommentThumbnail   key={el._id}\r\n                                            deleteCommentCallback={deleteComment}\r\n                                            commentObject={el}/>\r\n                    ))}\r\n            </ul>\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default CommentSection;","//Written by Karl Pollock, 2022.\r\n//KarlPollock91@gmail.com\r\n//www.karlpollock.com\r\n\r\n//ViewPost.js allows a user to view the post, who made it and when, as well as comment and read comments written on the post.\r\n\r\nimport React, {useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate, useParams} from 'react-router-dom';\r\nimport {Dropdown, DropdownButton} from 'react-bootstrap';\r\n\r\nimport '../css/ViewPost.css'\r\nimport * as Constants from '../../utils/constants';\r\n\r\nimport UserThumbnail from '../thumbnails/UserThumbnail';\r\nimport CommentSection from '../secondary/CommentSection';\r\nimport Loading from '../secondary/Loading';\r\n\r\nfunction ViewPost(props) {\r\n    \r\n    const [userId, setUserId] = useState('');\r\n    const [post, setPost] = useState({});\r\n    const [displayPostText, setDisplayPostText] = useState('');\r\n    const [editMode, setEditMode] = useState(false);\r\n    const [date, setDate] = useState('');\r\n\r\n    const navigate = useNavigate();\r\n    const params = useParams();\r\n  \r\n    //Component hook to retrieve the post information from the server.\r\n    useEffect(() => {\r\n        axios.get(`${Constants.SERVER_URL}/servers/getPost/${params.serverId}/${params.postId}`, {headers: \r\n                {\r\n                    \"x-access-token\": localStorage.getItem(\"authToken\")\r\n                }\r\n        }).then((res) => {\r\n            if (res.status === 200) {\r\n                setDate(new Date(res.data.post.date));\r\n                setPost(res.data.post);\r\n                setUserId(res.data.userId);\r\n                setDisplayPostText(res.data.post.postText);\r\n            } else  if (res.status === 404) {\r\n                navigate('/picpark');\r\n            }\r\n\r\n        })\r\n    }, [navigate, params.postId, params.serverId]);\r\n\r\n    //Sends inputted data to the server to edit the post.\r\n    const editPost = () => {\r\n        setEditMode(false);\r\n        const fd = new FormData();\r\n        fd.append(\"displayPostText\", displayPostText);\r\n\r\n        axios.post(`${Constants.SERVER_URL}/posts/editPost/${params.serverId}/${params.postId}`, fd,\r\n            {\r\n                headers: \r\n                    {\r\n                        \"x-access-token\": localStorage.getItem(\"authToken\"),\r\n                        'Content-Type': 'multipart/form-data'\r\n                    }\r\n            })\r\n            .then((res) => {\r\n                if (res.status === 200){\r\n                    \r\n                } else {\r\n                    setDisplayPostText(post.postText);\r\n                }\r\n            });\r\n    }\r\n\r\n    //Sends a request to the server to delete the post.\r\n    const deletePost = () => {\r\n        axios.delete(`${Constants.SERVER_URL}/posts/deletePost/${params.serverId}/${params.postId}`, {headers: \r\n        {\r\n            \"x-access-token\": localStorage.getItem(\"authToken\")\r\n        }})\r\n        .then((res) => {\r\n            if (res.status === 200){\r\n                exitViewPost();\r\n            }\r\n        });\r\n    }\r\n\r\n    //Handles the drop down menu for the post.\r\n    const handleSelect = (e) => {\r\n        if (e === \"edit\"){\r\n            setEditMode(true);\r\n        } else if (e === \"delete\"){\r\n            deletePost();\r\n        }\r\n    }\r\n\r\n    //Return to the Main view for the posts server.\r\n    const exitViewPost = () => {\r\n        navigate(`/picpark/s/${params.serverId}`);\r\n    }\r\n\r\n   \r\n\r\n    return (\r\n        <div className=\"container text-center position-relative w-100 h-100\">\r\n            <i className=\"bi bi-x-circle position-absolute top-0 end-0 fa-lg\" onClick={exitViewPost}></i>\r\n            {post ?\r\n\r\n                <div className=\"row start-50 translate-middle-x top-0 position-absolute w-100 mt-4 m-1\">\r\n                    <div className=\"col\">\r\n                        {post.dataType !== \"text\" ?\r\n                            <div className=\"row border border-secondary content-viewer\">\r\n                                <div className=\"position-absolute end-0 me-4 mt-2\">\r\n                                    {(post.authorId === userId) ?\r\n                                        <DropdownButton title=\"\" id=\"dropdown-basic-button\" variant=\"secondary\" size=\"sm\" onSelect={handleSelect}>\r\n                                            <Dropdown.Item eventKey=\"edit\">Edit</Dropdown.Item>\r\n                                            <Dropdown.Item eventKey=\"delete\">Delete</Dropdown.Item>\r\n                                        </DropdownButton>\r\n                                    : \"\"}\r\n                                </div>\r\n                                <div>\r\n                                    {post.dataType === \"image\" ? <img alt={`Posted by user with ID ${post.authorId}`}  className=\"img-fluid my-3 mx-auto d-block\" src={`${Constants.SERVER_URL}/files/image/${post.dataId}`}/> : null}\r\n                                </div>\r\n                            </div>\r\n                        : null} \r\n\r\n                        <div className=\"row border border-secondary\">\r\n                            <div className=\"col-4 my-auto border-end border-secondary\">\r\n                                {date ?\r\n                                    date.toDateString()\r\n                                : \"\"}\r\n                            </div>\r\n                            <div className=\"col-8\">\r\n                                <UserThumbnail userId={post.authorId}/>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"row border border-secondary content-text mb-4 h-auto\">\r\n                            <div className=\"p-2\">\r\n                                {\r\n                                    editMode \r\n                                    ?\r\n                                    <div>\r\n                                    <textarea type=\"text\" value={displayPostText} onInput={e => setDisplayPostText(e.target.value)} className=\"form-control mt-3\" rows=\"2\" placeholder=\"Edit Post\" aria-label=\"Edit Post\"/>\r\n                                    <button type=\"button\" onClick={editPost} className=\"btn-md btn-outline-primary\">Save Changes</button>\r\n                                    </div>\r\n                                    :\r\n                                    displayPostText\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    {userId ?\r\n                        <CommentSection userId={userId} serverId={params.serverId} postId={params.postId}/>\r\n                    : <Loading/>} \r\n                </div>\r\n\r\n            : <Loading/>}\r\n            \r\n        </div>\r\n  );\r\n}\r\n\r\nexport default ViewPost;","//Written by Karl Pollock, 2022.\r\n//KarlPollock91@gmail.com\r\n//www.karlpollock.com\r\n\r\n//Displays a users profile which can include servers they're a part of as well as security options.\r\n\r\nimport React, {useState, useEffect, useRef} from 'react';\r\nimport {Tabs, Tab, Form} from 'react-bootstrap';\r\nimport {useNavigate, useParams} from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nimport Avatar from '../thumbnails/Avatar';\r\nimport Loading from '../secondary/Loading'\r\nimport ServerThumbnail from '../thumbnails/ServerThumbnail';\r\n\r\nimport * as Constants from '../../utils/constants';\r\n\r\nfunction ViewProfile(props) {\r\n    \r\n    const [updateProfile, setUpdateProfile] = useState(false);\r\n\r\n    const [profile, setProfile] = useState(null);\r\n    const [userId, setUserId] = useState();\r\n\r\n    const [madeChanges, setMadeChanges] = useState(true);\r\n\r\n    const [editUsername, setEditUsername] = useState('');\r\n\r\n    const [hoverOverAvatar, setHoverOverAvatar] = useState(false);\r\n    const [previewAvatar, setPreviewAvatar] = useState();\r\n\r\n    const [userServers, setUserServers] = useState([]);\r\n    const [loadedServers, setLoadedServers] = useState(false);\r\n\r\n    const [userSecurities, setUserSecurities] = useState();\r\n    const [loadedSecurities, setLoadedSecurities] = useState(false);\r\n\r\n    const navigate = useNavigate();\r\n    const params = useParams();\r\n    const formRef = useRef(null);\r\n\r\n    //Component hook for retrieving the user profile.\r\n    useEffect(() => {\r\n        axios.get(`${Constants.SERVER_URL}/accounts/getUser/${params.userId}`, {headers: \r\n                {\r\n                    \"x-access-token\": localStorage.getItem(\"authToken\")\r\n                }\r\n        }).then((res) => {\r\n            if (res.status === 200) {\r\n                setProfile(res.data.profileObject);\r\n                setUserId(res.data.userId);\r\n                setEditUsername(res.data.profileObject.username);\r\n            } else if (res.status === 404) {\r\n                navigate('/picpark');\r\n            }\r\n        });\r\n    }, [navigate, params.userId, updateProfile]);\r\n\r\n    //Component hook for getting the servers the profile's user is a member of.\r\n    useEffect(() => {\r\n       axios.get(`${Constants.SERVER_URL}/accounts/userServers/${params.userId}`, {headers: \r\n            {\r\n                \"x-access-token\": localStorage.getItem(\"authToken\")\r\n            }\r\n        }).then((res) => {\r\n            if (res.status === 200) {\r\n                setUserServers(res.data.permissions);\r\n                setLoadedServers(true);\r\n            }\r\n        }).catch((err) => {\r\n            setLoadedServers(true);\r\n        })\r\n    }, [params.userId]);\r\n\r\n    //Component hook for getting the security settings of the current user. only displayed if viewing on profile.\r\n    useEffect(() => {\r\n        axios.get(`${Constants.SERVER_URL}/accounts/userSecurities`, {headers: \r\n            {\r\n                \"x-access-token\": localStorage.getItem(\"authToken\")\r\n            }\r\n        }).then((res) => {\r\n            setUserSecurities(res.data);\r\n            setLoadedSecurities(true);\r\n        })\r\n    }, [])\r\n\r\n    //Submit input forms to server to save changes made to profile.\r\n    const saveChanges = () => {\r\n        const fd = new FormData();\r\n\r\n        fd.append(\"editUsername\", editUsername);\r\n        fd.append(\"userSecurities\", userSecurities);\r\n        \r\n\r\n        if (formRef.current.files[0] && formRef.current.files[0].name) {\r\n            fd.append('file-upload', formRef.current.files[0], formRef.current.files[0].name);\r\n        }\r\n\r\n        if ((!formRef.current.files[0]) || (formRef.current.files[0].type.split('/')[0] === \"image\")) {\r\n            axios.post(`${Constants.SERVER_URL}/accounts/updateProfile/${profile._id}`, fd, {\r\n                headers: {\r\n                    'x-access-token': localStorage.getItem(\"authToken\"),\r\n                    'Content-Type': 'multipart/form-data'\r\n                }\r\n            })\r\n            .then((res) => {\r\n                if (res.status === 200) {\r\n                    setUpdateProfile(!updateProfile);\r\n                    setMadeChanges(false);\r\n                    props.refreshRightSidebar();\r\n                } \r\n            })\r\n            .catch((err) => {\r\n            });\r\n        } else {\r\n            //err\r\n        };\r\n\r\n       \r\n    }\r\n\r\n     //Returns the user to the previous page\r\n     const exitViewProfile = () => {\r\n        navigate(-1);\r\n    }\r\n\r\n    //Event for when the user mouses over their avatar.\r\n    const mouseOverEvent = (e) => {\r\n        if (profile._id === userId) {\r\n            setHoverOverAvatar(true);\r\n        }\r\n    }\r\n\r\n    //Event for when the user is no longer mousing over their avatar.\r\n    const mouseLeaveEvent = (e) => {\r\n        if (profile._id === userId) {\r\n            setHoverOverAvatar(false);\r\n        }\r\n    }\r\n\r\n    //Event for when the user clicks the avatar\r\n    const onClickAvatar = (e) => {\r\n        if (profile._id === userId) {\r\n            formRef.current.click();\r\n        }\r\n    }\r\n\r\n\r\n    //Sets the thumbnail avatar to be a new one, and readies the data for uploading.\r\n    const changeAvatar = (e) => {\r\n        if ((formRef.current.files[0].type.split('/')[0] === \"image\")) {\r\n            var reader = new FileReader();\r\n            reader.onload = function () {\r\n                setPreviewAvatar(reader.result);\r\n            }\r\n            reader.readAsDataURL(formRef.current.files[0]);\r\n            setMadeChanges(true);\r\n            \r\n        }\r\n    }\r\n\r\n    //Triggers onchange in username field.\r\n    const usernameEvent = (e) => {\r\n        setEditUsername(e.target.value)\r\n        setMadeChanges(true);\r\n    }\r\n\r\n    //Event for handling changing the radio options in the server settings.\r\n    const securitySettingEvent = (e) => {\r\n        setMadeChanges(true);\r\n        const updatedSecurities = userSecurities;\r\n        switch (e.target.id) {\r\n            case ('security-radio-0'):\r\n                updatedSecurities.serversVisibility = 0;\r\n                break;\r\n            case ('security-radio-1'):\r\n                updatedSecurities.serversVisibility = 1;\r\n                break;\r\n            case ('security-radio-2'):\r\n                updatedSecurities.serversVisibility = 2;\r\n                break;\r\n            default:\r\n                //Do nothing\r\n                break;\r\n        }\r\n        setUserSecurities(updatedSecurities);\r\n    }\r\n    \r\n    return (\r\n        <div className=\"text-center position-relative w-100 h-100\">\r\n            <i className=\"bi bi-x-circle position-absolute top-0 end-0 fa-lg\" onClick={exitViewProfile}></i>\r\n\r\n            {profile ?\r\n\r\n            <div className=\"container start-50 translate-middle-x top-0 position-absolute w-100 mt-4 m-1 border border-secondary p-3\">\r\n                <div className=\"row \">\r\n                    <div className=\"col-md-4 position-relative\"  >\r\n                        <div className=\"position-relative\" onMouseOver={mouseOverEvent} onMouseLeave={mouseLeaveEvent} onClick={onClickAvatar}>\r\n                            {hoverOverAvatar ? <img alt=\"Click to change the avatar.\" style={{borderRadius:'50%', objectFit:'cover', height:'100px', width:'100px'}} className=\"thumbnail-image start-50 top-50 translate-middle position-absolute\" src={`${process.env.PUBLIC_URL}/images/server_default.png`}/> : \"\"}\r\n                            <Avatar large={true} localPreview={previewAvatar} avatarPostId={profile.avatarPostId}/>\r\n                            <input type=\"file\" onChange={changeAvatar} name=\"file-upload\" id=\"file\" ref={formRef} style={{ display: \"none\" }}/>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-md-8 mt-5\">\r\n                        <div className=\"row\">\r\n                            {profile._id  === userId ? \r\n                                <input maxLength={20} type=\"text\" value={editUsername} onInput={usernameEvent} className=\"form-control w-75\" rows=\"1\" placeholder=\"Username\" aria-label=\"Username\"/>\r\n                            : profile.username}\r\n                            \r\n                        </div>\r\n                        <div className=\"row\">\r\n                            Account ID: {profile._id}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row m-4\">\r\n                    <Tabs defaultActiveKey=\"servers\" id=\"uncontrolled-tab-example\" className=\"mb-3\">\r\n                        <Tab eventKey=\"servers\" title=\"Servers\">\r\n                            <div className=\"container\">\r\n                                {userServers ?\r\n                                    <div className=\"row\">\r\n                                        {\r\n                                            userServers.map((el, i) => (\r\n                                                <div className=\"col-md-4\" key={el._id}>\r\n                                                    <ServerThumbnail serverId={el.serverId}/>\r\n                                                </div>\r\n                                            ))\r\n                                        }\r\n                                    </div>\r\n                                : (loadedServers ? \"You do not have permission to view these servers.\" : <Loading/>)}\r\n                            </div>\r\n                        </Tab>\r\n                        {userId === profile._id ?\r\n                            <Tab eventKey=\"settings\" title=\"Account Settings\">\r\n                                {loadedSecurities ?\r\n                                    <Form>\r\n                                        <div className=\"row\">\r\n                                            <Form.Label className=\"my-auto col-md-6\">Who can view the servers you're a member of?</Form.Label>\r\n                                            <div className=\"ps-5 my-auto col-md-6 border-start border-secondary\">\r\n                                                <Form.Check type='radio' id={`security-radio-0`} label={`Anyone`} checked={userSecurities.serversVisibility === 0} onChange={securitySettingEvent}/>\r\n                                                <Form.Check type='radio' id={`security-radio-1`} label={`Users I share a server with`} checked={userSecurities.serversVisibility === 1} onChange={securitySettingEvent}/>\r\n                                                <Form.Check type='radio' id={`security-radio-2`} label={`No one`} checked={userSecurities.serversVisibility === 2} onChange={securitySettingEvent}/>\r\n                                            </div>\r\n                                        </div>\r\n                                    </Form>\r\n                                : <Loading/>}\r\n                            </Tab>\r\n                        : \"\"}\r\n                    </Tabs>\r\n                </div>\r\n\r\n                <div className=\"row justify-content-end\">\r\n                    {profile._id === userId ? <div  className=\"justify-content-center mt-5 mx-auto text-center w-25 row\">\r\n                            {madeChanges ? <button type=\"button\" onClick={saveChanges} className=\"btn-md btn-outline-primary\">Save Changes</button> : \"Profile Saved\"}\r\n                        </div>\r\n                    : \"\"}\r\n                </div>\r\n                \r\n                \r\n                \r\n            </div>\r\n\r\n            : <Loading/> }\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ViewProfile;","//Written by Karl Pollock, 2022.\r\n//KarlPollock91@gmail.com\r\n//www.karlpollock.com\r\n\r\n//ViewServer.js is a component for viewing more information about a server. A user can change the server settings here,\r\n//view other members profiles, or leave/delete the server.\r\n\r\nimport React, {useState, useEffect, useRef} from 'react';\r\nimport {Tabs, Tab, Form, Modal, Button} from 'react-bootstrap';\r\nimport axios from 'axios';\r\nimport Avatar from '../thumbnails/Avatar';\r\nimport Loading from '../secondary/Loading'\r\nimport {useNavigate, useParams} from 'react-router-dom';\r\nimport UserThumbnail from '../thumbnails/UserThumbnail';\r\n\r\nimport * as Constants from '../../utils/constants';\r\n\r\nfunction ViewServer(props) {\r\n    \r\n    const [updateServer, setUpdateServer] = useState(false);\r\n\r\n    const [server, setServer] = useState(null);\r\n    \r\n    //Permission of the current user in relation to the server.\r\n    const [userPermission, setUserPermission] = useState();\r\n\r\n    const [madeChanges, setMadeChanges] = useState(true);\r\n\r\n    const [editServerName, setEditServerName] = useState('');\r\n\r\n    const [hoverOverAvatar, setHoverOverAvatar] = useState(false);\r\n    const [previewAvatar, setPreviewAvatar] = useState();\r\n\r\n    const [serverUsers, setServerUsers] = useState(null);\r\n    const [loadedUsers, setLoadedUsers] = useState(false);\r\n\r\n    const [loadedSecurities, setLoadedSecurities] = useState(false);\r\n\r\n    //Radio menu variables\r\n    const [postsVisibility, setPostsVisibility] = useState();\r\n    const [allowJoin, setAllowJoin] = useState();\r\n    const [allowComment, setAllowComment] = useState();\r\n    const [usersVisibility, setUsersVisibility] = useState();\r\n\r\n    const modalTextDict = {\r\n        0: \"Are you sure you want to leave this server?\",\r\n        1: \"You are the only admin on this server, leaving will delete the server and all its posts. Is this okay?\"\r\n    }\r\n\r\n\r\n    const [showLeaveModal, setShowLeaveModal] = useState(false);\r\n    const [leaveModalStage, setLeaveModalStage] = useState(0);\r\n\r\n    const [showRankModal, setShowRankModal] = useState(false);\r\n    const [rankModalProfile, setRankModalProfile] = useState({});\r\n    const [rankRadio, setRankRadio] = useState(0);\r\n\r\n    const navigate = useNavigate();\r\n    const params = useParams();\r\n    const formRef = useRef(null);\r\n\r\n    //Component hook for retrieving the server information.\r\n    useEffect(() => {\r\n        axios.get(`${Constants.SERVER_URL}/servers/getServer/${params.serverId}`, {headers: \r\n                {\r\n                    \"x-access-token\": localStorage.getItem(\"authToken\")\r\n                }\r\n        }).then((res) => {\r\n            if (res.status === 200) {\r\n                setServer(res.data.serverObject);\r\n                setUserPermission(res.data.permission);\r\n                setEditServerName(res.data.serverObject.serverName);\r\n            } else if (res.status === 404) {\r\n                navigate('/picpark');\r\n            } \r\n        });\r\n    }, [navigate, params.serverId, updateServer]);\r\n\r\n    //Component hook for getting the list of members of the server.\r\n    useEffect(() => {\r\n       axios.get(`${Constants.SERVER_URL}/servers/serverUsers/${params.serverId}`, {headers: \r\n            {\r\n                \"x-access-token\": localStorage.getItem(\"authToken\")\r\n            }\r\n        }).then((res) => {\r\n            if (res.status === 200) {\r\n                setServerUsers(res.data);\r\n            }\r\n            setLoadedUsers(true);\r\n        }).catch((err) => {\r\n            setLoadedUsers(true);\r\n        })\r\n    }, [params.serverId]);\r\n\r\n     //Component hook for getting the server securities\r\n     useEffect(() => {\r\n        axios.get(`${Constants.SERVER_URL}/servers/serverSecurities/${params.serverId}`, {headers: \r\n             {\r\n                 \"x-access-token\": localStorage.getItem(\"authToken\")\r\n             }\r\n         }).then((res) => {\r\n            if (res.status === 200) {\r\n                setPostsVisibility(res.data.serverSecurities.postsVisibility);\r\n                setAllowJoin(res.data.serverSecurities.allowJoin);\r\n                setAllowComment(res.data.serverSecurities.allowComment);\r\n                setUsersVisibility(res.data.serverSecurities.usersVisibility);\r\n            }\r\n\r\n             setLoadedSecurities(true);\r\n\r\n         })\r\n     }, [params.serverId]);\r\n\r\n    //Save changes made to the server.\r\n    const saveChanges = () => {\r\n        const fd = new FormData();\r\n\r\n        fd.append(\"editServerName\", editServerName);\r\n\r\n        fd.append(\"postsVisibility\", postsVisibility);\r\n\r\n        fd.append(\"allowJoin\", allowJoin);\r\n\r\n        fd.append(\"allowComment\", allowComment);\r\n\r\n        fd.append(\"usersVisibility\", usersVisibility);\r\n\r\n        if (formRef.current.files[0] && formRef.current.files[0].name) {\r\n            fd.append('file-upload', formRef.current.files[0], formRef.current.files[0].name);\r\n        }\r\n\r\n        if ((!formRef.current.files[0]) || (formRef.current.files[0].type.split('/')[0] === \"image\")) {\r\n\r\n            axios.post(`${Constants.SERVER_URL}/servers/updateServer/${server._id}`, fd, {\r\n                headers: {\r\n                    'x-access-token': localStorage.getItem(\"authToken\"),\r\n                    'Content-Type': 'multipart/form-data'\r\n                }\r\n            })\r\n            .then((res) => {\r\n                if (res.status === 200) {\r\n                    setUpdateServer(!updateServer);\r\n                    setMadeChanges(false);\r\n                    props.refreshLeftSidebar();\r\n                } \r\n            })\r\n            .catch((err) => {\r\n            });\r\n        } else {\r\n            //err\r\n        };\r\n\r\n       \r\n    }\r\n\r\n    /////////////////////Leave Server Modal//////////////////////////////\r\n\r\n    //Opens up the leave server confirmation modal when the user clicks the Leave Server button\r\n    const leaveServer = () => {\r\n        setLeaveModalStage(0);\r\n        setShowLeaveModal(true);\r\n    }\r\n    \r\n    //Confirms that a user wishes to leave the server. If there are no other admins in the server, the user will get a\r\n    //confirmation that they wish to delete the server instead.\r\n    const leaveServerConfirm = () => {\r\n        if (leaveModalStage === 0) {\r\n            axios.delete(`${Constants.SERVER_URL}/servers/leaveServer/${params.serverId}`, {headers: \r\n                {\r\n                    \"x-access-token\": localStorage.getItem(\"authToken\")\r\n                }\r\n            }).then((res) => {\r\n                if (res.status === 200) {\r\n                    props.refreshLeftSidebar();\r\n                    setUserPermission(0);\r\n                    setShowLeaveModal(false);\r\n                } else if (res.status === 202) {\r\n                    setLeaveModalStage(1)\r\n                    setShowLeaveModal(true);\r\n                }\r\n            });\r\n        } else if (leaveModalStage === 1) {\r\n            axios.delete(`${Constants.SERVER_URL}/servers/deleteServer/${params.serverId}`, {headers: \r\n                {\r\n                    \"x-access-token\": localStorage.getItem(\"authToken\")\r\n                }\r\n            }).then((res) => {\r\n                props.refreshLeftSidebar();\r\n                navigate(\"/picpark\");\r\n            });\r\n        }\r\n        \r\n    }\r\n\r\n    //Close the leave server modal.\r\n    const leaveServerCancel = () => {\r\n        setLeaveModalStage(0);\r\n        setShowLeaveModal(false);\r\n    }\r\n\r\n    ////////////////////////Change rank modal///////////////////////////////////\r\n\r\n    //Open the change user rank modal.\r\n    const openChangeRankModal = (userId, username, serverPermission) => {\r\n        setRankRadio(serverPermission);\r\n        setRankModalProfile({userId: userId, username: username});\r\n        setShowRankModal(true);\r\n    }\r\n\r\n    //Handles modifying the user rank radio options.\r\n    const changeRankModalRadio = (e) => {\r\n        switch (e.target.id) {\r\n            case ('status-radio-0'):\r\n                setRankRadio(0);\r\n                break;\r\n            case ('status-radio-1'):\r\n                setRankRadio(1);\r\n                break;\r\n            case ('status-radio-2'):\r\n                setRankRadio(2);\r\n                break;\r\n            case ('status-radio-3'):\r\n                setRankRadio(3);\r\n                break;\r\n            case ('status-radio-4'):\r\n                setRankRadio(4);\r\n                break;\r\n            case ('status-radio-5'):\r\n                setRankRadio(5);\r\n                break;\r\n            default:\r\n                //do nothing\r\n                break;\r\n        }\r\n    }\r\n\r\n    //Sends a request to the server to change the rank of a user.\r\n    const changeRank = () => {\r\n        const fd = new FormData();\r\n        axios.post(`${Constants.SERVER_URL}/servers/changeRank/${server._id}/${rankModalProfile.userId}/${rankRadio}`, fd, {\r\n                headers: {\r\n                    'x-access-token': localStorage.getItem(\"authToken\")\r\n                }\r\n            })\r\n            .then((res) => {\r\n                if (res.status === 200) {\r\n                    setShowRankModal(false);\r\n                } \r\n            })\r\n            .catch((err) => {\r\n            });\r\n    }\r\n\r\n     //Returns the user to the previous page.\r\n     const exitViewServer = () => {\r\n        navigate(-1);\r\n    }\r\n\r\n    //////////////////////Avatar change stuff////////////////\r\n\r\n    //Event for when the user mouses over the avatar\r\n    const mouseOverEvent = (e) => {\r\n        if (userPermission >= 5) {\r\n            setHoverOverAvatar(true);\r\n        }\r\n    }\r\n\r\n    //Event for when the user is no longer mousing over the avatar\r\n    const mouseLeaveEvent = (e) => {\r\n        if (userPermission >= 5) {\r\n            setHoverOverAvatar(false);\r\n        }\r\n    }\r\n\r\n    //Event for when the user clicks the avatar\r\n    const onClickAvatar = (e) => {\r\n        if (userPermission >= 5) {\r\n            formRef.current.click();\r\n        }\r\n    }\r\n\r\n    //Sets the thumbnail avatar to be a new one, and readies the data for uploading.\r\n    const changeAvatar = (e) => {\r\n        if ((formRef.current.files[0].type.split('/')[0] === \"image\")) {\r\n            var reader = new FileReader();\r\n            reader.onload = function () {\r\n                setPreviewAvatar(reader.result);\r\n            }\r\n            reader.readAsDataURL(formRef.current.files[0]);\r\n            setMadeChanges(true);\r\n            \r\n        } else {\r\n            //display error\r\n        }\r\n    }\r\n\r\n    //Triggers onchange in serverName field.\r\n    const serverNameEvent = (e) => {\r\n        setEditServerName(e.target.value)\r\n        setMadeChanges(true);\r\n    }\r\n\r\n    //Handles radio options for server security.\r\n    const securitySettingEvent = (e) => {\r\n        setMadeChanges(true);\r\n        switch (e.target.id) {\r\n            case ('security-radio-0-0'):\r\n                setPostsVisibility(0);\r\n                break;\r\n            case ('security-radio-0-1'):\r\n                setPostsVisibility(1);\r\n                break;\r\n            case ('security-radio-1-0'):\r\n                setAllowJoin(0);\r\n                break;\r\n            case ('security-radio-1-1'):\r\n                setAllowJoin(1);\r\n                break;\r\n            case ('security-radio-2-0'):\r\n                setAllowComment(0);\r\n                break;\r\n            case ('security-radio-2-1'):\r\n                setAllowComment(1);\r\n                break;\r\n            case ('security-radio-3-0'):\r\n                setUsersVisibility(0);\r\n                break;\r\n            case ('security-radio-3-1'):\r\n                setUsersVisibility(1);\r\n                break;\r\n            default:\r\n                //do nothing\r\n                break;\r\n        }\r\n    }\r\n\r\n    //Sends the user to the Main component of the server they're viewing the information of.\r\n    const visitServer = () => {\r\n        navigate(`/picpark/s/${server._id}`);\r\n    }\r\n    \r\n    return (\r\n        <div className=\"text-center position-relative w-100 h-100\">\r\n            <i className=\"bi bi-x-circle position-absolute top-0 end-0 fa-lg\" onClick={exitViewServer}></i>\r\n\r\n        <Modal show={showLeaveModal} onHide={() => setShowLeaveModal(false)}>\r\n            <Modal.Body>{modalTextDict[leaveModalStage]}</Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"secondary\" onClick={leaveServerCancel}>\r\n                    Close\r\n                </Button>\r\n                <Button variant=\"primary\" onClick={leaveServerConfirm}>\r\n                    Confirm\r\n                </Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n\r\n        <Modal show={showRankModal} onHide={() => setShowRankModal(false)}>\r\n            <Modal.Body>\r\n                <Form>\r\n                    <Form.Label className=\"my-auto col-md-6\">Set User Status for {rankModalProfile.username}</Form.Label>\r\n                        <div className=\"ps-5 my-auto col-md-6 border-start border-secondary\">\r\n                            <Form.Check type='radio' id={`status-radio-0`} label={`Banned`} checked={rankRadio === 0} onChange={changeRankModalRadio}/>\r\n                            <Form.Check type='radio' id={`status-radio-1`} label={`Non-Member`} checked={rankRadio === 1} onChange={changeRankModalRadio}/>\r\n                            <Form.Check type='radio' id={`status-radio-2`} label={`Member`} checked={rankRadio === 2} onChange={changeRankModalRadio}/>\r\n                            <Form.Check type='radio' id={`status-radio-3`} label={`Super Member`} checked={rankRadio === 3} onChange={changeRankModalRadio}/>\r\n                            <Form.Check type='radio' id={`status-radio-4`} label={`Moderator`} checked={rankRadio === 4} onChange={changeRankModalRadio}/>\r\n                            <Form.Check type='radio' id={`status-radio-5`} label={`Admin`} checked={rankRadio === 5} onChange={changeRankModalRadio}/>\r\n                        </div>\r\n                </Form>\r\n\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"secondary\" onClick={() => setShowRankModal(false)}>\r\n                    Close\r\n                </Button>\r\n                <Button variant=\"primary\" onClick={changeRank}>\r\n                    Confirm\r\n                </Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n\r\n            {server ?\r\n\r\n            <div className=\"container start-50 translate-middle-x top-0 position-absolute w-100 mt-4 m-1 border border-secondary p-3\">\r\n                <div className=\"row \">\r\n                    <div className=\"col-md-4 position-relative\"  >\r\n                        <div className=\"position-relative\" onMouseOver={mouseOverEvent} onMouseLeave={mouseLeaveEvent} onClick={onClickAvatar}>\r\n                            {hoverOverAvatar ? <img alt=\"Click to change the avatar.\" style={{borderRadius:'50%', objectFit:'cover', height:'100px', width:'100px'}} className=\"thumbnail-image start-50 top-50 translate-middle position-absolute\" src={`${process.env.PUBLIC_URL}/images/server_default.png`}/> : \"\"}\r\n                            <Avatar large={true} localPreview={previewAvatar} avatarPostId={server.avatarPostId}/>\r\n                            <input type=\"file\" onChange={changeAvatar} name=\"file-upload\" id=\"file\" ref={formRef} style={{ display: \"none\" }}/>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-md-8 mt-5\">\r\n                        <div className=\"row\">\r\n                            {(userPermission >= 5) ? \r\n                                <input maxLength={20} type=\"text\" value={editServerName} onInput={serverNameEvent} className=\"form-control w-75\" rows=\"1\" placeholder=\"Server Name\" aria-label=\"Server Name\"/>\r\n                            : server.serverName}     \r\n                        </div>\r\n                        <div className=\"row\">\r\n                            Server ID: {server._id}\r\n                        </div>\r\n                        {(userPermission >= 5) ? <div  className=\"justify-content-center mt-5 mx-auto text-center w-25 row\">\r\n                            {madeChanges ? <button type=\"button\" onClick={saveChanges} className=\"btn-md btn-outline-primary\">Save Changes</button> : \"Changes Saved\"}\r\n                        </div>\r\n                        : \"\"}\r\n                        \r\n                    </div>\r\n                </div>\r\n                <div className=\"row m-4\">\r\n                    <Tabs defaultActiveKey=\"users\" id=\"uncontrolled-tab-example\" className=\"mb-3\">\r\n                        <Tab eventKey=\"users\" title=\"Users\">\r\n                            <div className=\"container\">\r\n                                {serverUsers && userPermission ?\r\n                                    <div className=\"row\">\r\n                                        {\r\n                                            serverUsers.map((el, i) => {\r\n                                                return(\r\n                                                    (el.permissions) > 0 ?\r\n                                                        <div className=\"col-md-4\" key={el._id}>\r\n                                                            <div className=\"row\">\r\n                                                                <UserThumbnail userId={el.userId} changeRankCallback={openChangeRankModal} serverId={params.serverId} userPermission={userPermission}/>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    : \"\"\r\n                                                )\r\n                                            })\r\n                                        }\r\n                                    </div>\r\n                                : (loadedUsers ? \"You do not have permission to view this server's users.\" : <Loading/>)}\r\n                            </div>\r\n                        </Tab>\r\n                        <Tab eventKey=\"settings\" title=\"Server Settings\">\r\n                            {loadedSecurities ?\r\n                                <Form>\r\n                                    <div className=\"row\">\r\n                                        <Form.Label className=\"my-auto col-md-6\">Who can view posts?</Form.Label>\r\n                                        <div className=\"ps-5 my-3 col-md-6 border-start border-secondary\">\r\n                                            <Form.Check disabled={userPermission < 5} type='radio' id={`security-radio-0-0`} label={`Anyone`} checked={postsVisibility === 0} onChange={securitySettingEvent}/>\r\n                                            <Form.Check disabled={userPermission < 5} type='radio' id={`security-radio-0-1`} label={`Members Only`} checked={postsVisibility === 1} onChange={securitySettingEvent}/>\r\n                                        </div>\r\n                                        <Form.Label className=\"my-auto col-md-6\">Who can join?</Form.Label>\r\n                                        <div className=\"ps-5 my-3 col-md-6 border-start border-secondary\">\r\n                                            <Form.Check disabled={userPermission < 5} type='radio' id={`security-radio-1-0`} label={`Anyone with a link`} checked={allowJoin === 0} onChange={securitySettingEvent}/>\r\n                                            <Form.Check disabled={userPermission < 5} type='radio' id={`security-radio-1-1`} label={`Nobody`} checked={allowJoin === 1} onChange={securitySettingEvent}/>\r\n                                        </div>\r\n                                        <Form.Label className=\"my-auto col-md-6\">Who can comment on posts?</Form.Label>\r\n                                        <div className=\"ps-5 my-3 col-md-6 border-start border-secondary\">\r\n                                            <Form.Check disabled={userPermission < 5} type='radio' id={`security-radio-2-0`} label={`Anyone`} checked={allowComment === 0} onChange={securitySettingEvent}/>\r\n                                            <Form.Check disabled={userPermission < 5} type='radio' id={`security-radio-2-1`} label={`Members`} checked={allowComment === 1} onChange={securitySettingEvent}/>\r\n                                        </div>\r\n                                        <Form.Label className=\"my-auto col-md-6\">Who can view members of the server?</Form.Label>\r\n                                        <div className=\"ps-5 my-3 col-md-6 border-start border-secondary\">\r\n                                            <Form.Check disabled={userPermission < 5} type='radio' id={`security-radio-3-0`} label={`Anyone`} checked={usersVisibility === 0} onChange={securitySettingEvent}/>\r\n                                            <Form.Check disabled={userPermission < 5} type='radio' id={`security-radio-3-1`} label={`Members`} checked={usersVisibility === 1} onChange={securitySettingEvent}/>\r\n                                        </div>\r\n                                    </div>\r\n                                </Form>\r\n                            : <Loading/>}\r\n                        </Tab>\r\n                        <Tab eventKey=\"banned\" title=\"Banned Users\">\r\n                        <div className=\"container\">\r\n                                {serverUsers && userPermission ?\r\n                                    <div className=\"row\">\r\n                                        {\r\n                                            serverUsers.map((el, i) => {\r\n                                                return(\r\n                                                    (el.permissions === 0) ?\r\n                                                        <div className=\"col-md-4\" key={el._id}>\r\n                                                            <div className=\"row\">\r\n                                                                <UserThumbnail userId={el.userId} changeRankCallback={openChangeRankModal} serverId={params.serverId} userPermission={userPermission}/>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    : \"\"\r\n                                                )\r\n                                            })\r\n                                        }\r\n                                    </div>\r\n                                : (loadedUsers ? \"You do not have permission to view this server's users.\" : <Loading/>)}\r\n                            </div>\r\n                        </Tab>\r\n                    </Tabs>\r\n                </div>\r\n\r\n                <div className=\"row justify-content-end\">\r\n                    <div className=\"col-md-6\">\r\n                        {(userPermission >= 2) ? \r\n                            <div className=\"row\">\r\n                                <button type=\"button\" onClick={leaveServer} className=\"w-100 my-2 btn-md btn-outline-primary\">Leave Server</button>\r\n                            </div>\r\n                        : \"\"}\r\n                    </div>\r\n                    <div className=\"col-md-6\">\r\n                        <button type=\"button\" onClick={visitServer} className=\"w-100 my-2 btn-md btn-outline-primary\">Visit Server</button>\r\n                    </div>\r\n                </div>\r\n                \r\n                \r\n                \r\n            </div>\r\n\r\n            : <Loading/> }\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ViewServer;","//Written by Karl Pollock, 2022.\r\n//KarlPollock91@gmail.com\r\n//www.karlpollock.com\r\n\r\n//A splash page to shill my garbage.\r\n\r\nimport React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nfunction SplashPage(props) {\r\n        return (\r\n            <div className=\"w-75 mx-auto mt-5 input-form-wrapper text-center\">\r\n\r\n                <img alt=\"Logo for pic park\" className=\"img-fluid\" src={`${process.env.PUBLIC_URL}/images/logo.png`}/>\r\n\r\n                <p>Hello and thank you for visiting my project, Pic Park. Feel free to create a new server in the top left and upload some images or you can visit an example server at the URL below.</p>\r\n                <NavLink to=\"/picpark/s/61f4dcd42e57a1a4b41388e1\">Guest Server</NavLink>\r\n                <p>KarlPollock91@gmail.com</p>\r\n                <p>www.karlpollock.com</p>\r\n                <p>Created by Karl Pollock, 2022.</p>\r\n            </div>\r\n        )\r\n}\r\n\r\nexport default SplashPage;","//Written by Karl Pollock, 2022.\r\n//KarlPollock91@gmail.com\r\n//www.karlpollock.com\r\n\r\n//App.js is the top level component which ensures the user is logged in correctly before displaying child components.\r\n\r\nimport React, {useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport {Route, Routes} from 'react-router-dom';\r\n\r\n\r\nimport * as Constants from '../../utils/constants';\r\n\r\nimport LeftSidebar from './LeftSidebar';\r\nimport Main from './Main';\r\nimport RightSidebar from './RightSidebar';\r\nimport Loading from '../secondary/Loading';\r\nimport Login from './Login';\r\nimport ServerCreation from './ServerCreation';\r\nimport PostCreation from './PostCreation';\r\nimport ViewPost from './ViewPost';\r\nimport ViewProfile from './ViewProfile';\r\nimport ViewServer from './ViewServer';\r\nimport SplashPage from './SplashPage';\r\n\r\n\r\nfunction App(props) {\r\n    const [loading, setLoading] = useState(false);\r\n    const [loggedIn, setLoggedIn] = useState(false);\r\n    const [userInfo, setUserInfo] = useState();\r\n\r\n    //Component hook that checks if user is logged.\r\n    useEffect(() => {\r\n        if (!localStorage.getItem(\"authToken\")){\r\n            setLoading(false);\r\n            setLoggedIn(false);\r\n        } else {\r\n            verifyAuth();\r\n        }\r\n    }, [])\r\n\r\n    //Send the users current auth token to the server to validate.\r\n    const verifyAuth = () => {\r\n        axios.get(`${Constants.SERVER_URL}/accounts/verifyAuth`, {\r\n            headers: {\r\n                \"x-access-token\": localStorage.getItem(\"authToken\")\r\n                // \"Access-Control-Allow-Origin\": \"*\"\r\n            }\r\n            }).then((res) => {\r\n                if (res.status === 200) {\r\n                    setUserInfo(res.data)\r\n                    setLoggedIn(true);\r\n                }\r\n            }).catch((err) => {\r\n                localStorage.clear();\r\n            });\r\n    }\r\n\r\n    //Log out and return to login screen.\r\n    const logout = () => {\r\n        localStorage.clear();\r\n        setLoggedIn(false);\r\n    }\r\n\r\n\r\n    const [newServer, setNewServer] = useState(false);\r\n    const [newUser, setNewUser] = useState(false);\r\n\r\n    //Refresh the items in the left sidebar.\r\n    const refreshLeftSidebar = () => {\r\n        setNewServer(!newServer);\r\n    }\r\n    //Refresh the items in the right sidebar.\r\n    const refreshRightSidebar = () => {\r\n        setNewUser(!newUser);\r\n    }\r\n\r\n    if (loading) {\r\n        return(\r\n            <div className=\"wrapper w-100 h-100 mw-100 mh-100\">\r\n                <Loading/>\r\n            </div>\r\n        )\r\n    } else if (loggedIn) {\r\n        return(\r\n            <div className=\"w-100 vh-100 container-fluid\">\r\n                <div className=\"row\">\r\n                    <div  className=\"col vh-100 border border-secondary full-height\">\r\n                        <LeftSidebar newServer={newServer} userId={userInfo._id}/>\r\n                    </div>\r\n                    <div className=\"overflow-auto col-8 vh-100 border border-secondary full-height\">\r\n                    \r\n                        <Routes>\r\n                            <Route path=\"/picpark\" element={<SplashPage/>}/>\r\n                            <Route path=\"/picpark/s/:serverId\" element={<Main refreshLeftSidebar={refreshLeftSidebar}/>} />\r\n                            <Route path=\"/picpark/createServer\" element={ <ServerCreation refreshLeftSidebar={refreshLeftSidebar}/>}/>\r\n                            <Route path=\"/picpark/post/:serverId\" element={<PostCreation/>}/>\r\n                            <Route path=\"/picpark/v/:serverId/:postId\" element={<ViewPost />}/>\r\n                            <Route path=\"/picpark/profile/:userId\" element={<ViewProfile refreshRightSidebar={refreshRightSidebar}/>}/>\r\n                            <Route path=\"/picpark/serverInfo/:serverId\" element={<ViewServer refreshLeftSidebar={refreshLeftSidebar}/>}/>\r\n                        </Routes>\r\n\r\n                    </div>\r\n                    <div  className=\"col vh-100 border border-secondary\">\r\n                        <RightSidebar newUser={newUser} userInfo={userInfo} logoutCallback={logout}/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n\r\n    } else {\r\n        return(\r\n            <div className=\"wrapper w-100 h-100\">\r\n                <Login/>\r\n            </div>\r\n        )\r\n    }\r\n    \r\n} \r\n\r\nexport default App;","//Written by Karl Pollock, 2022.\n//KarlPollock91@gmail.com\n//www.karlpollock.com\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/main/App';\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap-icons/font/bootstrap-icons.css';\nimport { BrowserRouter} from 'react-router-dom';\n\nReactDOM.render(<BrowserRouter><App /></BrowserRouter>, document.querySelector('#root'));\n","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin"]}}