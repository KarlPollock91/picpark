{"ast":null,"code":"import _slicedToArray from\"C:/Users/KarlP/new-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";//Written by Karl Pollock, 2022.\n//KarlPollock91@gmail.com\n//www.karlpollock.com\n//ServerThumbnail.js is a component that displays a server name, avatar and provides options to visit the Server Information or Main\n//components for the server.\nimport React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import*as Constants from'../../utils/constants';import{Dropdown,DropdownButton}from'react-bootstrap';import Avatar from'../thumbnails/Avatar';import Loading from'../secondary/Loading';import'../css/Thumbnail.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ServerThumbnail(props){var navigate=useNavigate();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),server=_useState2[0],setServer=_useState2[1];//Component hook to retrieve the server information.\nuseEffect(function(){if(props.serverId!=null){axios.get(\"\".concat(Constants.SERVER_URL,\"/servers/getServer/\").concat(props.serverId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then(function(res){if(res.status===200){setServer(res.data.serverObject);}}).catch(function(err){//do nothing\n});}},[props.serverId,props.newServer,props.permissionObject]);//Handles selection of the dropdown menu.\nvar handleSelect=function handleSelect(e){if(e===\"view\"){navigate(\"/picpark/serverInfo/\".concat(server._id));}else if(e===\"visit\"){navigate(\"/picpark/s/\".concat(server._id));}};return/*#__PURE__*/_jsx(\"div\",{className:\"container thumbnail-wrapper w-90 my-1\",children:server?/*#__PURE__*/_jsxs(\"div\",{className:\"row h-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 my-auto\",children:/*#__PURE__*/_jsx(Avatar,{avatarPostId:server.avatarPostId})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 my-auto\",children:server.serverName}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsxs(DropdownButton,{className:\"m-2\",title:\"\",id:\"dropdown-basic-button\",variant:\"secondary\",size:\"sm\",onSelect:handleSelect,children:[/*#__PURE__*/_jsx(Dropdown.Item,{eventKey:\"visit\",children:\"Visit Server\"}),/*#__PURE__*/_jsx(Dropdown.Item,{eventKey:\"view\",children:\"Server Information\"})]})})]}):/*#__PURE__*/_jsx(Loading,{})});}export default ServerThumbnail;","map":{"version":3,"sources":["C:/Users/KarlP/new-app/client/src/components/thumbnails/ServerThumbnail.js"],"names":["React","useEffect","useState","useNavigate","axios","Constants","Dropdown","DropdownButton","Avatar","Loading","ServerThumbnail","props","navigate","server","setServer","serverId","get","SERVER_URL","headers","localStorage","getItem","then","res","status","data","serverObject","catch","err","newServer","permissionObject","handleSelect","e","_id","avatarPostId","serverName"],"mappings":"gHAAA;AACA;AACA;AAEA;AACA;AAEA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,GAAKC,CAAAA,SAAZ,KAA2B,uBAA3B,CACA,OAAQC,QAAR,CAAkBC,cAAlB,KAAuC,iBAAvC,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CAEA,MAAO,sBAAP,C,wFAEA,QAASC,CAAAA,eAAT,CAAyBC,KAAzB,CAAgC,CAE5B,GAAMC,CAAAA,QAAQ,CAAGT,WAAW,EAA5B,CACA,cAA4BD,QAAQ,CAAC,EAAD,CAApC,wCAAOW,MAAP,eAAeC,SAAf,eAEA;AACAb,SAAS,CAAC,UAAM,CACZ,GAAIU,KAAK,CAACI,QAAN,EAAkB,IAAtB,CAA4B,CACxBX,KAAK,CAACY,GAAN,WAAaX,SAAS,CAACY,UAAvB,+BAAuDN,KAAK,CAACI,QAA7D,EAAyE,CAACG,OAAO,CAC7E,CACI,iBAAkBC,YAAY,CAACC,OAAb,CAAqB,WAArB,CADtB,CADqE,CAAzE,EAKCC,IALD,CAKM,SAACC,GAAD,CAAS,CACX,GAAIA,GAAG,CAACC,MAAJ,GAAe,GAAnB,CAAuB,CACnBT,SAAS,CAACQ,GAAG,CAACE,IAAJ,CAASC,YAAV,CAAT,CACH,CACJ,CATD,EASGC,KATH,CASS,SAACC,GAAD,CAAS,CACd;AACH,CAXD,EAYH,CACJ,CAfQ,CAeN,CAAChB,KAAK,CAACI,QAAP,CAAiBJ,KAAK,CAACiB,SAAvB,CAAkCjB,KAAK,CAACkB,gBAAxC,CAfM,CAAT,CAkBA;AACA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CACxB,GAAIA,CAAC,GAAK,MAAV,CAAiB,CACbnB,QAAQ,+BAAwBC,MAAM,CAACmB,GAA/B,EAAR,CACH,CAFD,IAEO,IAAID,CAAC,GAAK,OAAV,CAAmB,CACtBnB,QAAQ,sBAAeC,MAAM,CAACmB,GAAtB,EAAR,CACH,CACJ,CAND,CAQA,mBACI,YAAK,SAAS,CAAC,uCAAf,UACInB,MAAM,cACF,aAAK,SAAS,CAAC,WAAf,wBACI,YAAK,SAAS,CAAC,kBAAf,uBACI,KAAC,MAAD,EAAQ,YAAY,CAAEA,MAAM,CAACoB,YAA7B,EADJ,EADJ,cAII,YAAK,SAAS,CAAC,kBAAf,UACKpB,MAAM,CAACqB,UADZ,EAJJ,cAOI,YAAK,SAAS,CAAC,UAAf,uBACI,MAAC,cAAD,EAAgB,SAAS,CAAC,KAA1B,CAAgC,KAAK,CAAC,EAAtC,CAAyC,EAAE,CAAC,uBAA5C,CAAoE,OAAO,CAAC,WAA5E,CAAwF,IAAI,CAAC,IAA7F,CAAkG,QAAQ,CAAEJ,YAA5G,wBACI,KAAC,QAAD,CAAU,IAAV,EAAe,QAAQ,CAAC,OAAxB,0BADJ,cAEI,KAAC,QAAD,CAAU,IAAV,EAAe,QAAQ,CAAC,MAAxB,gCAFJ,GADJ,EAPJ,GADE,cAeJ,KAAC,OAAD,IAhBN,EADJ,CAqBH,CAED,cAAepB,CAAAA,eAAf","sourcesContent":["//Written by Karl Pollock, 2022.\r\n//KarlPollock91@gmail.com\r\n//www.karlpollock.com\r\n\r\n//ServerThumbnail.js is a component that displays a server name, avatar and provides options to visit the Server Information or Main\r\n//components for the server.\r\n\r\nimport React, {useEffect, useState} from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport * as Constants from '../../utils/constants';\r\nimport {Dropdown, DropdownButton} from 'react-bootstrap';\r\nimport Avatar from '../thumbnails/Avatar';\r\nimport Loading from '../secondary/Loading';\r\n\r\nimport '../css/Thumbnail.css';\r\n\r\nfunction ServerThumbnail(props) {\r\n\r\n    const navigate = useNavigate();\r\n    const [server, setServer] = useState({});\r\n\r\n    //Component hook to retrieve the server information.\r\n    useEffect(() => {\r\n        if (props.serverId != null) {\r\n            axios.get(`${Constants.SERVER_URL}/servers/getServer/${props.serverId}`, {headers: \r\n                {\r\n                    \"x-access-token\": localStorage.getItem(\"authToken\")\r\n                }\r\n            })\r\n            .then((res) => {\r\n                if (res.status === 200){\r\n                    setServer(res.data.serverObject); \r\n                }\r\n            }).catch((err) => {\r\n                //do nothing\r\n            });\r\n        }\r\n    }, [props.serverId, props.newServer, props.permissionObject]);\r\n\r\n\r\n    //Handles selection of the dropdown menu.\r\n    const handleSelect = (e) => {\r\n        if (e === \"view\"){\r\n            navigate(`/picpark/serverInfo/${server._id}`);\r\n        } else if (e === \"visit\") {\r\n            navigate(`/picpark/s/${server._id}`);\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div className=\"container thumbnail-wrapper w-90 my-1\">\r\n           {server ?\r\n                <div className=\"row h-100\">\r\n                    <div className=\"col-md-4 my-auto\">\r\n                        <Avatar avatarPostId={server.avatarPostId}/>\r\n                    </div>\r\n                    <div className=\"col-md-6 my-auto\">\r\n                        {server.serverName}\r\n                    </div>\r\n                    <div className=\"col-md-2\">\r\n                        <DropdownButton className=\"m-2\" title=\"\" id=\"dropdown-basic-button\" variant=\"secondary\" size=\"sm\" onSelect={handleSelect}>\r\n                            <Dropdown.Item eventKey=\"visit\">Visit Server</Dropdown.Item>\r\n                            <Dropdown.Item eventKey=\"view\">Server Information</Dropdown.Item>\r\n                        </DropdownButton>\r\n                    </div>\r\n                </div>\r\n            : <Loading/>}\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default ServerThumbnail;"]},"metadata":{},"sourceType":"module"}