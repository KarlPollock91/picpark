{"ast":null,"code":"import _slicedToArray from\"C:/Users/KarlP/new-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";//Written by Karl Pollock, 2022.\n//KarlPollock91@gmail.com\n//www.karlpollock.com\n//LeftSidebar.js is the component that shows all of the servers the user is currently a member of on the left side of the screen.\nimport React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import ServerThumbnail from'../thumbnails/ServerThumbnail';import axios from'axios';import*as Constants from'../../utils/constants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LeftSidebar(props){var navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),permissions=_useState2[0],setPermissions=_useState2[1];//Component hook that retrieves all of the servers the user is a member of.\nuseEffect(function(){axios.get(\"\".concat(Constants.SERVER_URL,\"/accounts/userServers/\").concat(props.userId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then(function(res){setPermissions(res.data.permissions);});},[props.newServer,props.userId]);//Sends the user to the create server screen.\nvar newServer=function newServer(){navigate(\"/createServer\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"w-100\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"w-100 btn btn-outline-primary mt-2\",onClick:newServer,children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-plus-circle\"}),\" Create new server\"]}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-group\",children:permissions.map(function(el,i){return/*#__PURE__*/_jsx(ServerThumbnail,{newServer:props.newServer,serverId:el.serverId},el._id);})})]});}export default LeftSidebar;","map":{"version":3,"sources":["C:/Users/KarlP/new-app/client/src/components/main/LeftSidebar.js"],"names":["React","useEffect","useState","useNavigate","ServerThumbnail","axios","Constants","LeftSidebar","props","navigate","permissions","setPermissions","get","SERVER_URL","userId","headers","localStorage","getItem","then","res","data","newServer","map","el","i","serverId","_id"],"mappings":"gHAAA;AACA;AACA;AAEA;AAEA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,MAAOC,CAAAA,eAAP,KAA4B,+BAA5B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAO,GAAKC,CAAAA,SAAZ,KAA2B,uBAA3B,C,wFAEA,QAASC,CAAAA,WAAT,CAAqBC,KAArB,CAA4B,CAExB,GAAMC,CAAAA,QAAQ,CAAGN,WAAW,EAA5B,CACA,cAAsCD,QAAQ,CAAC,EAAD,CAA9C,wCAAOQ,WAAP,eAAoBC,cAApB,eAEA;AACAV,SAAS,CAAC,UAAM,CACZI,KAAK,CAACO,GAAN,WAAaN,SAAS,CAACO,UAAvB,kCAA0DL,KAAK,CAACM,MAAhE,EAA0E,CAACC,OAAO,CAC9E,CACA,iBAAkBC,YAAY,CAACC,OAAb,CAAqB,WAArB,CADlB,CADsE,CAA1E,EAKCC,IALD,CAKM,SAACC,GAAD,CAAS,CACXR,cAAc,CAACQ,GAAG,CAACC,IAAJ,CAASV,WAAV,CAAd,CACH,CAPD,EAQH,CATQ,CASN,CAACF,KAAK,CAACa,SAAP,CAAkBb,KAAK,CAACM,MAAxB,CATM,CAAT,CAWA;AACA,GAAMO,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACpBZ,QAAQ,iBAAR,CACH,CAFD,CAIA,mBACI,aAAK,SAAS,CAAC,OAAf,wBACI,gBAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,oCAAhC,CAAqE,OAAO,CAAEY,SAA9E,wBAAyF,UAAG,SAAS,CAAC,mBAAb,EAAzF,wBADJ,cAEI,WAAI,SAAS,CAAC,YAAd,UACKX,WAAW,CAACY,GAAZ,CAAgB,SAACC,EAAD,CAAKC,CAAL,qBACb,KAAC,eAAD,EAAiB,SAAS,CAAEhB,KAAK,CAACa,SAAlC,CAA0D,QAAQ,CAAEE,EAAE,CAACE,QAAvE,EAAkDF,EAAE,CAACG,GAArD,CADa,EAAhB,CADL,EAFJ,GADJ,CAWH,CAED,cAAenB,CAAAA,WAAf","sourcesContent":["//Written by Karl Pollock, 2022.\r\n//KarlPollock91@gmail.com\r\n//www.karlpollock.com\r\n\r\n//LeftSidebar.js is the component that shows all of the servers the user is currently a member of on the left side of the screen.\r\n\r\nimport React, {useEffect, useState} from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport ServerThumbnail from '../thumbnails/ServerThumbnail';\r\nimport axios from 'axios'\r\n\r\nimport * as Constants from '../../utils/constants';\r\n\r\nfunction LeftSidebar(props) {\r\n\r\n    const navigate = useNavigate();\r\n    const [permissions, setPermissions] = useState([]);\r\n\r\n    //Component hook that retrieves all of the servers the user is a member of.\r\n    useEffect(() => {\r\n        axios.get(`${Constants.SERVER_URL}/accounts/userServers/${props.userId}`, {headers: \r\n            {\r\n            \"x-access-token\": localStorage.getItem(\"authToken\")\r\n            }\r\n        })\r\n        .then((res) => {\r\n            setPermissions(res.data.permissions);\r\n        });\r\n    }, [props.newServer, props.userId]);\r\n\r\n    //Sends the user to the create server screen.\r\n    const newServer = () => {\r\n        navigate(`/createServer`);\r\n    }\r\n\r\n    return(\r\n        <div className=\"w-100\">\r\n            <button type=\"button\" className=\"w-100 btn btn-outline-primary mt-2\" onClick={newServer}><i className=\"bi bi-plus-circle\"></i> Create new server</button>\r\n            <ul className=\"list-group\">\r\n                {permissions.map((el, i) => (\r\n                    <ServerThumbnail newServer={props.newServer} key={el._id} serverId={el.serverId}/>\r\n                ))}\r\n            </ul>\r\n        </div>\r\n    )\r\n    \r\n} \r\n\r\nexport default LeftSidebar;"]},"metadata":{},"sourceType":"module"}