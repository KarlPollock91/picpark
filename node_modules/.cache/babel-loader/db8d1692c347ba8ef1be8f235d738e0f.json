{"ast":null,"code":"import _slicedToArray from\"C:/Users/KarlP/new-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";//Written by Karl Pollock, 2022.\n//KarlPollock91@gmail.com\n//www.karlpollock.com\n//CommentThumbnail.js displays the comments posted in the comment section including information about the user who posted it.\nimport React,{useEffect,useState}from'react';import{Dropdown,DropdownButton}from'react-bootstrap';import axios from'axios';import'../css/Thumbnail.css';import*as Constants from'../../utils/constants';import Loading from'../secondary/Loading';import Avatar from'../thumbnails/Avatar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CommentThumbnail(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),author=_useState2[0],setAuthor=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),userId=_useState4[0],setUserId=_useState4[1];//Component hook to retrieve the profile of the comments author.\nuseEffect(function(){if(props.commentObject!=null){axios.get(\"\".concat(Constants.SERVER_URL,\"/accounts/getUser/\").concat(props.commentObject.authorId),{headers:{\"x-access-token\":localStorage.getItem(\"authToken\")}}).then(function(res){if(res.status===200){setAuthor(res.data.profileObject);setUserId(res.data.userId);}}).catch(function(err){//do nothing\n});;}},[props.commentObject]);//Handles selection from the dropdown menu.\nvar handleSelect=function handleSelect(e){if(e===\"delete\"){props.deleteCommentCallback(props.commentObject._id);}};return author?/*#__PURE__*/_jsxs(\"div\",{className:\"container thumbnail-wrapper w-90 m-2 border border-secondary\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"position-absolute end-0 me-2\",children:author._id===userId?/*#__PURE__*/_jsx(DropdownButton,{title:\"\",id:\"dropdown-basic-button\",variant:\"secondary\",size:\"sm\",onSelect:handleSelect,children:/*#__PURE__*/_jsx(Dropdown.Item,{eventKey:\"delete\",children:\"Delete\"})}):\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row h-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2 my-3\",children:/*#__PURE__*/_jsx(Avatar,{avatarPostId:author.avatarPostId})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-10 my-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"border-bottom border-secondary text-center\",children:/*#__PURE__*/_jsx(\"h5\",{children:author.username})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-100 p-2\",children:props.commentObject.commentText})]})]})]}):/*#__PURE__*/_jsx(Loading,{});}export default CommentThumbnail;","map":{"version":3,"sources":["C:/Users/KarlP/new-app/client/src/components/thumbnails/CommentThumbnail.js"],"names":["React","useEffect","useState","Dropdown","DropdownButton","axios","Constants","Loading","Avatar","CommentThumbnail","props","author","setAuthor","userId","setUserId","commentObject","get","SERVER_URL","authorId","headers","localStorage","getItem","then","res","status","data","profileObject","catch","err","handleSelect","e","deleteCommentCallback","_id","avatarPostId","username","commentText"],"mappings":"gHAAA;AACA;AACA;AAEA;AAEA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,OAAQC,QAAR,CAAkBC,cAAlB,KAAuC,iBAAvC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAO,sBAAP,CACA,MAAO,GAAKC,CAAAA,SAAZ,KAA2B,uBAA3B,CAEA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,C,wFAGA,QAASC,CAAAA,gBAAT,CAA0BC,KAA1B,CAAiC,CAE7B,cAA4BR,QAAQ,CAAC,IAAD,CAApC,wCAAOS,MAAP,eAAeC,SAAf,eACA,eAA4BV,QAAQ,EAApC,yCAAOW,MAAP,eAAeC,SAAf,eAEA;AACAb,SAAS,CAAC,UAAM,CACZ,GAAIS,KAAK,CAACK,aAAN,EAAuB,IAA3B,CAAiC,CAC7BV,KAAK,CAACW,GAAN,WAAaV,SAAS,CAACW,UAAvB,8BAAsDP,KAAK,CAACK,aAAN,CAAoBG,QAA1E,EAAsF,CAACC,OAAO,CAC1F,CACI,iBAAkBC,YAAY,CAACC,OAAb,CAAqB,WAArB,CADtB,CADkF,CAAtF,EAKCC,IALD,CAKM,SAACC,GAAD,CAAS,CACX,GAAIA,GAAG,CAACC,MAAJ,GAAe,GAAnB,CAAuB,CACnBZ,SAAS,CAACW,GAAG,CAACE,IAAJ,CAASC,aAAV,CAAT,CACAZ,SAAS,CAACS,GAAG,CAACE,IAAJ,CAASZ,MAAV,CAAT,CACH,CACJ,CAVD,EAUGc,KAVH,CAUS,SAACC,GAAD,CAAS,CACd;AACH,CAZD,EAYG,CACN,CACJ,CAhBQ,CAgBN,CAAClB,KAAK,CAACK,aAAP,CAhBM,CAAT,CAkBA;AACA,GAAMc,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CACxB,GAAIA,CAAC,GAAK,QAAV,CAAmB,CACfpB,KAAK,CAACqB,qBAAN,CAA4BrB,KAAK,CAACK,aAAN,CAAoBiB,GAAhD,EACH,CACJ,CAJD,CAMA,MACIrB,CAAAA,MAAM,cACF,aAAK,SAAS,CAAC,8DAAf,wBACQ,YAAK,SAAS,CAAC,8BAAf,UACMA,MAAM,CAACqB,GAAP,GAAenB,MAAhB,cACG,KAAC,cAAD,EAAgB,KAAK,CAAC,EAAtB,CAAyB,EAAE,CAAC,uBAA5B,CAAoD,OAAO,CAAC,WAA5D,CAAwE,IAAI,CAAC,IAA7E,CAAkF,QAAQ,CAAEgB,YAA5F,uBACI,KAAC,QAAD,CAAU,IAAV,EAAe,QAAQ,CAAC,QAAxB,oBADJ,EADH,CAIC,EALN,EADR,cAQQ,aAAK,SAAS,CAAC,WAAf,wBACI,YAAK,SAAS,CAAC,eAAf,uBACI,KAAC,MAAD,EAAQ,YAAY,CAAElB,MAAM,CAACsB,YAA7B,EADJ,EADJ,cAII,aAAK,SAAS,CAAC,mBAAf,wBACI,YAAK,SAAS,CAAC,4CAAf,uBACI,oBAAKtB,MAAM,CAACuB,QAAZ,EADJ,EADJ,cAII,YAAK,SAAS,CAAC,WAAf,UACKxB,KAAK,CAACK,aAAN,CAAoBoB,WADzB,EAJJ,GAJJ,GARR,GADE,cAuBJ,KAAC,OAAD,IAxBN,CA2BH,CAED,cAAe1B,CAAAA,gBAAf","sourcesContent":["//Written by Karl Pollock, 2022.\r\n//KarlPollock91@gmail.com\r\n//www.karlpollock.com\r\n\r\n//CommentThumbnail.js displays the comments posted in the comment section including information about the user who posted it.\r\n\r\nimport React, {useEffect, useState} from 'react';\r\nimport {Dropdown, DropdownButton} from 'react-bootstrap';\r\nimport axios from 'axios';\r\n\r\nimport '../css/Thumbnail.css';\r\nimport * as Constants from '../../utils/constants';\r\n\r\nimport Loading from '../secondary/Loading';\r\nimport Avatar from '../thumbnails/Avatar';\r\n\r\n\r\nfunction CommentThumbnail(props) {\r\n\r\n    const [author, setAuthor] = useState(null);\r\n    const [userId, setUserId] = useState();\r\n\r\n    //Component hook to retrieve the profile of the comments author.\r\n    useEffect(() => {\r\n        if (props.commentObject != null) {\r\n            axios.get(`${Constants.SERVER_URL}/accounts/getUser/${props.commentObject.authorId}`, {headers: \r\n                {\r\n                    \"x-access-token\": localStorage.getItem(\"authToken\")\r\n                }\r\n            })\r\n            .then((res) => {\r\n                if (res.status === 200){\r\n                    setAuthor(res.data.profileObject); \r\n                    setUserId(res.data.userId);\r\n                }\r\n            }).catch((err) => {\r\n                //do nothing\r\n            });;\r\n        }\r\n    }, [props.commentObject]);\r\n\r\n    //Handles selection from the dropdown menu.\r\n    const handleSelect = (e) => {\r\n        if (e === \"delete\"){\r\n            props.deleteCommentCallback(props.commentObject._id);\r\n        }\r\n    }\r\n\r\n    return(\r\n        author ?\r\n            <div className=\"container thumbnail-wrapper w-90 m-2 border border-secondary\">\r\n                    <div className=\"position-absolute end-0 me-2\">\r\n                        {(author._id === userId) ?\r\n                            <DropdownButton title=\"\" id=\"dropdown-basic-button\" variant=\"secondary\" size=\"sm\" onSelect={handleSelect}>\r\n                                <Dropdown.Item eventKey=\"delete\">Delete</Dropdown.Item>\r\n                            </DropdownButton>\r\n                        : \"\"}\r\n                    </div>\r\n                    <div className=\"row h-100\">\r\n                        <div className=\"col-md-2 my-3\">\r\n                            <Avatar avatarPostId={author.avatarPostId}/>\r\n                        </div>\r\n                        <div className=\"col-md-10 my-auto\">\r\n                            <div className=\"border-bottom border-secondary text-center\">\r\n                                <h5>{author.username}</h5>\r\n                            </div>\r\n                            <div className=\"w-100 p-2\">\r\n                                {props.commentObject.commentText}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n            </div>\r\n        : <Loading/>\r\n\r\n    );\r\n}\r\n\r\nexport default CommentThumbnail;"]},"metadata":{},"sourceType":"module"}